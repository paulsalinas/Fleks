//     Fiber.min.js 1.0.3
//     @author: Kirollos Risk
//
//     Copyright (c) 2012 LinkedIn.
//     All Rights Reserved. Apache Software License 2.0
//     http://www.apache.org/licenses/LICENSE-2.0
!function(a){function d(a,b){var c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c])}function e(){}var b=!1,c=Array.prototype;previousFiber=a.Fiber,e.extend=function(a){function h(){b||"function"!=typeof this.init||(this.init.apply(this,arguments),delete this.init)}var g,c=this.prototype,f=a(c);return b=!0,g=h.prototype=new this,b=!1,d(f,g),g.constructor=h,h.__base__=c,h.extend=e.extend,h},e.proxy=function(a,b){var c,e,d={};1===arguments.length&&(b=a,a=b.constructor.__base__),e=function(c){return function(){return a[c].apply(b,arguments)}};for(c in a)a.hasOwnProperty(c)&&"function"==typeof a[c]&&(d[c]=e(c));return d},e.decorate=function(a){var b,e=a.constructor.__base__,f=c.slice.call(arguments,1),g=f.length;for(b=0;g>b;b++)d(f[b].call(a,e),a)},e.mixin=function(a){var b,e=a.__base__,f=c.slice.call(arguments,1),g=f.length;for(b=0;g>b;b++)d(f[b](e),a.prototype)},e.noConflict=function(){return a.Fiber=previousFiber,e},"undefined"!=typeof module?"function"==typeof module.setExports?module.setExports(e):module.exports&&(module.exports=e):a.Fiber=e}(this);!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("jSecure",e):t.jSecure=e()}(this,function(){"use strict";function t(){}function e(){return"undefined"==typeof document?!0:"textContent"in document.createElement("div")}function r(t){return t.indexOf("<")>-1||t.indexOf("&")>-1}function n(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function o(t){return t.reduce(function(t,e){return t.concat(e)},[])}function i(t){t=L(t)?t:[t];var e,r,n,o=0,i="<(?!/?";return i+="(?:",U(t,function(t,a){e=t.tags||y,r=t.attrs||E,n=t.checkUrlAttrs||!1,0!==a&&(i+="|"),i+="(?:"+e.join("|")+")",i+="(?:",i+=M,i+="|"+O,i+="(?:(?:",i+="(?:"+r+")(?:=([\"'])[^'\"<>]*\\"+ ++o+")?",n&&(i+="|(?:"+S+")=([\"'])(?:(?:"+_+")(?::|&#(?:58|x3a);)|(?:"+T+")|[/.#?]|&#(?:35|4[67]|63|x(?:2[3ef]|3f));)[^'\"<>]*\\"+ ++o),i+=")"+M+")+",i+=")"}),i+=")",i+="/?>)",new RegExp(i,"i")}function a(t){return t=t||y,i({tags:t,checkUrlAttrs:!0})}function l(){var t={tag:"li-icon",attrs:"active|color|size|type"};return i([{tags:y,checkUrlAttrs:!0},{tags:[t.tag],attrs:[h,t.attrs].join("|"),checkUrlAttrs:!1}])}function u(t,e){var r;e=e||{};var n=e.allowTags,o=e.hasCustomElementMarkup!==!1;return n?(r=a(n),!r.test(t)):o?!u.R_UNSAFE_CUSTOM_ELEMENT.test(t):!u.R_UNSAFE_HTML.test(t)}function c(t){return t.replace(/<[^>]*>|[<>'"&\\]/g,"")}function s(t,e,n){var o=e?d(t,e):t,i=t;return r(o)&&!u(o,n)&&(o=c(o),j("Content contains non-whitelisted tags or attributes:\nContent: "+i,"error")),o}function d(e,r){var n={};return e.replace(/\{([^}]+)\}/g,function(e,o){var i,a,l=e;if(n.hasOwnProperty(o))return n[o];if(r.hasOwnProperty(o)){if(l=r[o],i="string"==typeof l,a="number"==typeof l,!(i||l instanceof t||a))throw new Error("Only strings, numbers, and jSecure types are allowed as placeholder replacements.");l=i?A(l):l.toString()}return n[o]=l,l})}function f(t,e){for(var r=+e.length,n=0,o=t.length;r>n;n++)t[o++]=e[n];return t.length=o,t}function p(t,e){var r,n,o,i,a,l,u,c,s=e.createDocumentFragment(),d=[];for(l=0,c=t.length;c>l;l++)if(a=t[l],a||0===a)if("string"==typeof a){for(i=i||s.appendChild(e.createElement("div")),r=(k.exec(a)||["",""])[1].toLowerCase(),n=N[r]||N._default,o=n[1]+a+n[2],x.setElementContent(i,o),u=n[0];u--;)i.lastChild&&i.lastChild.nodeType===Node.ELEMENT_NODE&&(i=i.lastChild);f(d,i.childNodes),i=s.firstChild,i.textContent=""}else f(d,a.nodeType?[a]:a);for(s.textContent="",l=0,a=d[l];a;)s.appendChild(a),l++,a=d[l];return s}function g(t,e){e=e||document.implementation&&document.implementation.createHTMLDocument?document.implementation.createHTMLDocument(""):document;var r;if("string"==typeof t)r=p([t],e);else{if(!L(t))return t;r=p(t,e)}return f([],r.childNodes)}var h="aria-[a-z0-9_\\-]+|class|data-[a-z0-9_\\-]+|dir|id|role|tabindex",m="alt|checked|colgroup|cols|colspan|disabled|height|hidden|maxlength|method|multiple|name|placeholder|readonly|rel|required|rows|rowspan|spellcheck|target|title|width",b="border|caption|color|controls|coords|hreflang|label|lang|loop|marginheight|marginwidth|preload|reversed|type|usemap|clear|headers|ismap|start|datetime|accept|max|min|size|step",v=e()?"textContent":"innerText",w=["b","del","em","i","s","strong","sub","sup"],y=w.concat(["a","abbr","address","area","article","aside","audio","bdi","bdo","big","blockquote","br","button","center","cite","code","datalist","dd","details","dfn","div","dl","dt","fieldset","figcaption","figure","font","footer","h1","h2","h3","h4","h5","h6","header","hgroup","hr","img","ins","kbd","label","legend","li","map","mark","marquee","nav","nobr","ol","p","pre","q","rp","rt","ruby","samp","section","small","source","span","strike","table","tbody","td","tfoot","th","thead","time","tr","u","ul","var","video","wbr"]),E=[h,m,b].join("|"),S="href|src",T="data:image/(?:gif|jpg|jpeg|png);base64,",_="https?|ftp|mailto",C="&#?[a-zA-Z0-9]{1,10};",x=(new RegExp(C),{ALLOWED_TAGS:y,FORMATTING_TAGS:w}),j=x.log=function(t,e){if(e=e||"log",window&&window.jet&&"error"===e.toLowerCase())try{throw new Error(t)}catch(r){window.jet.error(r)}"undefined"!=typeof console&&"function"==typeof console[e]&&console[e](t)},A=(x.unsafe=function(t){return t},x.htmlEncode=function(){var t,e=/[&<>"'\u0000\\=]/g;return t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","\x00":"�","\\":"&#92;","=":"&#61;"},function(r){return null===r||void 0===r?null:r.toString().replace(e,function(e){return t[e]})}}()),L=(x.htmlUnencode=function(){function t(t){var r;return o.hasOwnProperty(t)?o[t]:(e.innerHTML="&"+t+";",r=e[v],o[t]=r,r)}var e,r,n=/&(?:([a-z0-9]+)|#x([\da-f]{1,6})|#(\d{1,8}));/gi;if("undefined"==typeof document)return function(){throw new Error("document is undefined (i.e. you are probably in Node.js)")};e=document.createElement("div");var o={nbsp:" ",lt:"<",gt:">",amp:"&",quot:'"'};return r="function"==typeof String.fromCodePoint?function(t){return String.fromCodePoint(t)}:function(t){return 65535>=t?String.fromCharCode(t):"�"},function(e){return null===e||void 0===e?null:(e+"").replace(n,function(e,n,o,i){return n?t(n):o||i?r(parseInt(o||i,o?16:10)||65533):"�"})}}(),x.reEncode=function(t){return x.htmlEncode(x.htmlUnencode(t))},x.text=function(t){return x.log("jSecure.text() is deprecated. Please use jSecure.htmlEncode().","warn"),x.htmlEncode(t)},Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}),U=function(){return Array.prototype.forEach?function(t,e){Array.prototype.forEach.call(t,e)}:function(t,e){for(var r=0,n=t.length;n>r;r++)e(t[r],r)}}(),M="[ 	\r\n]*",O="[ 	\r\n]+";u.R_UNSAFE_HTML=a(),u.R_UNSAFE_CUSTOM_ELEMENT=l();var N={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};N.optgroup=N.option,N.tbody=N.tfoot=N.colgroup=N.caption=N.thead,N.th=N.td;var k=/<([\w:]+)/;x.processTemplate=s,x.sanitizeHTML=function(t){return s(t)},x.setElementContent=function(t,e,n){var o=s(e,n);return r(o)?t.innerHTML=o:t[v]=o,o};x.parseHTML=g;var R=(x.parseSelector=function(t){var e=/^(?:\s*(<[\w\W]+>)[^>]*)$/;return"string"==typeof t&&e.test(t)?[]:t},x.UnsafeString=function(t,e){return this instanceof R?(e=e||{},e.allowTags=e.allowTags?o(e.allowTags):x.ALLOWED_TAGS,this._string=t,void(this._options=e)):new R(t,e)});R.prototype=n(new t,{toString:function(){var t=this._string,e=this._stringVal,r=t;return void 0!==e?e:(u(t,this._options)||(r=t,t=c(t),x.log("UnsafeString contains non-whitelisted tags or attributes.\nString: "+r,"error")),this._stringVal=t,t)}});var z="https?|ftp|mailto|tel|blob",H="[/.#?]",q=/ /g,P=/[\s\u0000<>"]|%00/,D=/[\\;]/,F=/([.]|%2e){2}/i,W=new RegExp("^(?:"+z+"|"+H+")"),G=(x.sanitizeUrl=function(t){var e=void 0,r="invalid://";if("string"!=typeof t)return x.log("jSecure Warning: url must be a string","error"),r;if(e=t.trim(),e.indexOf(" ")>-1&&x.log("jSecure Warning: url should not contain spaces: "+t,"warn"),e=e.replace(q,"+"),!W.test(e))return x.log("jSecure Error: URL should be absolute with allowed schemas, relative, a hash fragment or query string. "+t,"error"),r;if(P.test(e))return x.log("jSecure Error: not valid url character found in url: "+t,"error"),r;var n=e.split("?")[0];return D.test(n)||F.test(n)||F.test(decodeURI(n))?(x.log("jSecure Error: malicious data found in url path: "+n,"error"),r):t},x._redirect=function(t){window&&(window.location.href=t)},x.redirect=function(t){var e=void 0;e=x.sanitizeUrl(t),e===t&&x._redirect(e)},x);return G});/**
 * @license
 * Inject (c) 2011 LinkedIn [https://github.com/linkedin/inject] Apache Software License 2.0
 * lscache (c) 2011 Pamela Fox [https://github.com/pamelafox/lscache] Apache Software License 2.0
 * GoWithTheFlow.js (c) 2011 Jerome Etienne, [https://github.com/jeromeetienne/gowiththeflow.js] MIT License
 */
!function(context,undefined){function proxy(e,t){if(!t)throw Error("proxying requires a scope");if(!e)throw Error("proxying requires a function");return function(){return e.apply(t,arguments)}}function each(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n])}function addListener(e,t,n){window.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function getDomainName(e){return e.match(reURI)[3]}function sendMessage(e,t,n,r){r||(r={}),r=JSON.stringify(r),e.postMessage([n,r].join(":"),t)}var IS_IE=eval("/*@cc_on!@*/false");(function(){var e=navigator.userAgent.toLowerCase();-1!==e.indexOf("gecko")&&(IS_GK=!0)})();var FILE_STORAGE_TOKEN="INJECT",LSCACHE_SCHEMA_VERSION=1,LSCACHE_SCHEMA_VERSION_STRING="!version",LSCACHE_APP_KEY_STRING="!appCacheKey",AMD_DEFERRED="###DEFERRED###",NAMESPACE="Inject",FILE_SUFFIX_REGEX=/.*?\.(js|txt)(\?.*)?$/,BASIC_FILE_SUFFIX=".js",HOST_PREFIX_REGEX=/^https?:\/\//,HOST_SUFFIX_REGEX=/^(.*?)(\/.*|$)/,RESPONSE_SLICER_REGEX=/^(.+?)[\s]+([\w\W]+?)[\s]+([\w\W]+)$/m,FUNCTION_REGEX=/^[\s\(]*function[^\(]*\(([^)]*)\)/,FUNCTION_NEWLINES_REGEX=/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,FUNCTION_BODY_REGEX=/[\w\W]*?\{([\w\W]*)\}/m,WHITESPACE_REGEX=/\s+/g,REQUIRE_REGEX=RegExp("(?:^|[\\s;,=\\?:\\}\\)\\(])require[\\s]*\\(['\"]([^'\"]+?)['\"]\\)","gim"),DEFINE_REGEX=RegExp("(?:^|[\\s;,\\?\\}\\)\\(])define[\\s]*\\([\\w\\W]*?\\[([\\w\\W]*?)\\]","gim"),DEFINE_TERM_REGEX=RegExp("['\"]([\\w\\W]*?)['\"]","gim"),IS_AMD_REGEX=/(?:^|[\s]+)define[\s]*\(/g,BUILTINS={require:!0,exports:!0,module:!0},BUILTINS_REPLACE_REGEX=/[\s]|"|'|(require)|(exports)|(module)/g,GREEDY_REQUIRE_REXEX=/require.*/,JS_COMMENTS_REGEX=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,RELATIVE_PATH_REGEX=/^(\.{1,2}\/).+/,ABSOLUTE_PATH_REGEX=/^([A-Za-z]+:)?\/\//,PROTOCOL_REGEX=/:\/\//,PROTOCOL_STRING="://",PROTOCOL_EXPANDED_REGEX=/__INJECT_PROTOCOL_COLON_SLASH_SLASH__/,PROTOCOL_EXPANDED_STRING="__INJECT_PROTOCOL_COLON_SLASH_SLASH__",HAS_OWN_PROPERTY=Object.prototype.hasOwnProperty,HAS_LOCAL_STORAGE=function(){try{return localStorage.setItem("injectLStest","ok"),localStorage.removeItem("injectLStest"),!0}catch(e){return!1}}(),userConfig={moduleRoot:null,fileExpires:0,useSuffix:!0,xd:{relayFile:null},debug:{sourceMap:!1,logging:!1}},context=this,userModules={},isHostMethod=function(e,t){var n=typeof e[t];return"function"===n||!("object"!==n||!e[t])||"unknown"===n},debugLog=function(){};(function(){var e="undefined"!=typeof console&&console.log&&"function"==typeof console.log,t=function(e,t){userConfig.debug&&userConfig.debug.logging&&console.log("## "+e+" ##"+"\n"+t)};e&&(debugLog=t)})();var addListener,removeListener;(function(e){e.addEventListener?(addListener=function(e,t,n,r){e.addEventListener(t,n,r||!1)},removeListener=function(e,t,n,r){e.removeEventListener(t,n,r||!1)}):(addListener=function(e,t,n){e.attachEvent("on"+t,n)},removeListener=function(e,t,n){e.detachEvent("on"+t,n)})})(window);var commonJSHeader=["","__INJECT_NS__.INTERNAL.executor.__FUNCTION_ID__.fn = function() {","  with (window) {","    __INJECT_NS__.INTERNAL.executor.__FUNCTION_ID__.innerFn = function() {","      // id: __MODULE_ID__ uri: __MODULE_URI__","      var module = __INJECT_NS__.INTERNAL.executor.__FUNCTION_ID__.module,","          require = __INJECT_NS__.INTERNAL.executor.__FUNCTION_ID__.require,","          define = __INJECT_NS__.INTERNAL.executor.__FUNCTION_ID__.define,","          exports = module.exports;","      try{module.undefined_function();}catch(e){module.__error_line = e;}"].join("\n"),commonJSFooter=["","      __INJECT_NS__.INTERNAL.executor.__FUNCTION_ID__.module = module;","    };",'    __INJECT_NS__.INTERNAL.defineExecutingModuleAs("__MODULE_ID__", "__MODULE_URI__");',"    try {","      __INJECT_NS__.INTERNAL.executor.__FUNCTION_ID__.innerFn.call(__INJECT_NS__.INTERNAL.executor.__FUNCTION_ID__.module);","    }","    catch (__EXCEPTION__) {","      __INJECT_NS__.INTERNAL.executor.__FUNCTION_ID__.module.__error = __EXCEPTION__;","    }","    __INJECT_NS__.INTERNAL.undefineExecutingModule();","  }","};",""].join("\n");(function(){(function(e,t){"object"==typeof exports?module.exports=t(this):"function"==typeof define&&define.amd?define(function(){return t(e)}):e.Fiber=t(e)})(this,function(e){function t(e,t){var n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function n(){}var r=!1,o=Array.prototype,i=e.Fiber;return n.extend=function(e){function o(){r||(this.init.apply(this,arguments),this.init=void 0)}var i,u=this.prototype,s=e(u);return r=!0,i=o.prototype=new this,r=!1,i.init=function(){"function"==typeof u.init&&u.init.apply(this,arguments)},t(s,i),i.constructor=o,o.__base__=u,o.extend=o.prototype.extend||n.extend,o},n.proxy=function(e,t){var n,r,o={};1===arguments.length&&(t=e,e=t.constructor.__base__),r=function(n){return function(){return e[n].apply(t,arguments)}};for(n in e)e.hasOwnProperty(n)&&"function"==typeof e[n]&&(o[n]=r(n));return o},n.decorate=function(e){var n,r=e.constructor.__base__,i=o.slice.call(arguments,1),u=i.length;for(n=0;u>n;n++)t(i[n].call(e,r),e)},n.mixin=function(e){var n,r=e.__base__,i=o.slice.call(arguments,1),u=i.length;for(n=0;u>n;n++)t(i[n](r),e.prototype)},n.noConflict=function(){return e.Fiber=i,n},n})})();var Fiber=this.Fiber.noConflict(),Flow=function(){var e,t=[],n=setTimeout(function(){n=null,e._next()},0);return e={destroy:function(){n&&clearTimeout(n)},par:function(n,r){return!r&&t[t.length-1]instanceof Array||t.push([]),t[t.length-1].push(n),e},seq:function(t){return e.par(t,!0)},_next:function(n,r){for(var o=[],i=[],u=t.shift()||[],s=u.length,a=1==s,c=0;u.length>c;c++)(function(t,u){t(function(t,n){o[u]=t,i[u]=n,0==--s&&e._next(a?o[0]:o,a?i[0]:i)},n,r)})(u[c],c)}}},lscache=function(){function e(){if(void 0!==o)return o;try{n("__lscachetest__","__lscachetest__"),r("__lscachetest__"),o=!0}catch(e){o=!1}return o}function t(){return void 0===i&&(i=null!=window.JSON),i}function n(e,t){localStorage.removeItem(u+a+e),localStorage.setItem(u+a+e,t)}function r(e){localStorage.removeItem(u+a+e)}var o,i,u="lscache-",s=Math.floor(144e9),a="";return{set:function(o,i,c){if(e()){if("string"!=typeof i){if(!t())return;try{i=JSON.stringify(i)}catch(l){return}}try{n(o,i)}catch(f){if("QUOTA_EXCEEDED_ERR"!==f.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==f.name)return;for(var d,h=[],g=0;localStorage.length>g;g++)if(d=localStorage.key(g),0===d.indexOf(u+a)&&0>d.indexOf("-cacheexpiration")){d=d.substr((u+a).length);var p=localStorage.getItem(u+a+(d+"-cacheexpiration")),p=p?parseInt(p,10):s;h.push({key:d,size:(localStorage.getItem(u+a+d)||"").length,expiration:p})}for(h.sort(function(e,t){return t.expiration-e.expiration}),g=(i||"").length;h.length&&g>0;)d=h.pop(),r(d.key),r(d.key+"-cacheexpiration"),g-=d.size;try{n(o,i)}catch(_){return}}c?n(o+"-cacheexpiration",(Math.floor((new Date).getTime()/6e4)+c).toString(10)):r(o+"-cacheexpiration")}},get:function(n){if(!e())return null;var o=n+"-cacheexpiration",i=localStorage.getItem(u+a+o);if(i&&(i=parseInt(i,10),Math.floor((new Date).getTime()/6e4)>=i))return r(n),r(o),null;if(n=localStorage.getItem(u+a+n),!n||!t())return n;try{return JSON.parse(n)}catch(s){return n}},remove:function(t){return e()?(r(t),r(t+"-cacheexpiration"),undefined):null},supported:function(){return e()},flush:function(){if(e())for(var t=localStorage.length-1;t>=0;--t){var n=localStorage.key(t);0===n.indexOf(u+a)&&localStorage.removeItem(n)}},setBucket:function(e){a=e},resetBucket:function(){a=""}}}();(function(){var e;HAS_LOCAL_STORAGE&&lscache&&(lscache.setBucket(FILE_STORAGE_TOKEN),e=lscache.get(LSCACHE_SCHEMA_VERSION_STRING),e&&e>0&&LSCACHE_SCHEMA_VERSION>e&&(lscache.flush(),lscache.set(LSCACHE_SCHEMA_VERSION_STRING,LSCACHE_SCHEMA_VERSION)))})();var reURI=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,getXHR=function(){for(var e=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],t=!1,n=0;e.length>n;n++){try{e[n](),t=e[n]}catch(r){continue}break}return t}(),Analyzer;(function(){var e=Fiber.extend(function(){return{init:function(){},stripBuiltins:function(e){var t=[],n=e.length,r=0;for(r;n>r;r++)BUILTINS[e[r]]||t.push(e[r]);return t},extractRequires:function(e){var t,n,r,o=[],i={require:1,module:1,exports:1};if(!e)return[];for(e=e.replace(JS_COMMENTS_REGEX,"");t=REQUIRE_REGEX.exec(e);)r=t[1],i[r]||(i[r]=1,o.push(r));for(;t=DEFINE_REGEX.exec(e);)for(;n=DEFINE_TERM_REGEX.exec(t[1]);)r=n[1],i[r]||(i[r]=1,o.push(r));return o}}});Analyzer=new e})();var Communicator;(function(){var e=Fiber.extend(function(){function e(){var e=d;d=[],h={};for(var t=0,n=e.length;n>t;t++)sendMessage(c.contentWindow,userConfig.xd.relayFile,"fetch",{url:e[t]})}function t(e){h[e]||(h[e]=1,d.push(e))}function n(){f||(f=!0,addListener(window,"message",function(t){var n,r,o;if(userConfig.xd.relayFile&&getDomainName(t.origin)===getDomainName(userConfig.xd.relayFile))switch(n=t.data.split(/:/),r=n.shift()){case"ready":l=!1,e();break;case"fetchFail":case"fetchOk":o=JSON.parse(n.join(":")),u(o.url,o.status,o.responseText)}}))}function r(){downloadCompleteQueue={}}function o(e,t){return userConfig.fileExpires>0?lscache.set(e,t,userConfig.fileExpires):null}function i(e){return userConfig.fileExpires>0?lscache.get(e):null}function u(e,t,n){t=1*t,debugLog("Communicator ("+e+")","status "+t+". Length: "+(n?n.length:"NaN")),200!==t||userConfig.xd.relayFile||o(e,n),200!==t&&(n="throw new Error('Error "+t+": Unable to retrieve "+e+"');"),each(downloadCompleteQueue[e],function(e){e(n)}),downloadCompleteQueue[e]=[]}function s(e){if(n(),c&&!l)sendMessage(c.contentWindow,userConfig.xd.relayFile,"fetch",{url:e});else{if(c&&l)return t(e),undefined;l=!0,t(e);var r=userConfig.xd.relayFile;c=document.createElement("iframe"),r+=0>r.indexOf("?")?"?":"&",r+="injectReturn="+encodeURIComponent(location.href),c.src=r,c.style.visibility="hidden",c.style.border=0,c.style.width="1px",c.style.height="1px",c.style.left="-5000px",c.style.top="-5000px",c.style.opacity="0",window.setTimeout(function(){document.body.firsChild?document.body.insertBefore(c,document.body.firstChild):document.body.appendChild(c)})}}function a(e){var t=getXHR();t.open("GET",e),t.onreadystatechange=function(){4===t.readyState&&u(e,t.status,t.responseText)},t.send(null)}var c,l,f=!1,d=[],h={};return{init:function(){this.clearCaches()},clearCaches:function(){r()},noop:function(e,t,n){n("")},get:function(e,t,n){if(downloadCompleteQueue[t]||(downloadCompleteQueue[t]=[]),debugLog("Communicator ("+t+")","requesting"),!userConfig.xd.relayFile){var r=i(t);if(r)return debugLog("Communicator ("+t+")","retireved from cache. length: "+r.length),n(r),undefined}return debugLog("Communicator ("+t+")","queued"),downloadCompleteQueue[t].length?(downloadCompleteQueue[t].push(n),debugLog("Communicator ("+t+")","request already in progress"),undefined):(downloadCompleteQueue[t].push(n),userConfig.xd.relayFile?(s(t),undefined):(a(t),undefined))}}});Communicator=new e})();var Executor;(function(){function hasOwnProperty(e,t){return{}.prototype.hasOwnProperty.call(e,t)}function executeJavaScriptModule(code,functionId){var meta=context.Inject.INTERNAL.executor[functionId],module=meta.module,failed=!1,sourceString=IS_IE?"":"//@ sourceURL="+module.uri,result,err;code=[code,sourceString].join("\n");try{eval(code)}catch(ex){ex.message="Parse error in "+module.id+" ("+module.uri+") please check for an uncaught error "+ex.message;var scr=document.createElement("script");return scr.src=module.uri,scr.type="text/javascript",docHead.appendChild(scr),{__error:ex}}if(userConfig.debug.sourceMap){var toExec=code.replace(/([\w\W]+?)=([\w\W]*\})[\w\W]*?$/,"$1 = ($2)();");toExec=[toExec,sourceString].join("\n"),eval(toExec),module.__error&&(module.__error.message="Runtime error in "+module.id+"("+module.uri+") "+module.__error.message)}else context.Inject.INTERNAL.executor[functionId].fn(),module.__error&&(module.__error.message="Runtime error in "+module.id+"("+module.uri+") "+module.__error.message)}var moduleFailureCache={},docHead=!1;try{docHead=document.getElementsByTagName("head")[0]}catch(e){docHead=!1}var stacknorm={mode:function(e){if(e.arguments&&e.stack)return"chrome";if(e.stack&&e.sourceURL)return"safari";if(e.stack&&e.number)return"ie";if(e.stack&&e.fileName)return"firefox";if(e.message&&e["opera#sourceloc"])return e.stacktrace?e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?"opera9":"opera10a":"opera9";if(e.message&&e.stack&&e.stacktrace)return 0>e.stacktrace.indexOf("called from line")?"opera10b":"opera11";if(e.stack&&!e.fileName){var t=/:[\d]+:[\d]+\)?(\n|$)/;return t.test(e.stack)?"chrome":"phantom"}return"other"},chrome:function(e){return(e.stack+"\n").replace(/^\s+(at eval )?at\s+/gm,"").replace(/^([^\(]+?)([\n$])/gm,"{anonymous}() ($1)$2").replace(/^Object.<anonymous>\s*\(([^\)]+)\)/gm,"{anonymous}() ($1)").replace(/^(.+) \((.+)\)$/gm,"$1@$2").split("\n").slice(1,-1)},phantom:function(e){return(e.stack+"\n").replace(/^\s+(at eval )?at\s+/gm,"").replace(/^([^\(]+?)([\n$])/gm,"{anonymous}() ($1)$2").replace(/^Object.<anonymous>\s*\(([^\)]+)\)/gm,"{anonymous}() ($1)").replace(/^(.+) \((.+)\)$/gm,"$1@$2").replace(/(.+):([0-9]+)(\)?)/g,"$1:$2:0$3").split("\n").slice(1,-1)},safari:function(e){return e.stack.replace(/\[native code\]\n/m,"").replace(/^(?=\w+Error\:).*$\n/m,"").replace(/^@/gm,"{anonymous}()@").split("\n")},ie:function(e){return e.stack.replace(/^\s*at\s+(.*)$/gm,"$1").replace(/^Anonymous function\s+/gm,"{anonymous}() ").replace(/^(.+)\s+\((.+)\)$/gm,"$1@$2").split("\n").slice(1)},firefox:function(e){return e.stack.replace(/(?:\n@:0)?\s+$/m,"").replace(/^(?:\((\S*)\))?@/gm,"{anonymous}($1)@").split("\n")},opera11:function(e){for(var t="{anonymous}",n=/^.*line (\d+), column (\d+)(?: in (.+))? in (\S+):$/,r=e.stacktrace.split("\n"),o=[],i=0,u=r.length;u>i;i+=2){var s=n.exec(r[i]);if(s){var a=s[4]+":"+s[1]+":"+s[2],c=s[3]||"global code";c=c.replace(/<anonymous function: (\S+)>/,"$1").replace(/<anonymous function>/,t),o.push(c+"@"+a+" -- "+r[i+1].replace(/^\s+/,""))}}return o},opera10b:function(e){for(var t=/^(.*)@(.+):(\d+)$/,n=e.stacktrace.split("\n"),r=[],o=0,i=n.length;i>o;o++){var u=t.exec(n[o]);if(u){var s=u[1]?u[1]+"()":"global code";r.push(s+"@"+u[2]+":"+u[3])}}return r},opera10a:function(e){for(var t="{anonymous}",n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=e.stacktrace.split("\n"),o=[],i=0,u=r.length;u>i;i+=2){var s=n.exec(r[i]);if(s){var a=s[3]||t;o.push(a+"()@"+s[2]+":"+s[1]+" -- "+r[i+1].replace(/^\s+/,""))}}return o},opera9:function(e){for(var t="{anonymous}",n=/Line (\d+).*script (?:in )?(\S+)/i,r=e.message.split("\n"),o=[],i=2,u=r.length;u>i;i+=2){var s=n.exec(r[i]);s&&o.push(t+"()@"+s[2]+":"+s[1]+" -- "+r[i+1].replace(/^\s+/,""))}return o},other:function(e){for(var t,n,r="{anonymous}",o=/function\s*([\w\-$]+)?\s*\(/i,i=[],u=10;e&&e.arguments&&u>i.length;)t=o.test(""+e)?RegExp.$1||r:r,n=Array.prototype.slice.call(e.arguments||[]),i[i.length]=t+"("+this.stringifyArguments(n)+")",e=e.caller;return i}},AsStatic=Fiber.extend(function(){var e=0;return{init:function(){this.clearCaches()},clearCaches:function(){this.cache={},this.errors={},this.anonymousAMDStack=[]},defineExecutingModuleAs:function(e,t){return this.anonymousAMDStack.push({id:e,path:t})},undefineExecutingModule:function(){return this.anonymousAMDStack.pop()},getCurrentExecutingAMD:function(){return this.anonymousAMDStack[this.anonymousAMDStack.length-1]},getFromCache:function(e){var t,n,r,o,i,u,s,a,c,l,f=RulesEngine.getOriginalName(e);if(HAS_OWN_PROPERTY.call(this.errors,e)&&this.errors[e]?t=this.errors[e]:f&&HAS_OWN_PROPERTY.call(this.errors,f)&&this.errors[f]&&(t=this.errors[f]),this.cache[e]?r=this.cache[e]:f&&this.cache[f]&&(this.cache[e]=this.cache[f],r=this.cache[f]),t)throw n="module "+e+" failed to load successfully",n+=t?": "+t.message:"",r&&r.__error_line&&(o=stacknorm.mode(t),i=stacknorm[o](t),u=stacknorm[o](r.__error_line),s=i[0].split(/:/),a=u[0].split(/:/),c=s[s.length-2]-a[a.length-2],c-=1,l=s[s.length-1],n=n+" @ Line: "+c+" Column: "+l+" "),t.message=n,t;return r||null},createModule:function(e,t,n){var r;return!/\!/.test(e)&&this.cache[e]?(this.cache[t]=this.cache[e],this.cache[e]):(r={},r.id=e||null,r.qualifiedId=t||null,r.uri=n||null,r.exports={},r.exec=!1,r.setExports=function(e){var t;for(t in r.exports)if(Object.hasOwnProperty.call(r.exports,t))return debugLog("cannot setExports when exports have already been set. setExports skipped"),undefined;switch(typeof e){case"object":for(t in e)r.exports[t]=e[t];break;case"function":r.exports=e;break;default:r.exports=e}},/\!/.test(e)||(this.cache[e]=r),this.cache[t]=r,r)},getModule:function(e,t){return this.getFromCache(e)||t},runModule:function(t,n){function r(e){return e.replace(/__MODULE_ID__/g,t.id).replace(/__MODULE_URI__/g,t.uri).replace(/__FUNCTION_ID__/g,o).replace(/__INJECT_NS__/g,NAMESPACE)}debugLog("Executor","executing "+t.uri);var o="exec"+e++,i={};context.Inject.INTERNAL.executor[o]=i,i.module=t,i.require=RequireContext.createRequire(t.id,t.uri,t.qualifiedId),i.define=RequireContext.createInlineDefine(t,i.require);var u=r(commonJSHeader),s=r(commonJSFooter),a=[u,";",n,s].join("\n");executeJavaScriptModule(a,o),t.__error&&(debugLog("Executor","broken",t.id,t.uri,t.exports),this.errors[t.id]=t.__error),debugLog("Executor","executed",t.id,t.uri,t.exports)}}});Executor=new AsStatic})();var InjectCore;(function(){var e=Fiber.extend(function(){return{init:function(){},plugin:function(e,t,n,r){RulesEngine.addRule(RegExp("^"+e+"!"),t),r.plugins=r.plugins||{},r.plugins[e]=n},setModuleRoot:function(e){userConfig.moduleRoot=e},setCrossDomain:function(e){userConfig.xd.relayFile=e.relayFile||null},setUseSuffix:function(e){userConfig.useSuffix=e},clearCache:function(){HAS_LOCAL_STORAGE&&lscache&&lscache.flush()},setExpires:function(e){userConfig.fileExpires=e||0},setCacheKey:function(e){var t;return HAS_LOCAL_STORAGE&&lscache?(t=lscache.get(LSCACHE_APP_KEY_STRING),(!e&&t||null!==t&&t!==e||null===t&&e)&&(lscache.flush(),lscache.set(LSCACHE_APP_KEY_STRING,e)),undefined):!1},reset:function(){this.clearCache(),Executor.clearCaches(),Communicator.clearCaches()},enableDebug:function(e,t){userConfig.debug[e]=t||!0}}});InjectCore=new e})();var RequireContext=Fiber.extend(function(){return{init:function(e,t,n){this.id=e||null,this.path=t||null,this.qualifiedId=n||null},log:function(e){debugLog("RequireContext for "+this.path,e)},getPath:function(){if(!userConfig.moduleRoot)throw Error("moduleRoot must be defined. Please use Inject.setModuleRoot()");return this.path||userConfig.moduleRoot},getId:function(){return this.id||""},require:function(e,t){var n,r,o;if("string"==typeof e){if(this.log("CommonJS require(string) of "+e),/^[\d]+$/.test(e))throw Error("require() must be a string containing a-z, slash(/), dash(-), and dots(.)");if(r=RulesEngine.resolveModule(e,this.getId()),o=RequireContext.qualifiedId(r,this.qualifiedId),o&&(n=Executor.getModule(o)),n||(n=Executor.getModule(r)),!n)throw Error("module "+e+" is not available");if(n.__error)throw n.__error;return n.exports}this.log("AMD require(Array) of "+e.join(", "));var i=[];this.ensure(e,proxy(function(n){for(var r=0,o=e.length;o>r;r++)switch(e[r]){case"require":i.push(n);break;case"module":case"exports":throw Error("require(array, callback) doesn't create a module. You cannot use module/exports here");default:i.push(n(e[r]))}t.apply(context,i)},this))},ensure:function(e,t){if("[object Array]"!==Object.prototype.toString.call(e))throw Error("require.ensure() must take an Array as the first argument");this.log("CommonJS require.ensure(array) of "+e.join(", ")),e=Analyzer.stripBuiltins(e);var require=proxy(this.require,this);this.process(e,function(){"function"==typeof t&&t(require)})},run:function(e){this.log("AMD require.run(string) of "+e),this.ensure([e])},define:function(){var e,t,n=Array.prototype.slice.call(arguments,0),r=null,o=["require","exports","module"],i=!1,u={},s={"string array object":["id","dependencies","factory"],"string object":["id","factory"],"array object":["dependencies","factory"],object:["factory"]},a=[];for(t=0,len=n.length;len>t;t++)"[object Array]"===Object.prototype.toString.apply(n[t])?a.push("array"):"object"==typeof n[t]||"function"==typeof n[t]?a.push("object"):a.push(typeof n[t]);if(a=a.join(" "),!s[a])throw Error("You did not use an AMD compliant interface. Please check your define() calls");for(a=s[a],t=0,len=a.length;len>t;t++)switch(e=n[t],a[t]){case"id":r=e;break;case"dependencies":o=e,i=!0;break;case"factory":u=e}if(!r){if(currentExecutingAMD=Executor.getCurrentExecutingAMD(),!currentExecutingAMD)throw Error("Anonymous AMD module used, but it was not included as a dependency. This is most often caused by an anonymous define() from a script tag.");r=currentExecutingAMD.id,this.log("AMD identified anonymous module as "+r)}this.process(r,o,function(e){if(e.data.resolvedId){for(var t,n=[],r=i?o:["require","exports","module"],require=RequireContext.createRequire(e.data.resolvedId,e.data.resolvedUrl),s=Executor.createModule(e.data.resolvedId,RequireContext.qualifiedId(e),e.data.resolvedUrl),a=0,c=r.length;c>a;a++)switch(r[a]){case"require":n.push(require);break;case"module":n.push(s);break;case"exports":n.push(s.exports);break;default:n.push(require(r[a]))}"function"==typeof u?(t=u.apply(s,n),t&&(s.exports=t)):"object"==typeof u&&(s.exports=u),s.amd=!0,s.exec=!0}})},process:function(e){var t,n,r;"string"!=typeof e?(t=this.id,n=arguments[0],r=arguments[1]):(t=arguments[0],n=arguments[1],r=arguments[2]);var o,u,s=new TreeNode,a=n.length,c=[],l=function(){(0===a||0===--a)&&(u=new TreeRunner(s),u.execute(function(){r(s)}))};if(s.data.originalId=t,s.data.resolvedId=t,s.data.resolvedUrl=RulesEngine.resolveFile(t,this.path),n.length)for(i=0,len=n.length;len>i;i++)BUILTINS[n[i]]?l():(o=new TreeNode,o.data.originalId=n[i],s.addChild(o),Executor.getModule(n[i])?l():Executor.getModule(RequireContext.qualifiedId(RulesEngine.resolveModule(o.data.originalId,s.data.resolvedId),o))?l():(u=new TreeRunner(o),c.push(u),u.download(l)));else l()}}});RequireContext.createRequire=function(e,t,n){var r=new RequireContext(e,t,n),require=proxy(r.require,r);return require.ensure=proxy(r.ensure,r),require.run=proxy(r.run,r),require.toUrl=function(n){var r=RulesEngine.resolveModule(n,e),o=RulesEngine.resolveFile(r,t,!0);return o},require},RequireContext.createDefine=function(e,t,n){var r=new RequireContext(e,t),define=proxy(r.define,r);return define.amd=n?!1:{},define},RequireContext.qualifiedId=function(e,t){var n=[];return"string"==typeof e?t?[e,t].join("(from)"):e:(e.parents(function(e){e.data.resolvedId&&n.push(e.data.resolvedId)}),n.join("(from)"))},RequireContext.createInlineDefine=function(e,require){var define=function(){function t(e){return"[object Array]"===Object.prototype.toString.call(e)}for(var n,r=[],o=["require","exports","module"],i={},u=0,s=arguments.length;s>u;u++)if(t(arguments[u])){o=arguments[u];break}i=arguments[arguments.length-1];for(var a=0,c=o.length;c>a;a++)switch(o[a]){case"require":r.push(require);break;case"module":r.push(e);break;case"exports":r.push(e.exports);break;default:r.push(require(o[a]))}"function"==typeof i?(n=i.apply(e,r),n&&(e.exports=n)):"object"==typeof i&&(e.exports=i),e.amd=!0,e.exec=!0};return define.amd={},define};var RulesEngine;(function(){var e=/^\/+/g,t=function(e){return e=e.split("/"),e.pop(),e=e.join("/")},n=Fiber.extend(function(){return{init:function(){this.clearRules()},clearRules:function(){this.moduleRules=[],this.fileRules=[],this.contentRules=[],this.fetchRules=[],this.aliasRules={},this.revAliasRules={},this.dirty={moduleRules:!0,fileRules:!0,contentRules:!0,fetchRules:!0,aliasRules:!0,revAliasRules:!0},this.caches={moduleRules:{},fileRules:{},contentRules:{},fetchRules:{},aliasRules:{},revAliasRules:{}},this.addRuleCounter=0,this.addRulePointcuts={}},add:function(e,t,n,r){this.dirty[e]=!0,r=r||{};var o=r.weight||this[e].length,i=r.last||!1;this[e].push({matches:t,fn:"function"==typeof n?n:function(){return n},weight:o,last:i,all:r})},clearCache:function(e){this.caches[e]={}},sort:function(e){this.dirty[e]&&(this.clearCache(e),this[e].sort(function(e,t){return t.weight-e.weight}),this.dirty[e]=!1)},getDeprecatedPointcuts:function(e){return this.addRulePointcuts[e]||[]},addRule:function(e,t,n){n||(n=t,t=null),n||(n={}),"string"==typeof n&&(n={path:n}),n.weight||(n.weight=this.addRuleCounter++),n.path?this.addFileRule(e,n.path,{weight:n.weight,last:n.last,useSuffix:n.useSuffix,afterFetch:n.pointcuts&&n.pointcuts.afterFetch?n.pointcuts.afterFetch:null}):n.pointcuts&&n.pointcuts.afterFetch&&this.addContentRule(e,n.pointcuts.afterFetch,{weight:n.weight})},addModuleRule:function(e,t,n){return this.add("moduleRules",e,t,n)},addFileRule:function(e,t,n){return this.add("fileRules",e,t,n)},addContentRule:function(e,t,n){return this.add("contentRules",e,t,n)},addFetchRule:function(e,t,n){return this.add("fetchRules",e,t,n)},addPackage:function(e,t){if(this.dirty.aliasRules=!0,this.revAliasRules[e])throw Error("An alias can only map back to 1 origin");this.aliasRules[e]||(this.aliasRules[e]=[]),this.aliasRules[e].push(t),this.revAliasRules[t]=e},resolveModule:function(n,r){n=n||"",r=r||"",this.sort("moduleRules");var o,i,u=n,s=0,a=this.moduleRules,c=a.length,l=!1;for(s;c>s&&(o=a[s].matches,i=a[s].fn,l=!1,"string"==typeof o?o===n&&(l=!0):"function"==typeof o.test&&(l=o.test(n)),!l||(u=i(u),!o.last));s++);return u=u.replace(e,""),0!==u.indexOf(".")&&(r=null),r&&(r=t(r)),u=this.getRelative(u,r),u=u.replace(e,""),this.caches.moduleRules[n]=u,u},resolveFile:function(e,t,n){e=e||"",t=t||"",this.sort("fileRules");var r,o,i=e,u=0,s=this.fileRules,a=s.length,c=!1,l=[];for(u;a>u&&(r=s[u].matches,o=s[u].fn,c=!1,"string"==typeof r?r===e&&(c=!0):"function"==typeof r.test&&(c=r.test(e)),!c||(i=o(i),s[u].all&&s[u].all.afterFetch&&l.push(s[u].all.afterFetch),!s[u].last));u++);return userConfig.moduleRoot||"undefined"==typeof console||"function"!=typeof console.log||console.log("Without moduleRoot defined, Inject will default to the URL of the current page. This may cause unexpected behavior"),i?(t&&!userConfig.baseDir?(t=t.replace(PROTOCOL_REGEX,PROTOCOL_EXPANDED_STRING).split("/"),t[t.length-1]&&1!==t.length&&t.pop(),t=t.join("/").replace(PROTOCOL_EXPANDED_REGEX,PROTOCOL_STRING)):t=t?userConfig.baseDir(t):userConfig.moduleRoot?userConfig.moduleRoot:location.pathname,ABSOLUTE_PATH_REGEX.test(i)?(this.caches.fileRules[e]=i,i):(t=t.replace(PROTOCOL_REGEX,PROTOCOL_EXPANDED_STRING),i=i.replace(PROTOCOL_REGEX,PROTOCOL_EXPANDED_STRING),i=/\?/.test(t)?t+i:this.getRelative(i,t),i=i.replace(PROTOCOL_EXPANDED_REGEX,PROTOCOL_STRING),n||!userConfig.useSuffix||FILE_SUFFIX_REGEX.test(i)||(i+=BASIC_FILE_SUFFIX),this.addRulePointcuts[i]=l,this.caches.fileRules[e]=i,i)):(this.addRulePointcuts[i]=l,this.caches.fileRules[e]=i,i)},getAliases:function(e){return this.aliasRules[e]||[]},getOriginalName:function(e){return this.revAliasRules[e]||null},getFetchRules:function(e){this.sort("fetchRules");var t,n,r=0,o=this.fetchRules,i=o.length,u=!1,s=[];for(r;i>r;r++)t=o[r].matches,n=o[r].fn,u=!1,"string"==typeof t?t===e&&(u=!0):"function"==typeof t.test&&(u=t.test(e)),u&&s.push(n);return this.caches.contentRules[e]=s,s},getContentRules:function(e){this.sort("contentRules");var t,n,r=0,o=this.contentRules,i=o.length,u=!1,s=[],a=!1,c=this.addRulePointcuts[e]||[];for(r;i>r;r++)t=o[r].matches,n=o[r].fn,u=!1,"string"==typeof t?t===e&&(u=!0):"function"==typeof t.test&&(u=t.test(e)),u&&s.push(n);return each(c,function(e){a=!1,each(s,function(t){t===e&&(a=!0)}),a||s.push(e)}),this.caches.contentRules[e]=s,s},getRelative:function(e,t){var n,r,o=[];if(t=t||"",ABSOLUTE_PATH_REGEX.test(e))return e;n=[].concat(t.split("/"),e.split("/"));for(var i=0,u=n.length;u>i;i++)if(r=n[i],!("."===r||""===r&&i>0))if(".."===r){if(0===o.length)throw Error("could not traverse higher than highest path: "+e+", "+t);o.pop()}else o.push(r);return o=o.join("/")}}});RulesEngine=new n})();var TreeRunner=Fiber.extend(function(){function e(e){var t=e.data,n=e.getParent()?e.getParent().data:null,r=RulesEngine.getFetchRules(t.resolvedId),o=new Flow,i={module:function(){return RulesEngine.resolveModule.apply(RulesEngine,arguments)},url:function(){return RulesEngine.resolveFile.apply(RulesEngine,arguments)}},u={get:function(){return Communicator.get.apply(Communicator,arguments)}},s=function(e){o.seq(function(r,o,s){e(r,s,i,u,{moduleId:t.originalId,parentId:n?n.originalId:"",parentUrl:n?n.resolvedUrl:""})})};return Executor.getModule(t.resolvedId)?function(e,t,n){n("")}:Executor.getModule(RequireContext.qualifiedId(e))?function(e,t,n){n("")}:r.length>0?function(e,t,n){var i=0,u=r.length;for(o.seq(function(e){e(null,"")}),i;u>i;i++)s(r[i]);o.seq(function(e,t,r){n(r)})}:Communicator.get}function t(e,t){var r,o,i=Analyzer.extractRequires(e.data.file),u=i.length,s=0,a=u,c=function(){u--,0===u&&t()},l=function(e){n(function(){e.download(c)})};if(!i.length)return t();for(s;a>s;s++)r=new TreeNode,r.data.originalId=i[s],e.addChild(r),Executor.getModule(i[s])&&Executor.getModule(i[s]).exec?c():(o=new TreeRunner(r),l(o))}var n=function(){function e(){var e=o;for(o=[],s=!1,fn=e.shift();fn;)fn(),fn=e.shift()}function t(e){o.push(e),s||(s=!0,n())}var n,r,o=[],i=!!window.postMessage,u="inject-nexttick",s=!1;return i?(n=function(){window.postMessage(u,"*")},r=function(t){t.source==window&&t.data===u&&(t.stopPropagation?t.stopPropagation():t.returnValue=!1,e())},t.listener=addListener(window,"message",r,!0)):(n=function(){window.setTimeout(function(){r()},0)},r=e),t.removeListener=function(){removeListener(window,"message",r,!0)},t}();return{init:function(e){this.root=e},download:function(n){var r,o=this.root,i=o.data,u=o.getParent();i.resolvedId=u?RulesEngine.resolveModule(i.originalId,u.data.resolvedId):RulesEngine.resolveModule(i.originalId,""),i.resolvedUrl=RulesEngine.resolveFile(i.resolvedId),r=e(o),r(i.originalId,i.resolvedUrl,function(e){var r=RulesEngine.getContentRules(i.resolvedUrl),s=new Flow,a=0,c=r.length;for(addContent=function(e){s.seq(function(t,n,r){e(t,r)})},s.seq(function(t){t(null,e)}),a;c>a;a++)addContent(r[a]);s.seq(function(e,r,s){var a,c=!1,l={},f=u;for("string"==typeof s?i.file=s:i.exports=s,l[i.originalId]=!0;f&&!c;)l[f.data.originalId]?c=!0:(l[f.data.originalId]=!0,f=f.getParent());i.circular=c,i.exports?(a=Executor.createModule(i.resolvedId,RequireContext.qualifiedId(o),i.resolvedUrl),a.exec=!0,a.exports=s,n()):i.circular?n():t(o,n)})})},execute:function(e){var t=this.root.postOrder(),n=t.length,r=0,o=function(e){var t,n=e.data;n.resolvedId&&(t=Executor.createModule(n.resolvedId,RequireContext.qualifiedId(e),n.resolvedUrl),n.module=t,t.exec||n.circular||(n.exports?(t.exports=n.exports,t.exec=!0):"string"==typeof n.file&&(Executor.runModule(t,n.file),t.exec=!0,t.amd||(n.exports=t.exports))))};for(r;n>r;r++)o(t[r]);e()}}}),TreeNode=Fiber.extend(function(){return{init:function(){this.data={},this.children=[],this.left=null,this.right=null,this.parent=null},addChild:function(e){var t;return this.children.length>0&&(t=this.children[this.children.length-1],e.setLeft(t),t.setRight(e)),this.children.push(e),e.setParent(this)},getChildren:function(){return this.children},setLeft:function(e){return this.left=e,this.left},getLeft:function(){return this.left},setRight:function(e){return this.right=e,this.right},getRight:function(){return this.right},setParent:function(e){return this.parent=e,this.parent},getParent:function(){return this.parent},parents:function(e){for(var t=[],n=this;n;)e&&e(n),t.push(n),n=n.getParent();return t},postOrder:function(e){for(var t=this,n=null,r=[];t;)if(t.getChildren().length>0&&"up"!==n)n="down",t=t.getChildren()[0];else if(r.push(t),e&&e(t),t.getRight())n="right",t=t.getRight();else{if(!t.getParent())return r;n="up",t=t.getParent()}}}});TreeNode=TreeNode;var globalRequire=new RequireContext,errorQueue=[];
context.Inject={INTERNAL:{Classes:{Analyzer:Analyzer,Communicator:Communicator,Executor:Executor,InjectCore:InjectCore,RequireContext:RequireContext,RulesEngine:RulesEngine,TreeNode:TreeNode,TreeRunner:TreeRunner},defineExecutingModuleAs:proxy(Executor.defineExecutingModuleAs,Executor),undefineExecutingModule:proxy(Executor.undefineExecutingModule,Executor),executor:{},globalRequire:globalRequire},plugins:{},reset:proxy(InjectCore.reset,InjectCore),enableDebug:function(){InjectCore.enableDebug.apply(this,arguments)},onError:function(e){errorQueue.push(e)},emit:function(e){for(var t=0,n=errorQueue.length;n>t;t++)errorQueue[t].call(context,e)},enableAMDPlugins:function(){RulesEngine.addFetchRule(/^.+?\!.+$/,function(e,t,n,r,o){var i=o.moduleId,u=o.parentId,s=o.parentUrl,a=i.split("!"),c=n.module(a[0],u);n.url(c,s);var l=a[1],f=RequireContext.createRequire(u,s),d=!1,h=function(){return d?undefined:f.apply(f,arguments)},g=function(e){h[e]=function(){return f[e].apply(f,arguments)}};for(var p in f)HAS_OWN_PROPERTY.call(f,p)&&g(p);var _=function(e){return n.module(e,u)};f([c],function(t){var n=t.normalize?t.normalize(l,_):_(l),r=function(t){d||(d=!0,"string"==typeof t&&(t=['module.exports = decodeURIComponent("',encodeURIComponent(t),'");'].join("")),e(null,t))};r.fromText=function(t,n){d||(d=!0,n||(n=t,t=null),e(null,n))},t.load(n,h,r,{})})})},setModuleRoot:function(){InjectCore.setModuleRoot.apply(this,arguments)},setExpires:function(){InjectCore.setExpires.apply(this,arguments)},setCacheKey:function(){InjectCore.setCacheKey.apply(this,arguments)},setCrossDomain:function(){InjectCore.setCrossDomain.apply(this,arguments)},setUseSuffix:function(e){InjectCore.setUseSuffix(e)},disableGlobalAMD:function(e){context.define=e?RequireContext.createDefine(null,null,!0):RequireContext.createDefine()},clearCache:proxy(InjectCore.clearCache,InjectCore),addRule:function(){RulesEngine.addRule.apply(RulesEngine,arguments)},addModuleRule:function(){RulesEngine.addModuleRule.apply(RulesEngine,arguments)},addFileRule:function(){RulesEngine.addFileRule.apply(RulesEngine,arguments)},addContentRule:function(){RulesEngine.addContentRule.apply(RulesEngine,arguments)},addFetchRule:function(){RulesEngine.addFetchRule.apply(RulesEngine,arguments)},addPackage:function(){RulesEngine.addPackage.apply(RulesEngine,arguments)},plugin:function(){var e=[].slice.call(arguments,0);e.push(context.Inject),InjectCore.plugin.apply(InjectCore,e)},require:RequireContext.createRequire(),define:RequireContext.createDefine(),version:"undefined"},context.require=context.Inject.require,context.define=context.Inject.define,context.Inject.version="0.6.1"}(this);(function(){function f(b){this.txt=b}var a=document.createElement("style"),g=!1,c="",h;a.type="text/css";h=!!a.styleSheet;f.prototype.attach=function(){Inject.plugins.css.addStyles(this.txt)};Inject.addFetchRule(/^css\!.+$/,function(b,a,d,c,e){a=e.moduleId.replace(/^css!\s*/,"");a=d.module(a,e.parentId);d=d.url("css!"+a,e.parentUrl,!0);c.get(a,d,function(a){b(null,["",['var cssText \x3d decodeURIComponent("',encodeURIComponent(a),'");'].join(""),"module.setExports(Inject.plugins.css.create(cssText))\n"].join("\n"))})});
Inject.plugins.css={create:function(a){return new f(a)},addStyles:function(b){h?(c+=b,a.styleSheet.cssText=c):a.appendChild(document.createTextNode(b));g||(g=!0,document.getElementsByTagName("head")[0].appendChild(a))}}})();(function(){Inject.setModuleRoot(LI.JSContentBasePath+"\x26f\x3d");Inject.setUseSuffix(!1);LI.staticUrlHashEnabled||Inject.setExpires(0);Inject.setCrossDomain({relayFile:LI.injectRelayHtmlUrl});Inject.addFileRule(/.*$/,function(a){0===a.indexOf("css!")&&(a=a.replace("css!",""),a=LI.CSSContentBasePath+"\x26f\x3d"+a+"_"+LI.i18n.getLocale().value);return a})})();//     Underscore.js 1.6.0
//     http://underscorejs.org
//     (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.
(function(){var n=this,t=n._,r={},e=Array.prototype,u=Object.prototype,i=Function.prototype,a=e.push,o=e.slice,c=e.concat,l=u.toString,f=u.hasOwnProperty,s=e.forEach,p=e.map,h=e.reduce,v=e.reduceRight,g=e.filter,d=e.every,m=e.some,y=e.indexOf,b=e.lastIndexOf,x=Array.isArray,w=Object.keys,_=i.bind,j=function(n){return n instanceof j?n:this instanceof j?void(this._wrapped=n):new j(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=j),exports._=j):n._=j,j.VERSION="1.6.0";var A=j.each=j.forEach=function(n,t,e){if(null==n)return n;if(s&&n.forEach===s)n.forEach(t,e);else if(n.length===+n.length){for(var u=0,i=n.length;i>u;u++)if(t.call(e,n[u],u,n)===r)return}else for(var a=j.keys(n),u=0,i=a.length;i>u;u++)if(t.call(e,n[a[u]],a[u],n)===r)return;return n};j.map=j.collect=function(n,t,r){var e=[];return null==n?e:p&&n.map===p?n.map(t,r):(A(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)};var O="Reduce of empty array with no initial value";j.reduce=j.foldl=j.inject=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=j.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(A(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(O);return r},j.reduceRight=j.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),v&&n.reduceRight===v)return e&&(t=j.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(i!==+i){var a=j.keys(n);i=a.length}if(A(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(O);return r},j.find=j.detect=function(n,t,r){var e;return k(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},j.filter=j.select=function(n,t,r){var e=[];return null==n?e:g&&n.filter===g?n.filter(t,r):(A(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},j.reject=function(n,t,r){return j.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},j.every=j.all=function(n,t,e){t||(t=j.identity);var u=!0;return null==n?u:d&&n.every===d?n.every(t,e):(A(n,function(n,i,a){return(u=u&&t.call(e,n,i,a))?void 0:r}),!!u)};var k=j.some=j.any=function(n,t,e){t||(t=j.identity);var u=!1;return null==n?u:m&&n.some===m?n.some(t,e):(A(n,function(n,i,a){return u||(u=t.call(e,n,i,a))?r:void 0}),!!u)};j.contains=j.include=function(n,t){return null==n?!1:y&&n.indexOf===y?n.indexOf(t)!=-1:k(n,function(n){return n===t})},j.invoke=function(n,t){var r=o.call(arguments,2),e=j.isFunction(t);return j.map(n,function(n){return(e?t:n[t]).apply(n,r)})},j.pluck=function(n,t){return j.map(n,j.property(t))},j.where=function(n,t){return j.filter(n,j.matches(t))},j.findWhere=function(n,t){return j.find(n,j.matches(t))},j.max=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);var e=-1/0,u=-1/0;return A(n,function(n,i,a){var o=t?t.call(r,n,i,a):n;o>u&&(e=n,u=o)}),e},j.min=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);var e=1/0,u=1/0;return A(n,function(n,i,a){var o=t?t.call(r,n,i,a):n;u>o&&(e=n,u=o)}),e},j.shuffle=function(n){var t,r=0,e=[];return A(n,function(n){t=j.random(r++),e[r-1]=e[t],e[t]=n}),e},j.sample=function(n,t,r){return null==t||r?(n.length!==+n.length&&(n=j.values(n)),n[j.random(n.length-1)]):j.shuffle(n).slice(0,Math.max(0,t))};var E=function(n){return null==n?j.identity:j.isFunction(n)?n:j.property(n)};j.sortBy=function(n,t,r){return t=E(t),j.pluck(j.map(n,function(n,e,u){return{value:n,index:e,criteria:t.call(r,n,e,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={};return r=E(r),A(t,function(i,a){var o=r.call(e,i,a,t);n(u,o,i)}),u}};j.groupBy=F(function(n,t,r){j.has(n,t)?n[t].push(r):n[t]=[r]}),j.indexBy=F(function(n,t,r){n[t]=r}),j.countBy=F(function(n,t){j.has(n,t)?n[t]++:n[t]=1}),j.sortedIndex=function(n,t,r,e){r=E(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;r.call(e,n[o])<u?i=o+1:a=o}return i},j.toArray=function(n){return n?j.isArray(n)?o.call(n):n.length===+n.length?j.map(n,j.identity):j.values(n):[]},j.size=function(n){return null==n?0:n.length===+n.length?n.length:j.keys(n).length},j.first=j.head=j.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:0>t?[]:o.call(n,0,t)},j.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},j.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},j.rest=j.tail=j.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},j.compact=function(n){return j.filter(n,j.identity)};var M=function(n,t,r){return t&&j.every(n,j.isArray)?c.apply(r,n):(A(n,function(n){j.isArray(n)||j.isArguments(n)?t?a.apply(r,n):M(n,t,r):r.push(n)}),r)};j.flatten=function(n,t){return M(n,t,[])},j.without=function(n){return j.difference(n,o.call(arguments,1))},j.partition=function(n,t){var r=[],e=[];return A(n,function(n){(t(n)?r:e).push(n)}),[r,e]},j.uniq=j.unique=function(n,t,r,e){j.isFunction(t)&&(e=r,r=t,t=!1);var u=r?j.map(n,r,e):n,i=[],a=[];return A(u,function(r,e){(t?e&&a[a.length-1]===r:j.contains(a,r))||(a.push(r),i.push(n[e]))}),i},j.union=function(){return j.uniq(j.flatten(arguments,!0))},j.intersection=function(n){var t=o.call(arguments,1);return j.filter(j.uniq(n),function(n){return j.every(t,function(t){return j.contains(t,n)})})},j.difference=function(n){var t=c.apply(e,o.call(arguments,1));return j.filter(n,function(n){return!j.contains(t,n)})},j.zip=function(){for(var n=j.max(j.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;n>r;r++)t[r]=j.pluck(arguments,""+r);return t},j.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},j.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=j.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}if(y&&n.indexOf===y)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},j.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(b&&n.lastIndexOf===b)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},j.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i};var R=function(){};j.bind=function(n,t){var r,e;if(_&&n.bind===_)return _.apply(n,o.call(arguments,1));if(!j.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));R.prototype=n.prototype;var u=new R;R.prototype=null;var i=n.apply(u,r.concat(o.call(arguments)));return Object(i)===i?i:u}},j.partial=function(n){var t=o.call(arguments,1);return function(){for(var r=0,e=t.slice(),u=0,i=e.length;i>u;u++)e[u]===j&&(e[u]=arguments[r++]);for(;r<arguments.length;)e.push(arguments[r++]);return n.apply(this,e)}},j.bindAll=function(n){var t=o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return A(t,function(t){n[t]=j.bind(n[t],n)}),n},j.memoize=function(n,t){var r={};return t||(t=j.identity),function(){var e=t.apply(this,arguments);return j.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},j.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},j.defer=function(n){return j.delay.apply(j,[n,1].concat(o.call(arguments,1)))},j.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:j.now(),a=null,i=n.apply(e,u),e=u=null};return function(){var l=j.now();o||r.leading!==!1||(o=l);var f=t-(l-o);return e=this,u=arguments,0>=f?(clearTimeout(a),a=null,o=l,i=n.apply(e,u),e=u=null):a||r.trailing===!1||(a=setTimeout(c,f)),i}},j.debounce=function(n,t,r){var e,u,i,a,o,c=function(){var l=j.now()-a;t>l?e=setTimeout(c,t-l):(e=null,r||(o=n.apply(i,u),i=u=null))};return function(){i=this,u=arguments,a=j.now();var l=r&&!e;return e||(e=setTimeout(c,t)),l&&(o=n.apply(i,u),i=u=null),o}},j.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=n.apply(this,arguments),n=null,t)}},j.wrap=function(n,t){return j.partial(t,n)},j.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},j.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},j.keys=function(n){if(!j.isObject(n))return[];if(w)return w(n);var t=[];for(var r in n)j.has(n,r)&&t.push(r);return t},j.values=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},j.pairs=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},j.invert=function(n){for(var t={},r=j.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},j.functions=j.methods=function(n){var t=[];for(var r in n)j.isFunction(n[r])&&t.push(r);return t.sort()},j.extend=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},j.pick=function(n){var t={},r=c.apply(e,o.call(arguments,1));return A(r,function(r){r in n&&(t[r]=n[r])}),t},j.omit=function(n){var t={},r=c.apply(e,o.call(arguments,1));for(var u in n)j.contains(r,u)||(t[u]=n[u]);return t},j.defaults=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]===void 0&&(n[r]=t[r])}),n},j.clone=function(n){return j.isObject(n)?j.isArray(n)?n.slice():j.extend({},n):n},j.tap=function(n,t){return t(n),n};var S=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof j&&(n=n._wrapped),t instanceof j&&(t=t._wrapped);var u=l.call(n);if(u!=l.call(t))return!1;switch(u){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;var a=n.constructor,o=t.constructor;if(a!==o&&!(j.isFunction(a)&&a instanceof a&&j.isFunction(o)&&o instanceof o)&&"constructor"in n&&"constructor"in t)return!1;r.push(n),e.push(t);var c=0,f=!0;if("[object Array]"==u){if(c=n.length,f=c==t.length)for(;c--&&(f=S(n[c],t[c],r,e)););}else{for(var s in n)if(j.has(n,s)&&(c++,!(f=j.has(t,s)&&S(n[s],t[s],r,e))))break;if(f){for(s in t)if(j.has(t,s)&&!c--)break;f=!c}}return r.pop(),e.pop(),f};j.isEqual=function(n,t){return S(n,t,[],[])},j.isEmpty=function(n){if(null==n)return!0;if(j.isArray(n)||j.isString(n))return 0===n.length;for(var t in n)if(j.has(n,t))return!1;return!0},j.isElement=function(n){return!(!n||1!==n.nodeType)},j.isArray=x||function(n){return"[object Array]"==l.call(n)},j.isObject=function(n){return n===Object(n)},A(["Arguments","Function","String","Number","Date","RegExp"],function(n){j["is"+n]=function(t){return l.call(t)=="[object "+n+"]"}}),j.isArguments(arguments)||(j.isArguments=function(n){return!(!n||!j.has(n,"callee"))}),"function"!=typeof/./&&(j.isFunction=function(n){return"function"==typeof n}),j.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},j.isNaN=function(n){return j.isNumber(n)&&n!=+n},j.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==l.call(n)},j.isNull=function(n){return null===n},j.isUndefined=function(n){return n===void 0},j.has=function(n,t){return f.call(n,t)},j.noConflict=function(){return n._=t,this},j.identity=function(n){return n},j.constant=function(n){return function(){return n}},j.property=function(n){return function(t){return t[n]}},j.matches=function(n){return function(t){if(t===n)return!0;for(var r in n)if(n[r]!==t[r])return!1;return!0}},j.times=function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},j.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},j.now=Date.now||function(){return(new Date).getTime()};var T={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};T.unescape=j.invert(T.escape);var I={escape:new RegExp("["+j.keys(T.escape).join("")+"]","g"),unescape:new RegExp("("+j.keys(T.unescape).join("|")+")","g")};j.each(["escape","unescape"],function(n){j[n]=function(t){return null==t?"":(""+t).replace(I[n],function(t){return T[n][t]})}}),j.result=function(n,t){if(null==n)return void 0;var r=n[t];return j.isFunction(r)?r.call(n):r},j.mixin=function(n){A(j.functions(n),function(t){var r=j[t]=n[t];j.prototype[t]=function(){var n=[this._wrapped];return a.apply(n,arguments),z.call(this,r.apply(j,n))}})};var N=0;j.uniqueId=function(n){var t=++N+"";return n?n+t:t},j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;j.template=function(n,t,r){var e;r=j.defaults({},r,j.templateSettings);var u=new RegExp([(r.escape||q).source,(r.interpolate||q).source,(r.evaluate||q).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(D,function(n){return"\\"+B[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),i=o+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o}if(t)return e(t,j);var c=function(n){return e.call(this,n,j)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},j.chain=function(n){return j(n).chain()};var z=function(n){return this._chain?j(n).chain():n};j.mixin(j),A(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=e[n];j.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],z.call(this,r)}}),A(["concat","join","slice"],function(n){var t=e[n];j.prototype[n]=function(){return z.call(this,t.apply(this._wrapped,arguments))}}),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return j})}).call(this);
(function(h){var s=[].slice,g=h.requires("underscore"),l=h.imports("Backbone"),d=l&&l.Events;if(!d){var d={on:function(b,c,a){if(!m(this,"on",b,[c,a])||!c)return this;this._events=this._events||{};(this._events[b]||(this._events[b]=[])).push({callback:c,context:a,ctx:a||this});return this},once:function(b,c,a){if(!m(this,"once",b,[c,a])||!c)return this;var e=this,f=g.once(function(){e.off(b,f);c.apply(this,arguments)});f._callback=c;return this.on(b,f,a)},off:function(b,c,a){var e,f,d,k,n,h,p,l;if(!this._events||
!m(this,"off",b,[c,a]))return this;if(!b&&!c&&!a)return this._events={},this;k=b?[b]:g.keys(this._events);n=0;for(h=k.length;n<h;n++)if(b=k[n],d=this._events[b]){this._events[b]=e=[];if(c||a)for(p=0,l=d.length;p<l;p++)f=d[p],(c&&c!==f.callback&&c!==f.callback._callback||a&&a!==f.context)&&e.push(f);e.length||delete this._events[b]}return this},trigger:function(b){if(!this._events)return this;var c=s.call(arguments,1);if(!m(this,"trigger",b,c))return this;var a=this._events[b],e=this._events.all;a&&
q(a,c);e&&q(e,arguments);return this},stopListening:function(b,c,a){var e=this._listeners;if(!e)return this;var f=!c&&!a;"object"===typeof c&&(a=this);b&&((e={})[b._listenerId]=b);for(var d in e)e[d].off(c,a,this),f&&delete this._listeners[d];return this}},r=/\s+/,m=function(b,c,a,e){if(!a)return!0;if("object"===typeof a){for(var f in a)b[c].apply(b,[f,a[f]].concat(e));return!1}if(r.test(a)){a=a.split(r);f=0;for(var d=a.length;f<d;f++)b[c].apply(b,[a[f]].concat(e));return!1}return!0},q=function(b,
c){var a,e=-1,f=b.length,d=c[0],k=c[1],g=c[2];switch(c.length){case 0:for(;++e<f;)(a=b[e]).callback.call(a.ctx);break;case 1:for(;++e<f;)(a=b[e]).callback.call(a.ctx,d);break;case 2:for(;++e<f;)(a=b[e]).callback.call(a.ctx,d,k);break;case 3:for(;++e<f;)(a=b[e]).callback.call(a.ctx,d,k,g);break;default:for(;++e<f;)(a=b[e]).callback.apply(a.ctx,c)}};g.each({listenTo:"on",listenToOnce:"once"},function(b,c){d[c]=function(a,c,d){var h=this._listeners||(this._listeners={}),k=a._listenerId||(a._listenerId=
g.uniqueId("l"));h[k]=a;"object"===typeof c&&(d=this);a[b](c,d,this);return this}});g.each(g.keys(d),function(b){d[b]=g.bind(d[b],d)})}d.bind=d.on;d.unbind=d.off;d.fire=d.trigger;h.exports("Events",d)})(LIModules);LI.define("BaseControl");
LI.BaseControl=Fiber.extend(function(){return{init:function(a,c){var b=this,d=new $.Deferred,e=function(a){var b=_.functions(a);_.each(b,function(b){a[b]=_.bind(a[b],a)})};this._$el=$(a);this._observableEmitter=$({});this._state={};this._config=this._config||c||{};this.isReady=d.promise();this.beforeInit();this.beforeDecoration();this.decorate().pipe(function(){e(b)}).pipe(function(){b.afterDecoration()}).pipe(function(){b.beforeLoad()}).pipe(function(){if(b._config.dependencies)return b.loadDependencies()}).pipe(function(a){b.afterLoad(a)}).pipe(function(){b.attachEventListeners()}).pipe(function(){b.afterInit()}).pipe(function(){d.resolve()})},destroy:function(){this.detachEventListeners()},
state:function(a,c,b){var d=[].slice.call(arguments,0),e,g={},f=[],h=null;if("undefined"===typeof d[1]){if("undefined"===typeof d[0]){for(e in this._state)this._state.hasOwnProperty(e)&&(g[e]=this._state[e].value);return g}if("string"===typeof d[0])return this._state.hasOwnProperty(d[0])?this._state[d[0]].value:b}if("object"===typeof d[0])for(e in d[0])!d[0].hasOwnProperty(e)||!d[1]&&this._state.hasOwnProperty(e)||(this._setState(e,d[0][e]),f.push(e));"string"===typeof d[0]&&(this._setState(d[0],
d[1]),f.push(d[0]));d=0;for(e=f.length;d<e;d++)h=this._state[f[d]],this._observableEmitter.trigger(f[d],{newValue:h.value,oldValue:h.lastValue,revision:h.rev})},_setState:function(a,c){"undefined"===typeof this._state[a]?this._state[a]={rev:0,value:c,lastValue:void 0}:(this._state[a].rev++,this._state[a].lastValue=this._state[a].value,this._state[a].value=c)},observe:function(a,c){this._observableEmitter.on(a,c);return this},unobserve:function(a,c){this._observableEmitter.off(a,c);return this},beforeInit:function(){},
beforeDecoration:function(){},decorate:function(){return this._config.decorators?this.loadDependencies(this._config.decorators).pipe(_.bind(this._applyDecorators,this)):$.Deferred().resolve().promise()},_applyDecorators:function(a){_.each(this._config.decorators,function(c){if("function"!==typeof a(c))throw new TypeError("Decorator ("+c+") is not a function");Fiber.decorate(this,a(c))},this)},afterDecoration:function(){},beforeLoad:function(){},afterLoad:function(){},attachEventListeners:function(){},
detachEventListeners:function(){},afterInit:function(){},onResolve:function(){},before:function(a,c){var b=this;this.isReady.pipe(function(){b[a]=_.wrap(b[a],function(a){var e=Array.prototype.slice.apply(arguments,[1]);"string"===typeof c?b[c].apply(b,e):c.apply(b,e);return a.apply(b,e)})})},after:function(a,c){var b=this;this.isReady.pipe(function(){b[a]=_.wrap(b[a],function(a){var e=Array.prototype.slice.apply(arguments,[1]),g=a.apply(b,e);"string"===typeof c?b[c].apply(b,e):c.apply(b,e);return g})})},
clobber:function(a,c){var b=this;this.isReady.pipe(function(){b[a]=_.bind(c,b)})},loadDependencies:function(a){var c=new $.Deferred;a=a||this._config.dependencies||[];require.ensure(a,function(a){c.resolve(a)});return c.promise()},loadCss:function(a){var c=new $.Deferred;require.ensure(a,function(b){_.each(a,function(a){b(a).attach()});c.resolve()});return c.promise()}}});/*! talkin 1.3.1 */
window.LI||(window.LI={}),LI.TalkIn=LI.Talkin||function(n){"use strict";function t(){var n=w.domain.split(".").slice(-2).join(".");return w.domain!==n?(w.domain=n,!0):!1}function r(n){for(var t=v.length,r=p(n);t--;)if(v[t]===r)return!0;return!1}function e(){n.addEventListener?(s=function(n,t,r){n.addEventListener(t,r,!1)},l=function(n,t,r){n.removeEventListener(t,r)}):n.attachEvent&&(s=function(n,t,r){n.attachEvent("on"+t,r)},l=function(n,t,r){n.detachEvent("on"+t,r)})}function i(n){return k.call(n)===g}function o(n,t){var r,e,f;if(i(n))for(r in n)o(r,n[r]);else r=n.split("."),e=r[0],f=a.hasOwnProperty(e)?a[e]:null,r.length>1?(e=r[1],f.hasOwnProperty(e)&&f[e](t)):f(t)}function f(t){var e,i=t.data;if(r(t.origin))if(L)if(i===h)a=LI.TalkIn.endpoints,t.source.postMessage(h,t.origin);else try{e=JSON.parse(i),o(e)}catch(s){}else if(!u&&i===h)for(u=t.origin,l(n,d,f),c&&(n.clearInterval(c),c=null);N.length;)LI.TalkIn.send(N.pop())}var c,a,u,s,l,h="__READY__",d="message",g="[object Object]",v=["f640W4X7ZDRDfPdwPRkQXzbNt2Q","+lus2RBkJ7GswWZiaRZwr2YCWSE","w/Cq9ectx60qdy04zfYE9z05C/c","Nv8UVtK4cvfsZjnR37q4cl6FELo","zVp+SXlpBxy9ceDhF/QhJIMZ/8w","ipnp/j05RxfRo66icU7vJlMRYwk","nsN0FYX3oxPXHFo7F61hk3BLmgw","qOB2HzNYRUAtmrFigAFhhIdKZX8","ft6Qf4NlUr+igYY6o7gL3U9PAzA","r/LByGpOBknQftv1+tpZONO+1e8","UN2TmDNo1h5c+Bty9q7GqXYZ94Y","ilgaq1nh7Zup+ZAk5SgZPeLQKAE","j/jyhrBSfizuVEh/YcNna4pJlBM","4rlVmy8S5DGns8N9yQ1S1zxQfyg","oYU1rheOj0XNs4hgDNyodd2YW8w","wC3CbUDuIqAJmcb/jGre+Rlb4T4","+3DJhQPlY5rBArZfhlWss5X0P+I","JDYCNYT++v4sSG+FZL1+BAkzkGs","ue5T9aOY34YF+XnDD5Drnf5MOMg","Mfoz2r9CRt9122j7jy7TL5Fs5Dg"],p=function(){function n(n){return c(t(f(n),n.length*u))}function t(n,t){var f,c,a,u,s,l,h,d,g=[80],v=1732584193,p=-271733879,w=-1732584194,I=271733878,L=-1009589776;for(n[t>>5]|=128<<24-t%32,n[(t+64>>9<<4)+15]=t,l=0;n.length>l;l+=16){for(f=v,c=p,a=w,u=I,s=L,h=0;80>h;h++)g[h]=16>h?n[l+h]:o(g[h-3]^g[h-8]^g[h-14]^g[h-16],1),d=i(i(o(v,5),r(h,p,w,I)),i(i(L,g[h]),e(h))),L=I,I=w,w=o(p,30),p=v,v=d;v=i(v,f),p=i(p,c),w=i(w,a),I=i(I,u),L=i(L,s)}return[v,p,w,I,L]}function r(n,t,r,e){return 20>n?t&r|~t&e:40>n?t^r^e:60>n?t&r|t&e|r&e:t^r^e}function e(n){return 20>n?1518500249:40>n?1859775393:60>n?-1894007588:-899497514}function i(n,t){var r=(65535&n)+(65535&t),e=(n>>16)+(t>>16)+(r>>16);return e<<16|65535&r}function o(n,t){return n<<t|n>>>32-t}function f(n){var t,r=[],e=(1<<u)-1;for(t=0;n.length*u>t;t+=u)r[t>>5]|=(n.charCodeAt(t/u)&e)<<32-u-t%32;return r}function c(n){var t,r,e,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o="";for(r=0;4*n.length>r;r+=3)for(t=(255&n[r>>2]>>8*(3-r%4))<<16|(255&n[r+1>>2]>>8*(3-(r+1)%4))<<8|255&n[r+2>>2]>>8*(3-(r+2)%4),e=0;4>e;e++)o+=8*r+6*e>32*n.length?a:i.charAt(63&t>>6*(3-e));return o}var a="",u=8;return function(t){return n(t)}}(),w=n.document,I=n.top,L=n.window===I,Y=void 0!==n.webkitURL,y=void 0!==n.postMessage,k=Object.prototype.toString,N=[];if(e(),L)y&&s(n,d,f);else{if(!Y)try{a=I.LI.TalkIn.endpoints}catch(D){try{t()&&(a=I.LI.TalkIn.endpoints)}catch(O){}}y&&!a&&s(n,d,f)}return{endpoints:{},register:function(n,t){var r,e,o=this.endpoints;if(n&&t&&t instanceof Object)if(o[n]&&i(t)){r=o[n];for(e in t)r[e]=t[e]}else o[n]=t},VERSION:"1.3.1"}}(window);LI.TalkIn.register("ads",function(t){"use strict";function e(t){var e;if(!t)throw Error("ExpandableContainer requires a config object. Refer to the API for details.");return e=this.getOrSetCache(t.containerId),e.expandData?e:t.width||t.height||t.top?e.configure(t):void 0}var n=t.document;return e.prototype={UNIT:"px",MIN_ZINDEX:5,MAX_ZINDEX:1e4,ATTRIBUTES:["left","width","height","top"],_cache:{},getOrSetCache:function(t){var e=this._cache,n=e[t];return n?n:(e[t]=this,this)},configure:function(e){var n=this.container=this.getElement(e.containerId),i=this.containerStyle=n.style,a=e.delta,o={},r={};return o.width=n.offsetWidth,o.height=n.offsetHeight,r.width=+((a&&e.width?o.width:0)+(e.width||o.width||n.width)),r.height=+((a&&e.height?o.height:0)+(e.height||o.height||n.height)),e.top&&(o.top=n.offsetTop,r.top=+((a?o.top:0)+e.top),r.height+=-1*r.top),e.push||(this.detach(o),o.left=parseInt(i.left,10),r.left=o.left-(r.width-o.width)),this.animation=t.$&&t.$().animate&&e.animate,this.setStateData(o,r),e.forget&&(this.forget=!0),this.parentZIndex=this.getStyle("z-index",n.parentNode),this},setStateData:function(t,e){for(var n,i=this.UNIT,a=this.ATTRIBUTES.slice(0);a.length;)n=a.pop(),t[n]===e[n]?(delete t[n],delete e[n]):(t[n]+=i,e[n]+=i);t.zIndex=this.MIN_ZINDEX,e.zIndex=this.MAX_ZINDEX,this.collapseData=t,this.expandData=e},getElement:function(t){return isNaN(t)?n.getElementById(t):this.getElementByTileId(t)},getElementByTileId:function(t){for(var e,i,a=/(;tile|&ti)=\d/g,o=n.getElementsByTagName("iframe"),r=o.length;r--;)if(e=o[r],i=e.src.match(a),i&&i[0].slice(i[0].indexOf("=")+1)===t)return e;return null},getStyle:function(e,n){if(n=n||this.container,n&&e){if(t.getComputedStyle)return t.getComputedStyle(n).getPropertyValue(e);if(n.currentStyle)return n.currentStyle[this.camelize(e)]}return""},camelize:function(t){return t.replace(/\-[a-z]/g,function(t){return t[1].toUpperCase()})},detach:function(t){var e=this.container,n=this.containerStyle;this.placeholder||(e.parentNode.insertBefore(this.createPlaceholder(t),e.nextSibling),n.position="absolute",n.top=e.offsetTop+this.UNIT,n.left=e.offsetLeft+this.UNIT,n.zIndex=this.MIN_ZINDEX)},createPlaceholder:function(t){var e=this.placeholder=n.createElement("div"),i=e.style,a=this.getStyle("display");return i.width=t.width+this.UNIT,i.height=t.height+this.UNIT,i.display="inline"===a?"inline-block":a,e},expand:function(){var t=this.expandData;this.animation?(this.containerStyle.display="",this.containerStyle.zIndex=t.zIndex,this.animate(t)):this.resize(t),this.forget&&(delete this.forget,this.expandData=null)},collapse:function(){var t=this.collapseData;this.animation?this.animate(t):this.resize(t)},resize:function(t){var e,n=this.containerStyle;for(e in t)n[e]=t[e];isNaN(this.parentZIndex)||(this.container.parentNode.style.zIndex=t.zIndex===this.MAX_ZINDEX?this.MAX_ZINDEX:this.parentZIndex)},animate:function(e){t.$(this.container).animate(e,this.animation)}},{ExpandableContainer:e,initialize:function(t){return new e(t)},expand:function(t){this.initialize(t).expand()},collapse:function(t){this.initialize(t).collapse()}}}(window));/*Package: dust-li-experimental; Version: 3.0.13*/

(function(global) { global.liDustVersion = 'Package: dust-li-experimental; Version: 3.0.13';})(this);

!function(a,b){var c=b();a.t8=c,"undefined"!=typeof exports&&(module.exports=c)}(this,function(){"use strict";var a={},b=function(){function a(a){var b,c=/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:.(\d+))?(Z|[+-]\d{2})(?::(\d{2}))?/,d=a.match(c),e=0;if(!d)return null;for(b=d.length;b>e;e++)d[e]=~~d[e];return new Date(Date.UTC(d[1],d[2]-1,d[3],d[4],d[5],d[6],d[7])+6e4*(60*d[8]+d[9]))}function b(a){var b=new Date(a.getTime());return b.setMinutes(a.getMinutes()-a.getTimezoneOffset()),b}var c={},d={},e=Array.prototype,f=Object.prototype,g=Function.prototype,h=(e.push,e.slice,e.concat,f.toString),i=f.hasOwnProperty,j=e.forEach,k=e.map,l=(e.reduce,e.reduceRight,e.filter,e.every,e.some),m=e.indexOf;e.lastIndexOf,Array.isArray,Object.keys,g.bind;c.extend=function(a){return c.each(Array.prototype.slice.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a};var n=(c.each=function(a,b,e){if(null!=a)if(j&&a.forEach===j)a.forEach(b,e);else if(a.length===+a.length){for(var f=0,g=a.length;g>f;f++)if(b.call(e,a[f],f,a)===d)return}else for(var h=c.keys(a),f=0,g=h.length;g>f;f++)if(b.call(e,a[h[f]],h[f],a)===d)return},c.any=c.some=function(a,b,e){b||(b=c.identity);var f=!1;return null==a?f:l&&a.some===l?a.some(b,e):(c.each(a,function(a,c,g){return f||(f=b.call(e,a,c,g))?d:void 0}),!!f)});c.find=function(a,b,c){var d;return n(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},c.invert=function(a){for(var b={},d=c.keys(a),e=0,f=d.length;f>e;e++)b[a[d[e]]]=d[e];return b},c.identity=function(a){return a},c.has=function(a,b){return i.call(a,b)},c.contains=function(a,b){return null==a?!1:m&&a.indexOf===m?-1!=a.indexOf(b):c.some(a,function(a){return a===b})},c.keys=function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var d in a)c.has(a,d)&&b.push(d);return b},c.map=function(a,b,d){var e=[];return null==a?e:k&&a.map===k?a.map(b,d):(c.each(a,function(a,c,f){e.push(b.call(d,a,c,f))}),e)},c.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(m&&a.indexOf===m)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},c.isUndefined=function(a){return void 0===a},c.isDefined=function(a){return!c.isUndefined(a)&&!c.isNull(a)},c.isNull=function(a){return null===a},c.isArray=function(a){return"[object Array]"==h.call(a)},c.isString=function(a){return"[object String]"==h.call(a)},c.isNumber=function(a){return"[object Number]"==h.call(a)},c.isFunction=function(a){return"[object Function]"==h.call(a)},c.isArguments=function(a){return"[object Arguments]"==h.call(a)},c.isArguments(arguments)||(c.isArguments=function(a){return!(!a||!c.has(a,"callee"))}),"function"!=typeof/./&&(c.isFunction=function(a){return"function"==typeof a});var o={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};o.unescape=c.invert(o.escape);var p={escape:new RegExp("["+c.keys(o.escape).join("")+"]","g"),unescape:new RegExp("("+c.keys(o.unescape).join("|")+")","g")};return c.each(["escape","unescape"],function(a){c[a]=function(b){return null==b?"":(""+b).replace(p[a],function(b){return o[a][b]})}}),c.assert=function(a,b){if(!a)throw new Error(b)},c.assertDefined=function(a,b){c.assert(c.isDefined(a),b)},c.assertNotDefined=function(a,b){c.assert(!c.isDefined(a),b)},c.bestEffortNumberConversion=function(a){try{if(c.isDefined(a)){if(c.isNumber(a))return a;var b=a.replace(/[^0-9]/g,""),d=parseInt(b,10);return isNaN(d)?0:d}}catch(e){}return 0},String.prototype.startsWith||(String.prototype.startsWith=function(a,b){return b=b||0,this.indexOf(a,b)===b}),String.prototype.endsWith||(String.prototype.endsWith=function(a){return-1!==this.indexOf(a,this.length-a.length)}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),c.parseDateString=function(c,d){var e=new Date(c);if(isNaN(e)&&(e=a(c)),"undefined"==typeof e||isNaN(e))throw new Error("t8 could not parse date string '"+c+"'");return d&&(e=b(e)),e},c}(),c=function(){function a(c,d){var e=/\W/.test(c)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+c.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):b[c]=b[c]||a(document.getElementById(c).innerHTML);return d?e(d):e}var b={};return a}(),d=function(){var b=function(){};return b.prototype.format=function(b,c,d){var e,f="",g=a[d],h={style:"currency",currency:c,currencyDisplay:"code",minimumFractionDigits:2,maximumFractionDigits:2};if(!g)throw new Error("No locale data found for locale "+d);if(!g.intlLocale)throw new Error("IntlLocale is not specified for locale "+d);g.currency&&"function"==typeof g.currency.getCurrencyDisplay&&(h.currencyDisplay=g.currency.getCurrencyDisplay(c)),("INR"===c||"JPY"===c)&&(h.minimumFractionDigits=0,h.maximumFractionDigits=0);try{e=new Intl.NumberFormat(g.intlLocale+"-u-nu-latn-ca-gregory",h),f=e.format(b)}catch(i){if("code"===h.currencyDisplay)try{h.currencyDisplay="symbol",e=new Intl.NumberFormat(g.intlLocale+"-u-nu-latn-ca-gregory",h),f=e.format(b);var j=["(AU|A|US|BR|R|CAN|CA|C|A|HK|NZ|SG)\\u0024","\\u0024(AU|A|US|BR|R|CAN|CA|C|A|HK|NZ|SG)|\\u0024","GB£|£GB|£","€","ر.ه.‏","JP¥|¥JP|¥","₹|Rs","Dkr","NKr","kr"],k=new RegExp("("+j.join("|")+")");f=f.replace(k,c)}catch(l){f=b+" "+c}}return f=f.replace(/\u0020/g," "),g.currency&&g.currency.postFormatting&&(f=g.currency.postFormatting(c,b,f)),f},b}(),e=function(){function c(a){return 10>a?"0"+a:a}function d(a){return a.getUTCFullYear()+"-"+c(a.getUTCMonth()+1)+"-"+c(a.getUTCDate())}var e=function(){};return e.prototype.format=function(c,e,f,g){var h,i,j,k="",l=a[e],m=b.parseDateString(c,g);if("iso"===f)return d(m);if(!l)throw new Error("No locale data found for locale "+e);if(!l.intlLocale)throw new Error("IntlLocale is not specified for locale "+e);i=l.date.intlOptions[f],i.timeZone="UTC";try{j=l.intlLocale,"zh"!==j&&(j+="-u-nu-latn-ca-gregory"),h=new Intl.DateTimeFormat(j,i),k=h.format(m)}catch(n){k=m.toLocaleDateString()}return k=k.replace(/\u200e/g,""),l.date&&l.date.postFormatting&&(k=l.date.postFormatting(f,c,k)),k},e}(),f=function(){var a=function(){};return a.formats={FAMILIAR_NAME:"FAMILIAR_NAME",FULL_NAME:"FULL_NAME",MICROFORMAT:"MICROFORMAT",LIST_VIEW:"LIST_VIEW"},a.templates={MICROFORMAT:{firstName:c('<span class="given-name"><%=value%></span>'),lastName:c('<span class="family-name"><%=value%></span>'),maidenName:c('<span class="additional-name"><%=value%></span>')},FAMILIAR_NAME:{defaultTemplate:c("<%=firstName%>"),localeTemplates:[{locales:["de_DE","nl_NL","pl_PL","ro_RO","tr_TR"],template:c("<%=firstName%> <%=lastName%>")},{locales:["CJK"],template:c("<%=lastName%><%=firstName%>")},{locales:["CJK-ja_JP"],template:c("<%=lastName%> <%=firstName%>")}]},FULL_NAME:{defaultTemplate:c("<%=firstName%><%if(maidenName){%> (<%=maidenName%>)<%}%> <%=lastName%>"),localeTemplates:[{locales:["ar_AE","th_TH"],template:c("<%=firstName%><%if(maidenName){%> <%=maidenName%><%}%><%if(lastName){%> <%=lastName%><%}%>")},{locales:["cs_CZ"],template:c("<%=firstName%><%if(lastName){%> <%=lastName%><%}%><%if(maidenName){%> (roz. <%=maidenName%>)<%}%>")},{locales:["de_DE"],template:c("<%=firstName%><%if(lastName){%> <%=lastName%><%}%><%if(maidenName){%> geb. <%=maidenName%><%}%>")},{locales:["CJK-ja_JP"],template:c("<%=lastName%><%if(firstName){%> <%=firstName%><%}%><%if(maidenName){%> (<%=maidenName%>)<%}%>")},{locales:["CJK"],template:c("<%=lastName%><%=firstName%><%if(maidenName){%> (<%=maidenName%>)<%}%>")},{locales:["ms_MY"],template:c("<%=firstName%><%if(lastName){%> <%=lastName%><%}%><%if(maidenName){%> (<%=maidenName%>)<%}%>")},{locales:["nl_NL"],template:c("<%=firstName%> <%=lastName%><%if(maidenName){%>-<%=maidenName%><%}%>")},{locales:["pl_PL"],template:c("<%=firstName%><%if(lastName){%> <%=lastName%><%}%><%if(maidenName){%> z d. <%=maidenName%><%}%>")}]},LIST_VIEW:{defaultTemplate:c("<%if(lastName){%><%=lastName%>, <%}%><%=firstName%>"),localeTemplates:[{locales:["CJK"],template:c("<%=lastName%><%=firstName%>")},{locales:["CJK-ja_JP"],template:c("<%=lastName%> <%=firstName%>")},{locales:["ar_AE","in_ID","ms_MY","th_TH"],template:c("<%=firstName%> <%=lastName%>")}]}},a.locales={CJK:"CJK",CJK_ja_JP:"CJK-ja_JP",ja_JP:"ja_JP"},a.charsets={korean:{lowerbound:44032,upperbound:55215},CJ:[{lowerbound:19968,upperbound:40895},{lowerbound:12448,upperbound:12543},{lowerbound:65377,upperbound:65439},{lowerbound:12352,upperbound:12447}]},a.prototype.htmlEncode=function(a){return null===a||void 0===a?null:a.toString().replace(/(.)/g,function(a){return"<"===a?"&lt;":">"===a?"&gt;":"&"===a?"&amp;":'"'===a?"&quot;":a.charCodeAt(0)<127?a:"&#x"+a.charCodeAt(0).toString(16).toLowerCase()+";"})},a.prototype.format=function(a,c,d){function e(a){if(!a)return!1;var b=f.charsets.korean,c=a.charCodeAt(0);return c>=b.lowerbound&&c<=b.upperbound}function g(a){if(!a)return!1;var c=a.charCodeAt(0);return b.some(f.charsets.CJ,function(a){return c>=a.lowerbound&&c>=a.upperbound})}function h(a,c){var d=b.find(a.localeTemplates,function(a){return b.indexOf(a.locales,c)>=0});return d?d.template:a.defaultTemplate}function i(a){var c=f.formats,d=f.templates;return a?(b.isString(a)&&(a=[a]),b.isArray(a)?b.indexOf(a,c.FULL_NAME)>=0?d.FULL_NAME:b.indexOf(a,c.LIST_VIEW)>=0?d.LIST_VIEW:d.FAMILIAR_NAME:d.FAMILIAR_NAME):d.FAMILIAR_NAME}function j(a){if(a){if(b.isArray(a))return b.indexOf(a,f.formats.MICROFORMAT)>=0;if(b.isString(a))return a===f.formats.MICROFORMAT}return!1}function k(a,b,c,d,e){if(!a)return"";var f=a.replace(l,"");return b&&(f=d(f)),c&&(f=e({value:f})),f}var l=/(^\s+|\s+$)/g,m=j(c),n=m||a.lastNameWithHighlight,o=f.templates.MICROFORMAT,p=k(a.firstName,n,m,this.htmlEncode,o.firstName),q=k(a.lastName,n,m,this.htmlEncode,o.lastName),r=k(a.maidenName,n,m,this.htmlEncode,o.maidenName),s=k(a.lastNameWithHighlight,!1,m,this.htmlEncode,o.lastName),t="",u="";return e(a.lastName)?d=f.locales.CJK:g(a.lastName)&&(d=d===f.locales.ja_JP?f.locales.CJK_ja_JP:f.locales.CJK),t=h(i(c),d),u=t({firstName:p,lastName:s?s:q,maidenName:r}),u=u.replace(l,"")},a}(),g=function(){var b=function(){};return b.prototype.format=function(b,c){var d,e="",f=a[c],g={maximumFractionDigits:3};if(!f)throw new Error("No locale data found for locale "+c);if(!f.intlLocale)throw new Error("IntlLocale is not specified for locale "+c);f.number&&f.number.maximumFractionDigits&&(g.maximumFractionDigits=f.number.maximumFractionDigits);try{d=new Intl.NumberFormat(f.intlLocale+"-u-nu-latn-ca-gregory",g),e=d.format(b)}catch(h){e=b+""}return f.number&&f.number.postFormatting&&(e=f.number.postFormatting(b,e)),e},b}(),h=function(){var c=function(){};return c.prototype.format=function(c,d){var e=a[d],f=e.possessive?e.possessive:{};if(f){var g=b.find(f.rules,function(a,b){var d=new RegExp(b);return d.test(c)});if(b.isDefined(g))return c+g;if(f.fallback)return c+f.fallback}return c},c}(),i=function(){var c=function(){};return c.prototype.format=function(c,d,e,f){var g,h,i,j="",k=a[d],l=b.parseDateString(c,f),m={hm:{hour:"numeric",minute:"numeric"},hms:{hour:"numeric",minute:"numeric",second:"numeric"}};if(!k)throw new Error("No locale data found for locale "+d);if(!k.intlLocale)throw new Error("IntlLocale is not specified for locale "+d);h=k.time&&k.time.intlOptions?k.time.intlOptions[e]:m[e],h||(h=m.hms),h.timeZone="UTC";try{i=k.intlLocale,"zh"!==i&&(i+="-u-nu-latn-ca-gregory"),g=new Intl.DateTimeFormat(i,h),j=g.format(l)}catch(n){j=l.toLocaleTimeString()}return j=j.replace(/\u200e/g,""),k.time&&k.time.postFormatting&&(j=k.time.postFormatting(e,c,j)),j},c}(),j=function(){var a="...",b=function(b){a="undefined"!=typeof b?b:a};return b.prototype.format=function(b,c){if(!b||"string"!=typeof b)return"undefined"==typeof b||""===b?"":null;if("undefined"==typeof c)return"...";if(!c||"number"!=typeof c||c>=b.length||0>c||0===b.replace(/\s/g,"").length)return b;for(var d=b.substr(0,c),e=d.split(""),f=c-1,g="",h=/\s|\?|\!|\.|\,|\;|\:/g;f>=0&&!h.test(e[f]);)f--;return g=f>0?d.substr(0,f):d,g+=a},b}(),k=function(){var c,d=function(){},e=b.isDefined,f=2;return d.CATEGORIES={SINGULAR:0,PLURAL:1,DUAL:2,FEW:3,MANY:4,ZERO:5},c={equals:{1:d.CATEGORIES.SINGULAR},endsWith:{0:d.CATEGORIES.PLURAL,1:d.CATEGORIES.PLURAL,2:d.CATEGORIES.PLURAL,3:d.CATEGORIES.PLURAL,4:d.CATEGORIES.PLURAL,5:d.CATEGORIES.PLURAL,6:d.CATEGORIES.PLURAL,7:d.CATEGORIES.PLURAL,8:d.CATEGORIES.PLURAL,9:d.CATEGORIES.PLURAL}},d.COMPARISONS={eq:function(a,b){return a===b},gt:function(a,b){return a>b},gte:function(a,b){return a>=b},endsWith:function(a,b){return a.toString().endsWith(b.toString())}},d.prototype.findRule=function(a,c,d){return b.find(a,function(a){return e(b.find(a.values,function(a){return d(c,a)}))})},d.prototype.pickCategory=function(a,b,c){if(e(a)&&e(b)&&e(c)){var d=b.toString();if(e(a.equals)&&e(a.equals[d]))return a.equals[d];if(e(a.endsWith))for(var f=Math.min(c,d.length),g=f;g>0;g--){var h=d.slice(-1*g);if(e(a.endsWith[h]))return a.endsWith[h]}}return void 0},d.prototype.findCategoryMatch=function(a,c,g){a=Math.floor(a);var h=this.findNumberMatchNoRanges(a,c);if(e(h))return h;var i,j=this.pickCategory(g,a,f);if(e(j)){for(var k in d.CATEGORIES)d.CATEGORIES[k]===j&&(i=k.toLowerCase());return b.find(c,function(a){return a.category===i})}return void 0},d.prototype.findNumberMatchNoRanges=function(a,c){var d=b.map(c,function(a){return e(a.arg)&&"gte"===a.comparison?b.extend({},a,{comparison:"eq"}):a});return this.findNumberMatch(a,d)},d.prototype.findNumberMatch=function(a,b){for(var c,d=0;d<b.length;d++){var f=b[d],g=k.COMPARISONS[f.comparison];g(a,f.arg)&&(!e(c)||f.arg>c.arg)&&(c=f)}return c},d.prototype.isValidCategory=function(a){return"undefined"!=typeof d.CATEGORIES[a.toUpperCase()]},d.prototype.format=function(d,f,g){var h,i,j,k=a[g],l=k.chooser?k.chooser:c,m=b.bestEffortNumberConversion(d);return h=b.find(f,function(a){return e(a.category)}),i=h?this.findCategoryMatch(m,f,l):this.findNumberMatch(m,f),i&&(j=i.text,b.isFunction(j))?j():j},d}(),l=function(){var a=function(a,b){this.i18nCacheStatic=a,this.i18nCacheDynamic=b},c="__i18n__";return a.prototype.get=function(a,c,d,e){b.assert(e,"get called with null callback"),b.assert(a,"get called with null or empty key"),b.assert(c,"get called with null or empty namespace");var f=this.getStaticString(a,c);b.isDefined(f)?e(null,f):this.renderDynamicString(a,c,d,e)},a.prototype.getStaticString=function(a,c){return b.assert(a,"getStaticString called with null or empty key"),b.assert(c,"getStaticString called with null or empty namespace"),this.i18nCacheStatic&&this.i18nCacheStatic.cache&&this.i18nCacheStatic.cache[c]?this.i18nCacheStatic.cache[c][a]:void 0},a.prototype.renderDynamicString=function(a,c,d,e){b.assert(e,"renderDynamicString called with null callback"),b.assert(a,"renderDynamicString called with null or empty key"),b.assert(c,"renderDynamicString called with null or empty namespace");var f=this.dynamicKeyName(a,c);this.i18nCacheDynamic&&this.i18nCacheDynamic.cache&&this.i18nCacheDynamic.cache[f]?t8.renderDynamicString(f,this.i18nCacheDynamic.cache[f],d,e):e("Could not find static i18n key "+a+" in static i18n cache nor dynamic i18n template "+f+" in dynamic i18n cache.")},a.prototype.dynamicKeyName=function(a,d){return b.assert(a,"dynamicKeyName called with null or empty key"),b.assert(d,"dynamicKeyName called with null or empty namespace"),c+d+"__"+a},a}(),m=function(){function a(a){if(!b.isDefined(a))return-1;var c=0,d="\x00",e=a.length;for(c=0;e>c&&(d=a.charAt(c),b.contains(f,d));c++);return c>=e?-1:d>=g&&h>=d?c:-1}var c=function(){},d=" \n\r	\f \u2028\u2029".split(""),e="~!@#$%^&*()_+`1234567890-={}|[]\\:\";'<>?,./".split(""),f=d.concat(e),g="֐",h="ۿ",i=function(a){var b={nbsp:" ",lt:"<",gt:">",amp:"&",quot:'"'},c=/&(?:(lt|gt|amp|quot|nbsp)|#x([\da-f]{1,4})|#(\d{1,5}));/gi;return function(d){return null===d||d===a?null:(d+"").replace(c,function(a,c,d,e){return c?b[c]:d||e?String.fromCharCode(parseInt(d||e,d?16:10)||65533):"�"})}}();return c.prototype.isRtl=function(b){return-1!==a(i(b))},c}();return{Chooser:k,CurrencyFormatter:d,DateFormatter:e,NameFormatter:f,NumberFormatter:g,Possessive:h,Resources:l,Rtl:m,TimeFormatter:i,TruncationFormatter:j,Utils:b,__addLocaleData:function(b,c){a[b]=c}}});
!function(){var a={intlLocale:"en",date:{intlOptions:{}},time:{},currency:{},number:{}};a.date.postFormatting=function(a,b,c){var d=a.split(".")[0];return c=c.replace(/\s0/," "),"my"===d?c=c.replace(/,/g,""):"time"===d&&(c=c.split(" "),5!==c.length||/,$/.test(c[2])?3!==c.length||/,$/.test(c[0])||(c[0]=c[0]+","):c[2]=c[2]+",",c=c.join(" ")),c};var b=a.date.intlOptions;b.time={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},b["time.long"]=b.time,b["time.medium"]=b.time,b["time.short"]={year:"2-digit",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},b.mdy={year:"numeric",month:"long",day:"numeric"},b["mdy.long"]=b.mdy,b["mdy.medium"]={year:"numeric",month:"short",day:"numeric"},b["mdy.short"]={year:"numeric",month:"numeric",day:"numeric"},b.my={year:"numeric",month:"long"},b["my.long"]=b.my,b["my.medium"]={year:"numeric",month:"short"},b["my.short"]=b["my.medium"],b.md={month:"long",day:"numeric"},b["md.long"]=b.md,b["md.medium"]={month:"short",day:"numeric"},b["md.short"]=b["md.medium"],b.m={month:"long"},b["m.long"]=b.m,b["m.medium"]={month:"short"},b["m.short"]={month:"numeric"},b.d={weekday:"long"},b["d.long"]=b.d,b["d.medium"]={weekday:"short"},b["d.short"]={day:"numeric"},b.y={year:"numeric"},b["y.long"]=b.y,b["y.medium"]=b.y,b["y.short"]={year:"2-digit"},a.currency.getCurrencyDisplay=function(a){return/^(DKK|NOK|SGD|ZAR|SEK|CHF)$/.test(a)?"code":"symbol"},a.currency.postFormatting=function(a,b,c){var d=/^(\(|-)?\$/,e={AUD:"A$",CAD:"CA$",HKD:"HK$",NZD:"NZ$"};return"undefined"!=typeof e[a]?c=c.replace(d,e[a]):"INR"===a&&(c=c.replace(/Rs\./,"₹")),0>b&&c.indexOf(")")>=0&&(c="-"+c.replace(/[\(\)]/g,"")),c.replace(/\s/,"")},a.possessive={fallback:"’s",rules:{".*[Ss]$":"’",".*[A-RT-Z]$":"’S",".*[a-rt-z]$":"’s"}},t8.__addLocaleData("en_US",a)}();
/*Package: dust-li-experimental; Version: 3.0.13*/

(function(global) { global.liDustVersion = 'Package: dust-li-experimental; Version: 3.0.13';})(this);

(function (global) {
  if (typeof global.dust !== 'undefined') {
    global.liDustVars = {
      //Preserve the dust cache so we do not lose already registered templates
      cache: global.dust.cache,
      //Also preserve any static i18n strings
      i18n: global.dust.i18n,
      //Helpers are added by dust (this file) and play (dust-utils or play-utils)
      //Loading new Dust version will potentially overwrite all of the helpers
      //if play helpers are loaded before this file executes
      //Preserve dust helpers here and re-add helpers that do not already exist later
      helpers: global.dust.helpers
    };
  }
})(this);
/*! Dust - Asynchronous Templating - v2.5.1
* http://linkedin.github.io/dustjs/
* Copyright (c) 2014 Aleksander Williams; Released under the MIT License */
!function(root){function Context(a,b,c,d){this.stack=a,this.global=b,this.blocks=c,this.templateName=d}function Stack(a,b,c,d){this.tail=b,this.isObject=a&&"object"==typeof a,this.head=a,this.index=c,this.of=d}function Stub(a){this.head=new Chunk(this),this.callback=a,this.out=""}function Stream(){this.head=new Chunk(this)}function Chunk(a,b,c){this.root=a,this.next=b,this.data=[],this.flushable=!1,this.taps=c}function Tap(a,b){this.head=a,this.tail=b}var dust={},NONE="NONE",ERROR="ERROR",WARN="WARN",INFO="INFO",DEBUG="DEBUG",loggingLevels=[DEBUG,INFO,WARN,ERROR,NONE],EMPTY_FUNC=function(){},logger={},originalLog,loggerContext;dust.debugLevel=NONE,dust.config={whitespace:!1},dust._aliases={write:"w",end:"e",map:"m",render:"r",reference:"f",section:"s",exists:"x",notexists:"nx",block:"b",partial:"p",helper:"h"},root&&root.console&&root.console.log&&(loggerContext=root.console,originalLog=root.console.log),logger.log=loggerContext?function(){logger.log="function"==typeof originalLog?function(){originalLog.apply(loggerContext,arguments)}:function(){var a=Array.prototype.slice.apply(arguments).join(" ");originalLog(a)},logger.log.apply(this,arguments)}:function(){},dust.log=function(a,b){b=b||INFO,dust.debugLevel!==NONE&&dust.indexInArray(loggingLevels,b)>=dust.indexInArray(loggingLevels,dust.debugLevel)&&(dust.logQueue||(dust.logQueue=[]),dust.logQueue.push({message:a,type:b}),logger.log("[DUST "+b+"]: "+a))},dust.helpers={},dust.cache={},dust.register=function(a,b){a&&(dust.cache[a]=b)},dust.render=function(a,b,c){var d=new Stub(c).head;try{dust.load(a,d,Context.wrap(b,a)).end()}catch(e){d.setError(e)}},dust.stream=function(a,b){var c=new Stream,d=c.head;return dust.nextTick(function(){try{dust.load(a,c.head,Context.wrap(b,a)).end()}catch(e){d.setError(e)}}),c},dust.renderSource=function(a,b,c){return dust.compileFn(a)(b,c)},dust.compileFn=function(a,b){b=b||null;var c=dust.loadSource(dust.compile(a,b));return function(a,d){var e=d?new Stub(d):new Stream;return dust.nextTick(function(){"function"==typeof c?c(e.head,Context.wrap(a,b)).end():dust.log(new Error("Template ["+b+"] cannot be resolved to a Dust function"),ERROR)}),e}},dust.load=function(a,b,c){var d=dust.cache[a];return d?d(b,c):dust.onLoad?b.map(function(b){dust.onLoad(a,function(d,e){return d?b.setError(d):(dust.cache[a]||dust.loadSource(dust.compile(e,a)),void dust.cache[a](b,c).end())})}):b.setError(new Error("Template Not Found: "+a))},dust.loadSource=function(source,path){return eval(source)},dust.isArray=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},dust.indexInArray=function(a,b,c){if(c=+c||0,Array.prototype.indexOf)return a.indexOf(b,c);if(void 0===a||null===a)throw new TypeError('cannot call method "indexOf" of null');var d=a.length;for(1/0===Math.abs(c)&&(c=0),0>c&&(c+=d,0>c&&(c=0));d>c;c++)if(a[c]===b)return c;return-1},dust.nextTick=function(){return function(a){setTimeout(a,0)}}(),dust.isEmpty=function(a){return dust.isArray(a)&&!a.length?!0:0===a?!1:!a},dust.filter=function(a,b,c){if(c)for(var d=0,e=c.length;e>d;d++){var f=c[d];"s"===f?b=null:"function"==typeof dust.filters[f]?a=dust.filters[f](a):dust.log("Invalid filter ["+f+"]",WARN)}return b&&(a=dust.filters[b](a)),a},dust.filters={h:function(a){return dust.escapeHtml(a)},j:function(a){return dust.escapeJs(a)},u:encodeURI,uc:encodeURIComponent,js:function(a){return JSON?JSON.stringify(a):(dust.log("JSON is undefined.  JSON stringify has not been used on ["+a+"]",WARN),a)},jp:function(a){return JSON?JSON.parse(a):(dust.log("JSON is undefined.  JSON parse has not been used on ["+a+"]",WARN),a)}},dust.makeBase=function(a){return new Context(new Stack,a)},Context.wrap=function(a,b){return a instanceof Context?a:new Context(new Stack(a),{},null,b)},Context.prototype.get=function(a,b){return"string"==typeof a&&("."===a[0]&&(b=!0,a=a.substr(1)),a=a.split(".")),this._get(b,a)},Context.prototype._get=function(a,b){var c,d,e,f,g,h=this.stack,i=1;if(d=b[0],e=b.length,a&&0===e)f=h,h=h.head;else{if(a)h&&(h=h.head?h.head[d]:void 0);else{for(;h&&(!h.isObject||(f=h.head,c=h.head[d],void 0===c));)h=h.tail;h=void 0!==c?c:this.global?this.global[d]:void 0}for(;h&&e>i;)f=h,h=h[b[i]],i++}return"function"==typeof h?(g=function(){try{return h.apply(f,arguments)}catch(a){throw dust.log(a,ERROR),a}},g.__dustBody=!!h.__dustBody,g):(void 0===h&&dust.log("Cannot find the value for reference [{"+b.join(".")+"}] in template ["+this.getTemplateName()+"]"),h)},Context.prototype.getPath=function(a,b){return this._get(a,b)},Context.prototype.push=function(a,b,c){return new Context(new Stack(a,this.stack,b,c),this.global,this.blocks,this.getTemplateName())},Context.prototype.rebase=function(a){return new Context(new Stack(a),this.global,this.blocks,this.getTemplateName())},Context.prototype.current=function(){return this.stack.head},Context.prototype.getBlock=function(a){if("function"==typeof a){var b=new Chunk;a=a(b,this).data.join("")}var c=this.blocks;if(!c)return void dust.log("No blocks for context[{"+a+"}] in template ["+this.getTemplateName()+"]",DEBUG);for(var d,e=c.length;e--;)if(d=c[e][a])return d},Context.prototype.shiftBlocks=function(a){var b,c=this.blocks;return a?(b=c?c.concat([a]):[a],new Context(this.stack,this.global,b,this.getTemplateName())):this},Context.prototype.getTemplateName=function(){return this.templateName},Stub.prototype.flush=function(){for(var a=this.head;a;){if(!a.flushable)return a.error?(this.callback(a.error),dust.log("Chunk error ["+a.error+"] thrown. Ceasing to render this template.",WARN),void(this.flush=EMPTY_FUNC)):void 0;this.out+=a.data.join(""),a=a.next,this.head=a}this.callback(null,this.out)},Stream.prototype.flush=function(){for(var a=this.head;a;){if(!a.flushable)return a.error?(this.emit("error",a.error),dust.log("Chunk error ["+a.error+"] thrown. Ceasing to render this template.",WARN),void(this.flush=EMPTY_FUNC)):void 0;this.emit("data",a.data.join("")),a=a.next,this.head=a}this.emit("end")},Stream.prototype.emit=function(a,b){if(!this.events)return dust.log("No events to emit",INFO),!1;var c=this.events[a];if(!c)return dust.log("Event type ["+a+"] does not exist",WARN),!1;if("function"==typeof c)c(b);else if(dust.isArray(c))for(var d=c.slice(0),e=0,f=d.length;f>e;e++)d[e](b);else dust.log("Event Handler ["+c+"] is not of a type that is handled by emit",WARN)},Stream.prototype.on=function(a,b){return this.events||(this.events={}),this.events[a]?"function"==typeof this.events[a]?this.events[a]=[this.events[a],b]:this.events[a].push(b):b?this.events[a]=b:dust.log("Callback for type ["+a+"] does not exist. Listener not registered.",WARN),this},Stream.prototype.pipe=function(a){return this.on("data",function(b){try{a.write(b,"utf8")}catch(c){dust.log(c,ERROR)}}).on("end",function(){try{return a.end()}catch(b){dust.log(b,ERROR)}}).on("error",function(b){a.error(b)}),this},Chunk.prototype.write=function(a){var b=this.taps;return b&&(a=b.go(a)),this.data.push(a),this},Chunk.prototype.end=function(a){return a&&this.write(a),this.flushable=!0,this.root.flush(),this},Chunk.prototype.map=function(a){var b=new Chunk(this.root,this.next,this.taps),c=new Chunk(this.root,b,this.taps);this.next=c,this.flushable=!0;try{a(c)}catch(d){dust.log(d,ERROR),c.setError(d)}return b},Chunk.prototype.tap=function(a){var b=this.taps;return this.taps=b?b.push(a):new Tap(a),this},Chunk.prototype.untap=function(){return this.taps=this.taps.tail,this},Chunk.prototype.render=function(a,b){return a(this,b)},Chunk.prototype.reference=function(a,b,c,d){return"function"==typeof a&&(a=a.apply(b.current(),[this,b,null,{auto:c,filters:d}]),a instanceof Chunk)?a:dust.isEmpty(a)?this:this.write(dust.filter(a,c,d))},Chunk.prototype.section=function(a,b,c,d){if("function"==typeof a&&!a.__dustBody){try{a=a.apply(b.current(),[this,b,c,d])}catch(e){return dust.log(e,ERROR),this.setError(e)}if(a instanceof Chunk)return a}var f=c.block,g=c["else"];if(d&&(b=b.push(d)),dust.isArray(a)){if(f){var h=a.length,i=this;if(h>0){b.stack.head&&(b.stack.head.$len=h);for(var j=0;h>j;j++)b.stack.head&&(b.stack.head.$idx=j),i=f(i,b.push(a[j],j,h));return b.stack.head&&(b.stack.head.$idx=void 0,b.stack.head.$len=void 0),i}if(g)return g(this,b)}}else if(a===!0){if(f)return f(this,b)}else if(a||0===a){if(f)return f(this,b.push(a))}else if(g)return g(this,b);return dust.log("Not rendering section (#) block in template ["+b.getTemplateName()+"], because above key was not found",DEBUG),this},Chunk.prototype.exists=function(a,b,c){var d=c.block,e=c["else"];if(dust.isEmpty(a)){if(e)return e(this,b)}else if(d)return d(this,b);return dust.log("Not rendering exists (?) block in template ["+b.getTemplateName()+"], because above key was not found",DEBUG),this},Chunk.prototype.notexists=function(a,b,c){var d=c.block,e=c["else"];if(dust.isEmpty(a)){if(d)return d(this,b)}else if(e)return e(this,b);return dust.log("Not rendering not exists (^) block check in template ["+b.getTemplateName()+"], because above key was found",DEBUG),this},Chunk.prototype.block=function(a,b,c){var d=c.block;return a&&(d=a),d?d(this,b):this},Chunk.prototype.partial=function(a,b,c){var d;d=dust.makeBase(b.global),d.blocks=b.blocks,b.stack&&b.stack.tail&&(d.stack=b.stack.tail),c&&(d=d.push(c)),"string"==typeof a&&(d.templateName=a),d=d.push(b.stack.head);var e;return e="function"==typeof a?this.capture(a,d,function(a,b){d.templateName=d.templateName||a,dust.load(a,b,d).end()}):dust.load(a,this,d)},Chunk.prototype.helper=function(a,b,c,d){var e=this;if(!dust.helpers[a])return dust.log("Invalid helper ["+a+"]",WARN),e;try{return dust.helpers[a](e,b,c,d)}catch(f){return dust.log("Error in "+a+" helper: "+f,ERROR),e.setError(f)}},Chunk.prototype.capture=function(a,b,c){return this.map(function(d){var e=new Stub(function(a,b){a?d.setError(a):c(b,d)});a(e.head,b).end()})},Chunk.prototype.setError=function(a){return this.error=a,this.root.flush(),this};for(var f in Chunk.prototype)dust._aliases[f]&&(Chunk.prototype[dust._aliases[f]]=Chunk.prototype[f]);Tap.prototype.push=function(a){return new Tap(a,this)},Tap.prototype.go=function(a){for(var b=this;b;)a=b.head(a),b=b.tail;return a};var HCHARS=/[&<>"']/,AMP=/&/g,LT=/</g,GT=/>/g,QUOT=/\"/g,SQUOT=/\'/g;dust.escapeHtml=function(a){return"string"==typeof a&&HCHARS.test(a)?a.replace(AMP,"&amp;").replace(LT,"&lt;").replace(GT,"&gt;").replace(QUOT,"&quot;").replace(SQUOT,"&#39;"):a};var BS=/\\/g,FS=/\//g,CR=/\r/g,LS=/\u2028/g,PS=/\u2029/g,NL=/\n/g,LF=/\f/g,SQ=/'/g,DQ=/"/g,TB=/\t/g;dust.escapeJs=function(a){return"string"==typeof a?a.replace(BS,"\\\\").replace(FS,"\\/").replace(DQ,'\\"').replace(SQ,"\\'").replace(CR,"\\r").replace(LS,"\\u2028").replace(PS,"\\u2029").replace(NL,"\\n").replace(LF,"\\f").replace(TB,"\\t"):a},"object"==typeof exports?module.exports=dust:root.dust=dust}(function(){return this}());
/*! dustjs-helpers - v1.5.0
* https://github.com/linkedin/dustjs-helpers
* Copyright (c) 2014 Aleksander Williams; Released under the MIT License */
!function(dust){function _deprecated(a){_deprecatedCache[a]||(_log("Deprecation warning: "+a+" is deprecated and will be removed in a future version of dustjs-helpers","WARN"),_log("For help and a deprecation timeline, see https://github.com/linkedin/dustjs-helpers/wiki/Deprecated-Features#"+a.replace(/\W+/g,""),"WARN"),_deprecatedCache[a]=!0)}function isSelect(a){var b=a.current();return"object"==typeof b&&b.isSelect===!0}function jsonFilter(a,b){return"function"==typeof b?b.toString().replace(/(^\s+|\s+$)/gm,"").replace(/\n/gm,"").replace(/,\s*/gm,", ").replace(/\)\{/gm,") {"):b}function filter(a,b,c,d,e){d=d||{};var f,g,h=c.block,i=d.filterOpType||"";if(d.hasOwnProperty("key"))f=dust.helpers.tap(d.key,a,b);else{if(!isSelect(b))return _log("No key specified for filter in:"+i+" helper "),a;f=b.current().selectKey,b.current().isResolved&&(e=function(){return!1})}return g=dust.helpers.tap(d.value,a,b),e(coerce(g,d.type,b),coerce(f,d.type,b))?(isSelect(b)&&(b.current().isResolved=!0),h?a.render(h,b):(_log("No body specified for "+i+" helper "),a)):c["else"]?a.render(c["else"],b):a}function coerce(a,b,c){if("undefined"!=typeof a)switch(b||typeof a){case"number":return+a;case"string":return String(a);case"boolean":return a="false"===a?!1:a,Boolean(a);case"date":return new Date(a);case"context":return c.get(a)}return a}var _log=dust.log?function(a,b){b=b||"INFO",dust.log(a,b)}:function(){},_deprecatedCache={},helpers={tap:function(a,b,c){if("function"!=typeof a)return a;var d,e="";return d=b.tap(function(a){return e+=a,""}).render(a,c),b.untap(),d.constructor!==b.constructor?d:""===e?!1:e},sep:function(a,b,c){var d=c.block;return b.stack.index===b.stack.of-1?a:d?d(a,b):a},idx:function(a,b,c){var d=c.block;return _deprecated("{@idx}"),d?d(a,b.push(b.stack.index)):a},contextDump:function(a,b,c,d){var e,f=d||{},g=f.to||"output",h=f.key||"current";return g=dust.helpers.tap(g,a,b),h=dust.helpers.tap(h,a,b),e="full"===h?JSON.stringify(b.stack,jsonFilter,2):JSON.stringify(b.stack.head,jsonFilter,2),"console"===g?(_log(e),a):(e=e.replace(/</g,"\\u003c"),a.write(e))},"if":function(chunk,context,bodies,params){var body=bodies.block,skip=bodies["else"],cond;if(params&&params.cond){if(_deprecated("{@if}"),cond=dust.helpers.tap(params.cond,chunk,context),eval(cond))return body?chunk.render(bodies.block,context):(_log("Missing body block in the if helper!"),chunk);if(skip)return chunk.render(bodies["else"],context)}else _log("No condition given in the if helper!");return chunk},math:function(a,b,c,d){if(d&&"undefined"!=typeof d.key&&d.method){var e=d.key,f=d.method,g=d.operand,h=d.round,i=null;switch(e=dust.helpers.tap(e,a,b),g=dust.helpers.tap(g,a,b),f){case"mod":(0===g||g===-0)&&_log("operand for divide operation is 0/-0: expect Nan!"),i=parseFloat(e)%parseFloat(g);break;case"add":i=parseFloat(e)+parseFloat(g);break;case"subtract":i=parseFloat(e)-parseFloat(g);break;case"multiply":i=parseFloat(e)*parseFloat(g);break;case"divide":(0===g||g===-0)&&_log("operand for divide operation is 0/-0: expect Nan/Infinity!"),i=parseFloat(e)/parseFloat(g);break;case"ceil":i=Math.ceil(parseFloat(e));break;case"floor":i=Math.floor(parseFloat(e));break;case"round":i=Math.round(parseFloat(e));break;case"abs":i=Math.abs(parseFloat(e));break;default:_log("method passed is not supported")}return null!==i?(h&&(i=Math.round(i)),c&&c.block?a.render(c.block,b.push({isSelect:!0,isResolved:!1,selectKey:i})):a.write(i)):a}return _log("Key is a required parameter for math helper along with method/operand!"),a},select:function(a,b,c,d){var e=c.block;if(d&&"undefined"!=typeof d.key){var f=dust.helpers.tap(d.key,a,b);return e?a.render(c.block,b.push({isSelect:!0,isResolved:!1,selectKey:f})):(_log("Missing body block in the select helper "),a)}return _log("No key given in the select helper!"),a},eq:function(a,b,c,d){return d?(d.filterOpType="eq",filter(a,b,c,d,function(a,b){return b===a})):a},ne:function(a,b,c,d){return d?(d.filterOpType="ne",filter(a,b,c,d,function(a,b){return b!==a})):a},lt:function(a,b,c,d){return d?(d.filterOpType="lt",filter(a,b,c,d,function(a,b){return a>b})):a},lte:function(a,b,c,d){return d?(d.filterOpType="lte",filter(a,b,c,d,function(a,b){return a>=b})):a},gt:function(a,b,c,d){return d?(d.filterOpType="gt",filter(a,b,c,d,function(a,b){return b>a})):a},gte:function(a,b,c,d){return d?(d.filterOpType="gte",filter(a,b,c,d,function(a,b){return b>=a})):a},"default":function(a,b,c,d){return d&&(d.filterOpType="default"),filter(a,b,c,d,function(){return!0})},size:function(a,b,c,d){var e,f,g,h=0;if(d=d||{},e=d.key,e&&e!==!0)if(dust.isArray(e))h=e.length;else if(!isNaN(parseFloat(e))&&isFinite(e))h=e;else if("object"==typeof e){f=0;for(g in e)Object.hasOwnProperty.call(e,g)&&f++;h=f}else h=(e+"").length;else h=0;return a.write(h)}};for(var key in helpers)dust.helpers[key]=helpers[key];"undefined"!=typeof exports&&(module.exports=dust)}("undefined"!=typeof exports?require("dustjs-linkedin"):dust);
/*! dust-ui-helpers - v1.7.1 Copyright © 2015 LinkedIn Corporation */
!function(dust){var isSSR="undefined"==typeof window,CTRL_CLIENT_ID="control-dust-client",CTRL_SERVER_ID="control-dust-server",templatesBootstrapped={},sanitizeScriptBody=function(a){return"string"==typeof a?a.replace(/\u0000/g,"�").replace(/<\/(script)/gi,"<\\/$1"):a},bootstrapSharedTemplate=function(a,b,c,d){var e,f;if(!templatesBootstrapped[a]){if(e="tl/shared/js-control/"+a.replace(/LI\./,"_").replace(/\./g,"_").toLowerCase(),f="scmp/"+e,dust.cache[e])b.partial(e,c);else{if(!dust.cache[f])return void(d||dust.log("Partial file "+e+" is not in the Dust cache","WARN"));b.partial(f,c)}templatesBootstrapped[a]=!0}},chunkRefWithJFilter=function(a,b,c,d){var e=this._reference||this.reference,f="j";return e.call(this,a,b,f,d)},registerPageJs=function(a,b,c,d){var e,f,g,h=["i18n","lix","config"];h.indexOf(a)>-1&&b&&(isSSR?(g={key:b,value:c},d&&(g.namespace=d),dust.pageJs[a+"Ids"].push(g)):(f="__li__"+a+"_registry__",e=window[f]=window[f]||{},d&&(e=e[d]=e[d]||{}),e[b]=c))},dustVars={jsControl:{count:1,controls:{},controlIds:[],controlIdentifier:isSSR?CTRL_SERVER_ID:CTRL_CLIENT_ID,contextIdentifier:isSSR?Math.floor(100000001*Math.random())+"-":""},i18n:dust.i18n||{cache:{}},pageJs:{i18nIds:[],lixIds:[],configIds:[]},resetBootstrappedTemplates:function(){templatesBootstrapped={}}};dustVars.i18n.cache=dustVars.i18n.cache||{};var helpers={miniprofile_popup:function(a,b,c,d){var e,f,g,h,i;return d&&d.url&&(e=dust.helpers.tap(d.url,a,b),f=d.tracking||"",h=dust.helpers.tap(d.searchClass,a,b)||"",g=dust.helpers.tap(d.getJs,a,b)||"",i=dust.helpers.tap(d.template,a,b)||"",a.write('<span data-tracking="'+f+'"'),h?a.write(' class="'+h+" "+dust.filters.h(e)+'"'):a.write(' class="miniprofile-container '+dust.filters.h(e)+'"'),e&&a.write(' data-li-url="'+dust.filters.h(e)+'"'),g&&a.write(' data-li-getjs="'+g+'"'),i&&a.write(' data-li-tl="'+i+'"'),a.write("><strong>"),a.render(c.block,b),a.write("</strong></span>")),a},module:function(a,b,c,d){var e="undefined"==typeof d.hasHdr||"true"===d.hasHdr.toLowerCase(),f=d.hdrTag||"h3",g=d.id||"module-id"+Math.floor(1001*Math.random()),h=d.moduleClass?" "+d.moduleClass:"",i=d.type||"util",j=dust.helpers.tap(d.title,a,b)||"";return("undefined"!=typeof d.hdrTag||"undefined"!=typeof d.hasHdr||"undefined"!=typeof d.id)&&(a.write('<div class="leo-module mod-'+i+h+'" id="'+g+'">'),e&&a.write('<div class="header"><'+dust.filters.h(f)+">"+dust.filters.h(j)+"</"+dust.filters.h(f)+"></div>"),a.write('<div class="content">'),a.render(c.block,b),a.write("</div></div>")),a},jsControlFlush:function(a,b,c,d){var e;return dust&&dust.jsControl&&dust.jsControl.controlIds&&dust.jsControl.controlIds.length&&(e='"'+dust.jsControl.controlIds.join(",")+'";',a.write('<script type="text/javascript">').write("if (dust && dust.jsControl) {").write("if (!dust.jsControl.flushControlIds) {").write('dust.jsControl.flushControlIds = "";').write("} else {").write('dust.jsControl.flushControlIds += ",";').write("}").write("dust.jsControl.flushControlIds += "+e).write("}").write("</script>"),dust.jsControl.controlIds=[]),a},jsControl:function(a,b,c,d){if(d&&d.name){var e=dust.jsControl.controlIdentifier+"-"+dust.jsControl.contextIdentifier+dust.jsControl.count,f=d.name;dust.jsControl.controlIds.push(e),"initialized"!==dust.jsControl.controls[f]&&void 0===d.disableControlInitData&&(dust.jsControl.controls[f]="initialized",bootstrapSharedTemplate(f,a,b,!0)),a.write('<script id="'+e+'" type="linkedin/control" class="li-control">'),a.write('LI.Controls.addControl("'+e+'", "'+d.name+'", '),c.block?a.tap(sanitizeScriptBody).render(c.block,b).untap():a.write("{}"),a.write(")</script>"),dust.jsControl.count++,dust.jsControl.controlIdentifier===CTRL_SERVER_ID&&dust.helpers.jsControlFlush(a,b,c,d)}return a},partial:function(a,b,c,d){var e,f,g={},h=d&&d.key?d.key:"partial",i=b.get(h);if(d)for(var j in d)"key"!==j&&(g[j]=dust.helpers.tap(d[j],a,b));if(i)for(e in i)g[e]=i[e];if(g.isPartial=!0,d&&d.template){var k=d.template;if(k.indexOf(":")>=0){var l=k.indexOf(":"),m=k.substring(l+1),n=b.get(m);if(k=k.substring(0,l),n)for(e in n)g[e]=n[e]}return f=dust.makeBase(g),f.templateName=b.getTemplateName(),a.partial(k,f)}return f=dust.makeBase(g),f.templateName=b.getTemplateName(),c.block(a,f)},param:function(a,b,c,d){if(b.global&&b.global.isPartial&&d){var e=d.key,f=d.defaultVal,g=b.global[e];e&&"undefined"==typeof g&&"undefined"!=typeof f&&(b.global[e]=f)}return a},replace:function(a,b,c,d){if(!d)return a.write("");var e=dust.helpers.tap(d.value,a,b)||"",f=dust.helpers.tap(d.target,a,b)||"",g=dust.helpers.tap(d.replacement,a,b)||"",h=!!d.toLower,i=!!d.toUpper,j=d.target&&new RegExp(f,"g"),k=e.replace(j,g);return k=i&&k.toUpperCase()||k,k=h&&k.toLowerCase()||k,a.write(k)},log:function(a,b,c,d){return d&&d.info&&dust.log(d.info),a},i18n:function(a,b,c,d){if(d&&"true"===d.hide)return a;if(d&&"undefined"!=typeof d.key){var e=d.key,f=d.template||b.getTemplateName();if("undefined"!=typeof f){var g,h=dust.i18n.cache[f];if(h&&(g=h[d.key]))return d.output?(b.stack.head[e]=g,a):a.write(g);if(g=d.text)return a.write(g);if(c.block)return a.render(c.block,b)}return a}},"page.js.lix":function(a,b,c,d){var e=dust.helpers.tap(d.key,a,b)||"",f=dust.helpers.tap(d.value,a,b)||"";return registerPageJs("lix",e,f),a},"page.js.i18n":function(a,b,c,d){var e=dust.helpers.tap(d.key,a,b)||"",f=dust.helpers.tap(d.value,a,b)||"";return registerPageJs("i18n",e,f),a},"page.js.config":function(a,b,c,d){var e=dust.helpers.tap(d.key,a,b)||"",f=dust.helpers.tap(d.value,a,b)||"",g=dust.helpers.tap(d.namespace,a,b)||"";return registerPageJs("config",e,f,g),a},"page.js.bootstrap":function(a,b,c,d){var e,f,g;if(d&&d.controls){if(e=dust.helpers.tap(d.controls,a,b)||"",!e)return a;for(e=e.split(/,\s*/),g=0,f=e.length;f>g;g++)bootstrapSharedTemplate(e[g],a,b)}return a},"page.js.flush":function(a,b,c,d){var e,f,g,h=["i18n","lix","config"],i={};for(f=0,g=h.length;g>f;f++)if(dust.pageJs[h[f]+"Ids"].length){e=!0;break}if(e){for(a.write('<script type="text/javascript">').write("(function(d,t){if(d){var r,rk,i,j,li,lj,id,ids,c={};"),f=0,g=h.length;g>f;f++){try{i[h[f]]=JSON.stringify(dust.pageJs[h[f]+"Ids"]).replace(/</g,"\\u003c").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}catch(j){dust.log("WARN",j.message||j)}a.write("c."+h[f]+' = JSON.parse("'+dust.filters.j(i[h[f]])+'");'),dust.pageJs[h[f]+"Ids"]=[]}a.write("for(i=0,li=t.length;i<li;i++){ids=c[t[i]];rk='__li__'+t[i]+'_registry__';r=window[rk]=window[rk]||{};if(ids){for(j=0,lj=ids.length;j<lj;j++){id=ids[j];if(id&&id.key){if(id.namespace){r=r[id.namespace]=r[id.namespace]||{};}r[id.key]=id.value;}}}}"),a.write("}})(window.dust,['i18n','lix','config']);").write("</script>")}return a},"if":function(chunk,context,bodies,params){var body=bodies.block,skip=bodies["else"],cond=params.cond;if(cond){if(chunk._reference=chunk.reference,chunk.reference=chunk.f=chunkRefWithJFilter,cond=dust.helpers.tap(cond,chunk,context),chunk.reference=chunk.f=chunk._reference,eval(cond))return body?chunk.render(bodies.block,context):(dust.log("Missing body block in the if helper!"),chunk);if(skip)return chunk.render(bodies["else"],context)}else dust.log("No condition given in the if helper!");return chunk},addToContext:function(a,b,c,d){return d&&d.name?(d.name=dust.helpers.tap(d.name,a,b),a.capture(c.block,b,function(a,c){return b.current()[d.name]=a,c.end("")})):a.setError("@addToContext called with null params.name")}},key;for(key in dustVars)dust[key]=dustVars[key];for(key in helpers)dust.helpers[key]=helpers[key]}(dust);
/*! dust-ui-helpers - v1.7.1 Copyright © 2015 LinkedIn Corporation */
!function(dust){function a(a){return i.test(a)&&(d(a,"dust-security-ensure_preencode"),a=dust.filters.h(a)),a}function b(a){return g(a)?a:(d(a,"dust-security-html_whitelist"),f(a))}function c(a){return a}function d(a,b){dust.log(b+": "+a,"WARN")}function e(a){var b=new RegExp("<(?!/?(?:"+a.allowedTags+")(?:/?>|[ 	\r\n]+(?:(?:(?:"+a.allowedAttributes+")(?:=([\"'])[^'\"<>]*\\1)?|(?:"+a.allowedURLAttributes+")=([\"'])(?:(?:"+a.allowedURLSchemes+")(?::|&#(?:58|x3a);)|[/.#?]|&#(?:35|4[67]|63|x(?:2[3ef]|3f));)[^'\"<>]*\\2)[ 	\r\n]*)+/?>))","i");return function(a){return!b.test(a)}}function f(a){return a.replace(/<[^>]*>|[<>'"&\\]/g,"")}var g,h,i=/[<>'"]|&(?!(?:\w+|#(?:\d+|x[\da-f]+));)/i,j={};g=e({allowedTags:"a|abbr|address|area|article|aside|audio|b|bdi|bdo|big|blockquote|br|button|center|cite|code|datalist|dd|del|details|dfn|div|dl|dt|em|fieldset|figcaption|figure|font|footer|h[1-6]|header|hgroup|hr|i|img|ins|kbd|label|legend|li|map|mark|marquee|nav|nobr|ol|p|pre|q|rp|rt|ruby|s|samp|section|small|source|span|strike|strong|sub|sup|table|tbody|td|tfoot|th|thead|time|tr|u|ul|var|video|wbr",allowedAttributes:"alt|aria-[a-z0-9_\\-]+|border|caption|checked|class|colgroup|color|cols|colspan|controls|coords|data-[a-z0-9_\\-]+|dir|disabled|height|hidden|hreflang|id|label|loop|marginheight|marginwidth|maxlength|method|multiple|name|preload|readonly|rel|required|reversed|role|rows|rowspan|spellcheck|tabindex|target|title|type|usemap|width|clear|headers|ismap|lang|start|datetime|accept|max|min|placeholder|size|step",allowedURLAttributes:"href|src",allowedURLSchemes:"https?|ftp|mailto"}),j={et:a,mk:b,encodedText:a,markup:b,rich:c};for(h in j)dust.filters[h]=j[h]}(dust);
/*! dust-ui-helpers - v1.7.1 Copyright © 2015 LinkedIn Corporation */
!function(a,b){b(dust,t8)}(this,function(dust,a){function b(a,b,c,d){var e,g="number",h="boolean",i="string",j="block",k=d.type?d.type:g,l=["key","type","locale"],m=!1,n={};for(e in d)l.indexOf(e)<0&&(m=!0,n[e]=d[e]);for(e in c)e!==j&&(m=!0,n[e]=c[e]);return{key:dust.helpers.tap(d.key,a,b),locale:f(d),hasCategories:m,categories:n,isBooleanComparison:k===h,isStringComparison:k===i,isNumericComparison:k===g}}function c(a,b,c,d){var e="_",f="_gt_",g=function(){return dust.helpers.tap(b,c,d)};return i.isValidCategory(a)?{category:a,comparison:"eq",text:g}:a.startsWith(f)?{arg:+a.substring(f.length),comparison:"gt",text:g}:a.startsWith(e)?{arg:+a.substring(e.length),comparison:"gte",text:g}:dust.log("@choice helper called with invalid chooser key: "+a,"ERROR")}function d(b,d,e){if("undefined"==typeof i){if("undefined"==typeof a.Chooser)return dust.log("@choice helper could not create an instance of t8.Chooser","ERROR");i=new a.Chooser}var f,g=[];for(var h in b.categories)g.push(c(h,b.categories[h],d,e));return f=i.format(b.key,g,b.locale),"undefined"==typeof f&&(f=g[0].text()),f}function e(a,b,c){var d,e="default";return"undefined"!=typeof a.categories[a.key]?d=dust.helpers.tap(a.categories[a.key],b,c):a.isStringComparison&&"undefined"!=typeof a.categories[e]&&(d=dust.helpers.tap(a.categories[e],b,c)),d}function f(a){return a&&a.locale?a.locale:"undefined"!=typeof LI&&"undefined"!=typeof LI.i18n&&"undefined"!=typeof LI.i18n.getLocale?LI.i18n.getLocale().value:"en_US"}function g(a,b,c,d){var e="",f=d.filter||d.filters,g=d.ignoreDefaultFilter;return"undefined"!=typeof f&&(e=dust.helpers.tap(f,b,c).split("|")),g?a:dust.filter(a,"h",e)}var h={i18n:dust.i18n||{cache:{}}};a.renderDynamicString=function(a,b,c,d){dust.render(a,c,d)};var i,j,k=new a.Rtl,l={},m={name:function(b,c,d,e,f){var g=dust.helpers.tap(d.firstName,e,f),h=dust.helpers.tap(d.lastName,e,f),i=dust.helpers.tap(d.maidenName,e,f),j=dust.helpers.tap(d.lastNameWithHighlight,e,f);if(!l.name){if("undefined"==typeof a.NameFormatter)return dust.log("@format helper can not create instance of NameFormatter. t8.NameFormatter is null or undefined","ERROR");l.name=new a.NameFormatter}for(var k={familiar:"FAMILIAR_NAME",full:"FULL_NAME",list:"LIST_VIEW",micro:"MICROFORMAT"},m=b.split("."),n=[],o=0;o<m.length;o++)k[m[o]]&&n.push(k[m[o]]);return l.name.format({firstName:g,lastName:h,maidenName:i,lastNameWithHighlight:j},n,c)},date:function(b,c,d,e,f){var g=dust.helpers.tap(d.date,e,f),h=dust.helpers.tap(d.useTimeZone,e,f);if(!l.date){if("undefined"==typeof a.DateFormatter)return dust.log("@format helper can not create instance of DateFormatter. t8.DateFormatter is null or undefined","ERROR");l.date=new a.DateFormatter}return/^date\.(time|mdy|my|md|m|d|y|iso)(\.(long|medium|short))?$/.test(b)?b=b.replace(/date\./,""):(dust.log("@format helper was called with invalid format "+b+". Falling back to default date.mdy.long","WARN"),b="mdy.long"),l.date.format(g,c,b,h)},time:function(b,c,d,e,f){var g=dust.helpers.tap(d.date,e,f),h=dust.helpers.tap(d.useTimeZone,e,f);if(!l.time){if("undefined"==typeof a.TimeFormatter)return dust.log("@format helper can not create instance of TimeFormatter. t8.TimeFormatter is null or undefined","ERROR");l.time=new a.TimeFormatter}return/^time\.(hm|hms)?$/.test(b)?b=b.replace(/time\./,""):(dust.log("@format helper was called with invalid format "+b+". Falling back to default time.hms","WARN"),b="hms"),l.time.format(g,c,b,h)},currency:function(b,c,d,e,f){var g,h=dust.helpers.tap(d.amount,e,f),i=dust.helpers.tap(d.defaultAmount,e,f),j=dust.helpers.tap(d.currency,e,f);if(!l.currency){if("undefined"==typeof a.CurrencyFormatter)return dust.log("@format helper can not create instance of CurrencyFormatter. t8.CurrencyFormatter is null or undefined","ERROR");l.currency=new a.CurrencyFormatter}return g=isNaN(h)?isNaN(i)?"":l.currency.format(i,j,c):l.currency.format(h,j,c)},number:function(b,c,d,e,f){var g,h=dust.helpers.tap(d.value,e,f),i=dust.helpers.tap(d.defaultValue,e,f);if(!l.number){if("undefined"==typeof a.NumberFormatter)return dust.log("@format helper can not create instance of NumberFormatter. t8.NumberFormatter is null or undefined","ERROR");l.number=new a.NumberFormatter}return g=isNaN(h)?isNaN(i)?"":l.number.format(i,c):l.number.format(h,c)},string:function(b,c,d,e,f){var g=dust.helpers.tap(d.value,e,f),h=dust.helpers.tap(d.limit,e,f);if(!l.truncation){if("undefined"==typeof a.TruncationFormatter)return dust.log("@format helper can not create instance of stringFormatter. t8.stringFormatter is null or undefined","ERROR");l.truncation=new a.TruncationFormatter}return l.truncation.format(g,h)}},n={translate:function(b,c,d,e){function f(a,b,d){c.stack.head||(c.stack.head={}),"json"===e.output?(c.stack.head[a]=b,d.end("")):d.end(g(b,d,c,e))}function i(a,b){if("undefined"!=typeof d&&"undefined"!=typeof d.block)b.capture(d.block,c,function(c,d){f(a,c,b),d.end("")}).end();else{var g;g="undefined"!=typeof e.text?e.text:a,f(a,g,b)}}if("undefined"==typeof e||"undefined"==typeof e.key)return b.setError('@translate helper called with null or undefined "key" attribute');var j=e.hide?dust.helpers.tap(e.hide,b,c):null;if("true"===j)return b;if("undefined"==typeof a.Resources)return b.setError("Can not create an instance of i18n.Resources. i18n.Resources is undefined");h.i18n.resources=new a.Resources(dust.i18n,dust);var k=dust.helpers.tap(e.key,b,c),l="function"==typeof c.getTemplateName?c.getTemplateName():c.global.__template_name__;return e.template?l=dust.helpers.tap(e.template,b,c):e.templateName&&(l=dust.helpers.tap(e.templateName,b,c)),b.map(function(a){var b,d=["key","template"],g={};for(var j in e)d.indexOf(j)<0&&(g[j]=e[j]);b=c.push(g),"undefined"!=typeof l?h.i18n.resources.get(k,l,b,function(b,c){b?(dust.log(b),i(k,a)):f(k,c,a)}):(dust.log("@translate helper can not determine templateName"),i(k,a)),a.end("")})},format:function(a,b,c,d){if(!d||!d.type)return a.setError('@format helper called with null or undefined "format" attribute');var e=dust.helpers.tap(d.type,a,b),h=dust.helpers.tap(d.key,a,b),i=e.split(".")[0],j="",k=f(d);if("undefined"!=typeof m[i])try{j=m[i](e,k,d,a,b)}catch(l){dust.log("@format failed to format value. "+l.message,"ERROR")}return"undefined"!=typeof h&&(b.stack.head[h]=j),d.output&&"json"===d.output?a:("name"!==i||-1===e.indexOf("micro")&&"undefined"==typeof d.lastNameWithHighlight||(d.ignoreDefaultFilter=!0),a.write(g(j,a,b,d)))},choice:function(a,c,f,h){if(!h||!h.hasOwnProperty("key"))return a.setError('@choice helper called without required parameter "key"');if("undefined"==typeof h.key)return dust.log("@choice helper called with undefined key","WARN"),a.write("");var i="",j=b(a,c,f,h);return j.hasCategories?(j.isBooleanComparison||j.isStringComparison?i=e(j,a,c):j.isNumericComparison&&(i=d(j,a,c)),a.write(g(i,a,c,h))):a.setError("@choice helper called with no patterns to choose from")},possessive:function(b,c,d,e){if(!e||!e.hasOwnProperty("key"))return b.setError('@possessive helper called without required parameter "key"');if("undefined"==typeof e.key)return dust.log("@possessive helper called with undefined key","WARN"),b.write("");var h=dust.helpers.tap(e.key,b,c),i=new a.Possessive,j=f(e),k=i.format(h,j);return b.write(g(k,b,c,e))},dirAttr:function(a,b,c,d){return d&&d.hasOwnProperty("text")?a.write('dir="'+(k.isRtl(dust.helpers.tap(d.text,a,b))?"rtl":"ltr")+'"'):a.setError('@dirAttr helper called without required parameter "text"')},isRtl:function(a,b,c,d){var e=c.block,f=c["else"];return d&&d.hasOwnProperty("text")?(k.isRtl(dust.helpers.tap(d.text,a,b))?e?a.render(e,b):dust.log("Missing body block in the isRtl helper!","INFO"):f&&a.render(f,b),a):a.setError('@isRtl helper called without required parameter "text"')}};for(j in h)dust[j]=h[j];for(j in n)dust.helpers[j]=n[j]});
(function (global, dust) {
  var dustVersion = 'unknown',
      liDustVars = global.liDustVars;

  if (typeof global.liDustVars !== 'undefined') {
    //restore dust.cache in case dust.cache existed before loading new version of Dust
    dust.cache = liDustVars.cache;
    //restore static i18n strings cache
    dust.i18n = liDustVars.i18n;

    //restore dust helpers that were overwritten by the new dust version and not added back
    for (var helperName in liDustVars.helpers) {
      if (typeof dust.helpers[helperName] === 'undefined') {
        dust.helpers[helperName] = liDustVars.helpers[helperName];
      }
    }

    //delete global variable
    delete global.liDustVars;
  }

  //save dust package version and delete global var
  if (typeof global.liDustVersion !== 'undefined') {
    dustVersion = global.liDustVersion;
    delete global.liDustVersion;
  }

  dust.helpers.dustVersion = function (chunk, context, bodies, params) {
    return chunk.write(dustVersion);
  }

})(this, dust);
(function(){function a(){var b=LIModules.requires("dust"),a=LIModules.requires("jquery"),d=a('[name\x3d"IntlJsUrl"]').attr("content");if(d){var e=b.render,c=[];b.render=function(){c.push(arguments)};a.ajax({url:d,type:"get",dataType:"script",cache:!0}).done(function(){var a=c.shift();for(b.render=e;a;)b.render.apply(this,a),a=c.shift()})}}window.LI_JS_TEST?window.stubDust=a:"undefined"===typeof Intl&&a()})();(function(c,a){var d;a.log?(d=a.log,a.log=function(b,e){try{if(c.jet&&("ERROR"===e||"WARN"===e))if(b instanceof Error)jet.error(b);else if("string"===typeof b)try{throw Error(b);}catch(f){jet.error(f)}}finally{return d.apply(a,arguments)}}):c.jet&&jet.error(Error("The function dust.log doesn't exist in this version."))})(window,dust);!function(a,b){"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define("liTrackClient",[],b):a.liTrackClient=b()}(this,function(){var a={AJAX_METHOD:"POST",DEFAULT_PAGE_TYPE:"ajax",globalTrackingUrl:null,globalTrackingAppId:"no.app.id",lastDisplayMetric:null,lastActionMetric:null,queue:[],maxQueueSize:1,queueTimeout:1e3,timeoutId:null,setProperty:function(a,b){if(b)return void(this[a]=b);var c=this.getMetaTag(a);return c?void(this[a]=c.content):void 0},setTrackingUrl:function(a){this.setProperty("globalTrackingUrl",a)},setAppId:function(a){this.setProperty("globalTrackingAppId",a)},createXmlHttpObject:function(){try{return new XMLHttpRequest}catch(a){}return null},ajax:function(a,b,c){var d;return this.globalTrackingUrl?(d=this.createXmlHttpObject(),void(d&&(d.open(this.AJAX_METHOD,this.globalTrackingUrl,!0),d.setRequestHeader("Content-type","application/json"),d.onreadystatechange=function(){return 4===d.readyState?200!==d.status&&304!==d.status?void(c&&c("Request returned "+d.status)):void("function"==typeof b&&b(d)):void 0},4!==d.readyState&&d.send(a)))):void(c&&c("Tracking url is not defined"))},flush:function(){var a=this;this.ajax(JSON.stringify(this.queue),null,a.logError),this.queue=[],clearTimeout(this.timeoutId),this.timeoutId=null},addToQueue:function(a){if(this.queue.push(a),this.queue.length>=this.maxQueueSize)return this.flush();if(!this.timeoutId){var b=this;this.timeoutId=setTimeout(function(){b.flush()},this.queueTimeout)}},track:function(a){return"object"!=typeof a?void this.logError("Track data must be an object"):(a=this.fillMissingData(a),void this.addToQueue(a))},trackWithCallback:function(a,b){var c=this;if("object"!=typeof a)return void this.logError("Track data must be an object");a=this.fillMissingData(a);var d=JSON.stringify(a);this.ajax(d,function(a){"function"==typeof b&&b(null,a.responseText)},function(a){c.logError(a),"function"==typeof b&&b(a)})},getTimestamp:function(){return Math.round((new Date).getTime()/1e3)},getTrackingCode:function(a){return a.eventBody.trackingCode?a.eventBody.trackingCode:"PageViewEvent"===a.eventInfo.eventName?"full"===a.eventBody.pageType?(this.lastDisplayMetric=a.eventBody.requestHeader.pageKey,this.lastActionMetric):(this.lastActionMetric=a.eventBody.requestHeader.pageKey,this.lastDisplayMetric):null},fillMissingData:function(a){if(!a.eventInfo)return this.logError("You must specify eventInfo");if(a.eventInfo.appId||(a.eventInfo.appId=this.globalTrackingAppId),!a.eventBody)return this.logError("You must specify eventBody");a.eventBody.trackingCode=this.getTrackingCode(a);var b=a.eventBody.trackingInfo||{};return b.clientTimestamp||(b.clientTimestamp=this.getTimestamp()),a.eventBody.trackingInfo=b,a},trackPageView:function(a){var b,c,d,e;"string"==typeof a?(b=a,e=this.DEFAULT_PAGE_TYPE):(b=a.pageKey,e=a.pageType||this.DEFAULT_PAGE_TYPE,c=a.trackingCode,d=a.trackingInfo);var f={eventInfo:{eventName:"PageViewEvent"},eventBody:{requestHeader:{pageKey:b},pageType:e}};return c&&(f.eventBody.trackingCode=c),d&&(f.eventBody.trackingInfo=d),b?void this.track(f):this.logError("You must provide a pageKey")},trackUnifiedAction:function(a){if(!a.requestHeader||!a.requestHeader.pageKey)return this.logError("You must provide pageKey");if(!a.action)return this.logError("You must provide action");if(!a.sponsoredFlag)return this.logError("You must provide sponsoredFlag");var b={eventInfo:{eventName:"UnifiedActionEvent"},eventBody:a};this.track(b)},trackArticleView:function(a){if(!a.requestHeader||!a.requestHeader.pageKey)return this.logError("You must provide pageKey");if(!a.articleId)return this.logError("You must provide articleId");var b={eventInfo:{eventName:"ArticleViewEvent"},eventBody:a};this.track(b)},trackUnifiedImpression:function(a){if(!a.requestHeader||!a.requestHeader.pageKey)return this.logError("You must provide pageKey");if(!a.results)return this.logError("You must provide results");var b={eventInfo:{eventName:"UnifiedImpressionEvent"},eventBody:a};this.track(b)},logError:function(a){console&&console.error&&console.error(a)},getMetaTag:function(a){var b,c,d=document.getElementById(a);if(d)return d;for(metas=document.getElementsByTagName("meta"),c=metas.length,b=0;c>b;b++)if(metas[b].getAttribute("name")===a)return metas[b];return null}};return a.setTrackingUrl(),a.setAppId(),a});!function(a,b){"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define("externalTracking",[],b):a.externalTracking=b()}(this,function(){var a={samplingFraction:null,documentPageKeyOverride:null,TRACK_CLIENT:"liTrackClient",EVENT_NAME:"ExternalTrackingPageViewEvent",CHROME_INITIATOR:"CHROME",APP_INITIATOR:"APP",COMSCORE_DATA:{c1:2,c2:6402952,c3:"",c4:"",c5:"",c6:"",c15:""},COMSCORE_BEACON_URL:"http"+("s"===document.URL.charAt(4)?"s://sb":"://b")+".scorecardresearch.com/b?",setTreatment:function(a){try{var b,c;this.samplingFraction=null,a&&0===a.indexOf("enabled")&&(b=a.split("_"),2===b.length&&(c=parseFloat(b[1]),c>=0&&1>=c&&(this.samplingFraction=c)))}catch(d){this._logError("failed to set treatment: "+d)}},setDocumentPageKeyOverride:function(a){this.documentPageKeyOverride=a},trackWithComScoreForChromeInit:function(){this._trackWithComScore(this.documentPageKeyOverride,this.CHROME_INITIATOR)},trackWithComScore:function(a){this._trackWithComScore(a,this.APP_INITIATOR)},_trackWithComScore:function(a,b){var c,d,e,f="ns_",g=[],h=window,i=document,j=h.encodeURIComponent,k=this.COMSCORE_DATA;if(h.COMSCORE&&"function"==typeof h.COMSCORE.beacon)COMSCORE.beacon(k);else{for(d in k)k.hasOwnProperty(d)&&g.push(j(d)+"="+j(k[d]));g.push(f+"_t="+ +new Date),g.push(f+"c="+(i.characterSet||i.defaultCharset||"")),g.push("c8="+j(i.title)),g.push("c7="+j(i.URL)),g.push("c9="+j(i.referrer)),c=this.COMSCORE_BEACON_URL+g.join("&"),e=new Image,e.src=c}try{this._trackExternalPageViewRequest(a||this._getDocumentPageKey(),["COMSCORE"],b)}catch(l){this._logError("failed to track external page view")}},_trackExternalPageViewRequest:function(a,b,c){var d=this;if(null!==d.samplingFraction){var e={eventInfo:{eventName:d.EVENT_NAME,appId:d._getAppName()},eventBody:{pageViewPageKey:a,pageViewPath:d._getDocumentPath(),samplingFraction:d.samplingFraction,providers:b,initiator:c,requestHeader:{pageKey:d._getDocumentPageKey()}}};if(window.liTrackClient)try{window.liTrackClient.track(e)}catch(f){d._logError("failed to track external page view with "+d.TRACK_CLIENT)}else if(window.require&&"function"==typeof window.require.ensure)try{require.ensure([d.TRACK_CLIENT],function(a){try{var b=a(d.TRACK_CLIENT);b.track(e)}catch(c){d._logError("failed to track external page view with "+d.TRACK_CLIENT)}})}catch(f){d._logError("failed to require "+d.TRACK_CLIENT)}else d._logError(d.TRACK_CLIENT+" not found")}else d._logError("sampling fraction not set")},_getDocumentPageKey:function(){var a=this._getMetaTag("pageKey");return a?a.content:(this._logError("pageKey not found"),"")},_getDocumentPath:function(){return window.location.pathname.split("?")[0]},_getAppName:function(){var a=this._getMetaTag("appName");return a?a.content:(this._logError("appName not found"),"")},_getMetaTag:function(a){var b,c=document.getElementsByTagName("meta"),d=c.length;for(b=0;d>b;b++)if(c[b].getAttribute("name")===a)return c[b];return null},_logError:function(a){console&&console.error&&console.error(a)}};return a});