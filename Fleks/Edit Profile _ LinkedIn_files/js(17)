/*
	jQuery pub/sub plugin by Peter Higgins (dante@dojotoolkit.org)
	Loosely based on Dojo publish/subscribe API, limited in scope. Rewritten blindly.
	Original is (c) Dojo Foundation 2004-2009. Released under either AFL or new BSD, see:
	http://dojofoundation.org/license for more information.
*/
;(function(d){
	// the topic/subscription hash
	var cache = {};
	d.publish = function(/* String */topic, /* Array? */args){
		// summary: 
		//		Publish some data on a named topic.
		// topic: String
		//		The channel to publish on
		// args: Array?
		//		The data to publish. Each array item is converted into an ordered
		//		arguments on the subscribed functions. 
		//
		// example:
		//		Publish stuff on '/some/topic'. Anything subscribed will be called
		//		with a function signature like: function(a,b,c){ ... }
		//
		//	|		$.publish("/some/topic", ["a","b","c"]);
		d.each(cache[topic], function(){
			this.apply(d, args || []);
		});
	};
	d.subscribe = function(/* String */topic, /* Function */callback){
		// summary:
		//		Register a callback on a named topic.
		// topic: String
		//		The channel to subscribe to
		// callback: Function
		//		The handler event. Anytime something is $.publish'ed on a 
		//		subscribed channel, the callback will be called with the
		//		published array as ordered arguments.
		//
		// returns: Array
		//		A handle which can be used to unsubscribe this particular subscription.
		//	
		// example:
		//	|	$.subscribe("/some/topic", function(a, b, c){ /* handle data */ });
		//
		if(!cache[topic]){
			cache[topic] = [];
		}
		cache[topic].push(callback);
		return [topic, callback]; // Array
	};
	d.unsubscribe = function(/* Array */handle){
		// summary:
		//		Disconnect a subscribed function for a topic.
		// handle: Array
		//		The return value from a $.subscribe call.
		// example:
		//	|	var handle = $.subscribe("/something", function(){});
		//	|	$.unsubscribe(handle);

		var t = handle[0];
		cache[t] && d.each(cache[t], function(idx){
			if(this == handle[1]){
				cache[t].splice(idx, 1);
			}
		});
	};
})(jQuery);/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.8.1
*/
if(!YAHOO.util.DragDropMgr){YAHOO.util.DragDropMgr=function(){
var A=YAHOO.util.Event,B=YAHOO.util.Dom;return{useShim:false,_shimActive:false,_shimState:false,_debugShim:false,_createShim:function(){var C=document.createElement("div");C.id="yui-ddm-shim";if(document.body.firstChild){document.body.insertBefore(C,document.body.firstChild);}else{document.body.appendChild(C);}C.style.display="none";C.style.backgroundColor="red";C.style.position="absolute";C.style.zIndex="99999";B.setStyle(C,"opacity","0");this._shim=C;A.on(C,"mouseup",this.handleMouseUp,this,true);A.on(C,"mousemove",this.handleMouseMove,this,true);A.on(window,"scroll",this._sizeShim,this,true);},_sizeShim:function(){if(this._shimActive){var C=this._shim;C.style.height=B.getDocumentHeight()+"px";C.style.width=B.getDocumentWidth()+"px";C.style.top="0";C.style.left="0";}},_activateShim:function(){if(this.useShim){if(!this._shim){this._createShim();}this._shimActive=true;var C=this._shim,D="0";if(this._debugShim){D=".5";}B.setStyle(C,"opacity",D);this._sizeShim();C.style.display="block";}},_deactivateShim:function(){this._shim.style.display="none";this._shimActive=false;},_shim:null,ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:true,stopPropagation:true,initialized:false,locked:false,interactionInfo:null,init:function(){this.initialized=true;},POINT:0,INTERSECT:1,STRICT_INTERSECT:2,mode:0,_execOnAll:function(E,D){for(var F in this.ids){for(var C in this.ids[F]){var G=this.ids[F][C];if(!this.isTypeOfDD(G)){continue;}G[E].apply(G,D);}}},_onLoad:function(){this.init();A.on(document,"mouseup",this.handleMouseUp,this,true);A.on(document,"mousemove",this.handleMouseMove,this,true);A.on(window,"unload",this._onUnload,this,true);A.on(window,"resize",this._onResize,this,true);},_onResize:function(C){this._execOnAll("resetConstraints",[]);},lock:function(){this.locked=true;},unlock:function(){this.locked=false;},isLocked:function(){return this.locked;},locationCache:{},useCache:true,clickPixelThresh:3,clickTimeThresh:1000,dragThreshMet:false,clickTimeout:null,startX:0,startY:0,fromTimeout:false,regDragDrop:function(D,C){if(!this.initialized){this.init();}if(!this.ids[C]){this.ids[C]={};}this.ids[C][D.id]=D;},removeDDFromGroup:function(E,C){if(!this.ids[C]){this.ids[C]={};}var D=this.ids[C];if(D&&D[E.id]){delete D[E.id];}},_remove:function(E){for(var D in E.groups){if(D){var C=this.ids[D];if(C&&C[E.id]){delete C[E.id];}}}delete this.handleIds[E.id];},regHandle:function(D,C){if(!this.handleIds[D]){this.handleIds[D]={};}this.handleIds[D][C]=C;},isDragDrop:function(C){return(this.getDDById(C))?true:false;},getRelated:function(H,D){var G=[];for(var F in H.groups){for(var E in this.ids[F]){var C=this.ids[F][E];if(!this.isTypeOfDD(C)){continue;}if(!D||C.isTarget){G[G.length]=C;}}}return G;},isLegalTarget:function(G,F){var D=this.getRelated(G,true);for(var E=0,C=D.length;E<C;++E){if(D[E].id==F.id){return true;}}return false;},isTypeOfDD:function(C){return(C&&C.__ygDragDrop);},isHandle:function(D,C){return(this.handleIds[D]&&this.handleIds[D][C]);},getDDById:function(D){for(var C in this.ids){if(this.ids[C][D]){return this.ids[C][D];}}return null;},handleMouseDown:function(E,D){this.currentTarget=YAHOO.util.Event.getTarget(E);this.dragCurrent=D;var C=D.getEl();this.startX=YAHOO.util.Event.getPageX(E);this.startY=YAHOO.util.Event.getPageY(E);this.deltaX=this.startX-C.offsetLeft;this.deltaY=this.startY-C.offsetTop;this.dragThreshMet=false;this.clickTimeout=setTimeout(function(){var F=YAHOO.util.DDM;F.startDrag(F.startX,F.startY);F.fromTimeout=true;},this.clickTimeThresh);},startDrag:function(C,E){if(this.dragCurrent&&this.dragCurrent.useShim){this._shimState=this.useShim;this.useShim=true;}this._activateShim();clearTimeout(this.clickTimeout);var D=this.dragCurrent;if(D&&D.events.b4StartDrag){D.b4StartDrag(C,E);D.fireEvent("b4StartDragEvent",{x:C,y:E});}if(D&&D.events.startDrag){D.startDrag(C,E);D.fireEvent("startDragEvent",{x:C,y:E});}this.dragThreshMet=true;},handleMouseUp:function(C){if(this.dragCurrent){clearTimeout(this.clickTimeout);if(this.dragThreshMet){if(this.fromTimeout){this.fromTimeout=false;this.handleMouseMove(C);}this.fromTimeout=false;this.fireEvents(C,true);}else{}this.stopDrag(C);this.stopEvent(C);}},stopEvent:function(C){if(this.stopPropagation){YAHOO.util.Event.stopPropagation(C);}if(this.preventDefault){YAHOO.util.Event.preventDefault(C);}},stopDrag:function(E,D){var C=this.dragCurrent;if(C&&!D){if(this.dragThreshMet){if(C.events.b4EndDrag){C.b4EndDrag(E);C.fireEvent("b4EndDragEvent",{e:E});}if(C.events.endDrag){C.endDrag(E);C.fireEvent("endDragEvent",{e:E});}}if(C.events.mouseUp){C.onMouseUp(E);C.fireEvent("mouseUpEvent",{e:E});}}if(this._shimActive){this._deactivateShim();if(this.dragCurrent&&this.dragCurrent.useShim){this.useShim=this._shimState;this._shimState=false;}}this.dragCurrent=null;this.dragOvers={};},handleMouseMove:function(F){var C=this.dragCurrent;if(C){if(YAHOO.env.ua.ie&&(YAHOO.env.ua.ie<9)&&!F.button){this.stopEvent(F);return this.handleMouseUp(F);}else{if(F.clientX<0||F.clientY<0){}}if(!this.dragThreshMet){var E=Math.abs(this.startX-YAHOO.util.Event.getPageX(F));var D=Math.abs(this.startY-YAHOO.util.Event.getPageY(F));if(E>this.clickPixelThresh||D>this.clickPixelThresh){this.startDrag(this.startX,this.startY);}}if(this.dragThreshMet){if(C&&C.events.b4Drag){C.b4Drag(F);C.fireEvent("b4DragEvent",{e:F});}if(C&&C.events.drag){C.onDrag(F);C.fireEvent("dragEvent",{e:F});}if(C){this.fireEvents(F,false);}}this.stopEvent(F);}},fireEvents:function(V,L){var a=this.dragCurrent;if(!a||a.isLocked()||a.dragOnly){return;}var N=YAHOO.util.Event.getPageX(V),M=YAHOO.util.Event.getPageY(V),P=new YAHOO.util.Point(N,M),K=a.getTargetCoord(P.x,P.y),F=a.getDragEl(),E=["out","over","drop","enter"],U=new YAHOO.util.Region(K.y,K.x+F.offsetWidth,K.y+F.offsetHeight,K.x),I=[],D={},Q=[],c={outEvts:[],overEvts:[],dropEvts:[],enterEvts:[]};for(var S in this.dragOvers){var d=this.dragOvers[S];if(!this.isTypeOfDD(d)){continue;
}if(!this.isOverTarget(P,d,this.mode,U)){c.outEvts.push(d);}I[S]=true;delete this.dragOvers[S];}for(var R in a.groups){if("string"!=typeof R){continue;}for(S in this.ids[R]){var G=this.ids[R][S];if(!this.isTypeOfDD(G)){continue;}if(G.isTarget&&!G.isLocked()&&G!=a){if(this.isOverTarget(P,G,this.mode,U)){D[R]=true;if(L){c.dropEvts.push(G);}else{if(!I[G.id]){c.enterEvts.push(G);}else{c.overEvts.push(G);}this.dragOvers[G.id]=G;}}}}}this.interactionInfo={out:c.outEvts,enter:c.enterEvts,over:c.overEvts,drop:c.dropEvts,point:P,draggedRegion:U,sourceRegion:this.locationCache[a.id],validDrop:L};for(var C in D){Q.push(C);}if(L&&!c.dropEvts.length){this.interactionInfo.validDrop=false;if(a.events.invalidDrop){a.onInvalidDrop(V);a.fireEvent("invalidDropEvent",{e:V});}}for(S=0;S<E.length;S++){var Y=null;if(c[E[S]+"Evts"]){Y=c[E[S]+"Evts"];}if(Y&&Y.length){var H=E[S].charAt(0).toUpperCase()+E[S].substr(1),X="onDrag"+H,J="b4Drag"+H,O="drag"+H+"Event",W="drag"+H;if(this.mode){if(a.events[J]){a[J](V,Y,Q);a.fireEvent(J+"Event",{event:V,info:Y,group:Q});}if(a.events[W]){a[X](V,Y,Q);a.fireEvent(O,{event:V,info:Y,group:Q});}}else{for(var Z=0,T=Y.length;Z<T;++Z){if(a.events[J]){a[J](V,Y[Z].id,Q[0]);a.fireEvent(J+"Event",{event:V,info:Y[Z].id,group:Q[0]});}if(a.events[W]){a[X](V,Y[Z].id,Q[0]);a.fireEvent(O,{event:V,info:Y[Z].id,group:Q[0]});}}}}}},getBestMatch:function(E){var G=null;var D=E.length;if(D==1){G=E[0];}else{for(var F=0;F<D;++F){var C=E[F];if(this.mode==this.INTERSECT&&C.cursorIsOver){G=C;break;}else{if(!G||!G.overlap||(C.overlap&&G.overlap.getArea()<C.overlap.getArea())){G=C;}}}}return G;},refreshCache:function(D){var F=D||this.ids;for(var C in F){if("string"!=typeof C){continue;}for(var E in this.ids[C]){var G=this.ids[C][E];if(this.isTypeOfDD(G)){var H=this.getLocation(G);if(H){this.locationCache[G.id]=H;}else{delete this.locationCache[G.id];}}}}},verifyEl:function(D){try{if(D){var C=D.offsetParent;if(C){return true;}}}catch(E){}return false;},getLocation:function(H){if(!this.isTypeOfDD(H)){return null;}var F=H.getEl(),K,E,D,M,L,N,C,J,G;try{K=YAHOO.util.Dom.getXY(F);}catch(I){}if(!K){return null;}E=K[0];D=E+F.offsetWidth;M=K[1];L=M+F.offsetHeight;N=M-H.padding[0];C=D+H.padding[1];J=L+H.padding[2];G=E-H.padding[3];return new YAHOO.util.Region(N,C,J,G);},isOverTarget:function(K,C,E,F){var G=this.locationCache[C.id];if(!G||!this.useCache){G=this.getLocation(C);this.locationCache[C.id]=G;}if(!G){return false;}C.cursorIsOver=G.contains(K);var J=this.dragCurrent;if(!J||(!E&&!J.constrainX&&!J.constrainY)){return C.cursorIsOver;}C.overlap=null;if(!F){var H=J.getTargetCoord(K.x,K.y);var D=J.getDragEl();F=new YAHOO.util.Region(H.y,H.x+D.offsetWidth,H.y+D.offsetHeight,H.x);}var I=F.intersect(G);if(I){C.overlap=I;return(E)?true:C.cursorIsOver;}else{return false;}},_onUnload:function(D,C){this.unregAll();},unregAll:function(){if(this.dragCurrent){this.stopDrag();this.dragCurrent=null;}this._execOnAll("unreg",[]);this.ids={};},elementCache:{},getElWrapper:function(D){var C=this.elementCache[D];if(!C||!C.el){C=this.elementCache[D]=new this.ElementWrapper(YAHOO.util.Dom.get(D));}return C;},getElement:function(C){return YAHOO.util.Dom.get(C);},getCss:function(D){var C=YAHOO.util.Dom.get(D);return(C)?C.style:null;},ElementWrapper:function(C){this.el=C||null;this.id=this.el&&C.id;this.css=this.el&&C.style;},getPosX:function(C){return YAHOO.util.Dom.getX(C);},getPosY:function(C){return YAHOO.util.Dom.getY(C);},swapNode:function(E,C){if(E.swapNode){E.swapNode(C);}else{var F=C.parentNode;var D=C.nextSibling;if(D==E){F.insertBefore(E,C);}else{if(C==E.nextSibling){F.insertBefore(C,E);}else{E.parentNode.replaceChild(C,E);F.insertBefore(E,D);}}}},getScroll:function(){var E,C,F=document.documentElement,D=document.body;if(F&&(F.scrollTop||F.scrollLeft)){E=F.scrollTop;C=F.scrollLeft;}else{if(D){E=D.scrollTop;C=D.scrollLeft;}else{}}return{top:E,left:C};},getStyle:function(D,C){return YAHOO.util.Dom.getStyle(D,C);},getScrollTop:function(){return this.getScroll().top;},getScrollLeft:function(){return this.getScroll().left;},moveToEl:function(C,E){var D=YAHOO.util.Dom.getXY(E);YAHOO.util.Dom.setXY(C,D);},getClientHeight:function(){return YAHOO.util.Dom.getViewportHeight();},getClientWidth:function(){return YAHOO.util.Dom.getViewportWidth();},numericSort:function(D,C){return(D-C);},_timeoutCount:0,_addListeners:function(){var C=YAHOO.util.DDM;if(YAHOO.util.Event&&document){C._onLoad();}else{if(C._timeoutCount>2000){}else{setTimeout(C._addListeners,10);if(document&&document.body){C._timeoutCount+=1;}}}},handleWasClicked:function(C,E){if(this.isHandle(E,C.id)){return true;}else{var D=C.parentNode;while(D){if(this.isHandle(E,D.id)){return true;}else{D=D.parentNode;}}}return false;}};}();YAHOO.util.DDM=YAHOO.util.DragDropMgr;YAHOO.util.DDM._addListeners();}(function(){var A=YAHOO.util.Event;var B=YAHOO.util.Dom;YAHOO.util.DragDrop=function(E,C,D){if(E){this.init(E,C,D);}};YAHOO.util.DragDrop.prototype={events:null,on:function(){this.subscribe.apply(this,arguments);},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:false,lock:function(){this.locked=true;},unlock:function(){this.locked=false;},isTarget:true,padding:null,dragOnly:false,useShim:false,_domRef:null,__ygDragDrop:true,constrainX:false,constrainY:false,minX:0,maxX:0,minY:0,maxY:0,deltaX:0,deltaY:0,maintainOffset:false,xTicks:null,yTicks:null,primaryButtonOnly:true,available:false,hasOuterHandles:false,cursorIsOver:false,overlap:null,b4StartDrag:function(C,D){},startDrag:function(C,D){},b4Drag:function(C){},onDrag:function(C){},onDragEnter:function(C,D){},b4DragOver:function(C){},onDragOver:function(C,D){},b4DragOut:function(C){},onDragOut:function(C,D){},b4DragDrop:function(C){},onDragDrop:function(C,D){},onInvalidDrop:function(C){},b4EndDrag:function(C){},endDrag:function(C){},b4MouseDown:function(C){},onMouseDown:function(C){},onMouseUp:function(C){},onAvailable:function(){},getEl:function(){if(!this._domRef){this._domRef=B.get(this.id);
}return this._domRef;},getDragEl:function(){return B.get(this.dragElId);},init:function(F,C,D){this.initTarget(F,C,D);A.on(this._domRef||this.id,"mousedown",this.handleMouseDown,this,true);for(var E in this.events){this.createEvent(E+"Event");}},initTarget:function(E,C,D){this.config=D||{};this.events={};this.DDM=YAHOO.util.DDM;this.groups={};if(typeof E!=="string"){this._domRef=E;E=B.generateId(E);}this.id=E;this.addToGroup((C)?C:"default");this.handleElId=E;A.onAvailable(E,this.handleOnAvailable,this,true);this.setDragElId(E);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();},applyConfig:function(){this.events={mouseDown:true,b4MouseDown:true,mouseUp:true,b4StartDrag:true,startDrag:true,b4EndDrag:true,endDrag:true,drag:true,b4Drag:true,invalidDrop:true,b4DragOut:true,dragOut:true,dragEnter:true,b4DragOver:true,dragOver:true,b4DragDrop:true,dragDrop:true};if(this.config.events){for(var C in this.config.events){if(this.config.events[C]===false){this.events[C]=false;}}}this.padding=this.config.padding||[0,0,0,0];this.isTarget=(this.config.isTarget!==false);this.maintainOffset=(this.config.maintainOffset);this.primaryButtonOnly=(this.config.primaryButtonOnly!==false);this.dragOnly=((this.config.dragOnly===true)?true:false);this.useShim=((this.config.useShim===true)?true:false);},handleOnAvailable:function(){this.available=true;this.resetConstraints();this.onAvailable();},setPadding:function(E,C,F,D){if(!C&&0!==C){this.padding=[E,E,E,E];}else{if(!F&&0!==F){this.padding=[E,C,E,C];}else{this.padding=[E,C,F,D];}}},setInitPosition:function(F,E){var G=this.getEl();if(!this.DDM.verifyEl(G)){if(G&&G.style&&(G.style.display=="none")){}else{}return;}var D=F||0;var C=E||0;var H=B.getXY(G);this.initPageX=H[0]-D;this.initPageY=H[1]-C;this.lastPageX=H[0];this.lastPageY=H[1];this.setStartPosition(H);},setStartPosition:function(D){var C=D||B.getXY(this.getEl());this.deltaSetXY=null;this.startPageX=C[0];this.startPageY=C[1];},addToGroup:function(C){this.groups[C]=true;this.DDM.regDragDrop(this,C);},removeFromGroup:function(C){if(this.groups[C]){delete this.groups[C];}this.DDM.removeDDFromGroup(this,C);},setDragElId:function(C){this.dragElId=C;},setHandleElId:function(C){if(typeof C!=="string"){C=B.generateId(C);}this.handleElId=C;this.DDM.regHandle(this.id,C);},setOuterHandleElId:function(C){if(typeof C!=="string"){C=B.generateId(C);}A.on(C,"mousedown",this.handleMouseDown,this,true);this.setHandleElId(C);this.hasOuterHandles=true;},unreg:function(){A.removeListener(this.id,"mousedown",this.handleMouseDown);this._domRef=null;this.DDM._remove(this);},isLocked:function(){return(this.DDM.isLocked()||this.locked);},handleMouseDown:function(J,I){var D=J.which||J.button;if(this.primaryButtonOnly&&D>1){return;}if(this.isLocked()){return;}var C=this.b4MouseDown(J),F=true;if(this.events.b4MouseDown){F=this.fireEvent("b4MouseDownEvent",J);}var E=this.onMouseDown(J),H=true;if(this.events.mouseDown){H=this.fireEvent("mouseDownEvent",J);}if((C===false)||(E===false)||(F===false)||(H===false)){return;}this.DDM.refreshCache(this.groups);var G=new YAHOO.util.Point(A.getPageX(J),A.getPageY(J));if(!this.hasOuterHandles&&!this.DDM.isOverTarget(G,this)){}else{if(this.clickValidator(J)){this.setStartPosition();this.DDM.handleMouseDown(J,this);this.DDM.stopEvent(J);}else{}}},clickValidator:function(D){var C=YAHOO.util.Event.getTarget(D);return(this.isValidHandleChild(C)&&(this.id==this.handleElId||this.DDM.handleWasClicked(C,this.id)));},getTargetCoord:function(E,D){var C=E-this.deltaX;var F=D-this.deltaY;if(this.constrainX){if(C<this.minX){C=this.minX;}if(C>this.maxX){C=this.maxX;}}if(this.constrainY){if(F<this.minY){F=this.minY;}if(F>this.maxY){F=this.maxY;}}C=this.getTick(C,this.xTicks);F=this.getTick(F,this.yTicks);return{x:C,y:F};},addInvalidHandleType:function(C){var D=C.toUpperCase();this.invalidHandleTypes[D]=D;},addInvalidHandleId:function(C){if(typeof C!=="string"){C=B.generateId(C);}this.invalidHandleIds[C]=C;},addInvalidHandleClass:function(C){this.invalidHandleClasses.push(C);},removeInvalidHandleType:function(C){var D=C.toUpperCase();delete this.invalidHandleTypes[D];},removeInvalidHandleId:function(C){if(typeof C!=="string"){C=B.generateId(C);}delete this.invalidHandleIds[C];},removeInvalidHandleClass:function(D){for(var E=0,C=this.invalidHandleClasses.length;E<C;++E){if(this.invalidHandleClasses[E]==D){delete this.invalidHandleClasses[E];}}},isValidHandleChild:function(F){var E=true;var H;try{H=F.nodeName.toUpperCase();}catch(G){H=F.nodeName;}E=E&&!this.invalidHandleTypes[H];E=E&&!this.invalidHandleIds[F.id];for(var D=0,C=this.invalidHandleClasses.length;E&&D<C;++D){E=!B.hasClass(F,this.invalidHandleClasses[D]);}return E;},setXTicks:function(F,C){this.xTicks=[];this.xTickSize=C;var E={};for(var D=this.initPageX;D>=this.minX;D=D-C){if(!E[D]){this.xTicks[this.xTicks.length]=D;E[D]=true;}}for(D=this.initPageX;D<=this.maxX;D=D+C){if(!E[D]){this.xTicks[this.xTicks.length]=D;E[D]=true;}}this.xTicks.sort(this.DDM.numericSort);},setYTicks:function(F,C){this.yTicks=[];this.yTickSize=C;var E={};for(var D=this.initPageY;D>=this.minY;D=D-C){if(!E[D]){this.yTicks[this.yTicks.length]=D;E[D]=true;}}for(D=this.initPageY;D<=this.maxY;D=D+C){if(!E[D]){this.yTicks[this.yTicks.length]=D;E[D]=true;}}this.yTicks.sort(this.DDM.numericSort);},setXConstraint:function(E,D,C){this.leftConstraint=parseInt(E,10);this.rightConstraint=parseInt(D,10);this.minX=this.initPageX-this.leftConstraint;this.maxX=this.initPageX+this.rightConstraint;if(C){this.setXTicks(this.initPageX,C);}this.constrainX=true;},clearConstraints:function(){this.constrainX=false;this.constrainY=false;this.clearTicks();},clearTicks:function(){this.xTicks=null;this.yTicks=null;this.xTickSize=0;this.yTickSize=0;},setYConstraint:function(C,E,D){this.topConstraint=parseInt(C,10);this.bottomConstraint=parseInt(E,10);this.minY=this.initPageY-this.topConstraint;this.maxY=this.initPageY+this.bottomConstraint;if(D){this.setYTicks(this.initPageY,D);
}this.constrainY=true;},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var D=(this.maintainOffset)?this.lastPageX-this.initPageX:0;var C=(this.maintainOffset)?this.lastPageY-this.initPageY:0;this.setInitPosition(D,C);}else{this.setInitPosition();}if(this.constrainX){this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize);}if(this.constrainY){this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize);}},getTick:function(I,F){if(!F){return I;}else{if(F[0]>=I){return F[0];}else{for(var D=0,C=F.length;D<C;++D){var E=D+1;if(F[E]&&F[E]>=I){var H=I-F[D];var G=F[E]-I;return(G>H)?F[D]:F[E];}}return F[F.length-1];}}},toString:function(){return("DragDrop "+this.id);}};YAHOO.augment(YAHOO.util.DragDrop,YAHOO.util.EventProvider);})();YAHOO.util.DD=function(C,A,B){if(C){this.init(C,A,B);}};YAHOO.extend(YAHOO.util.DD,YAHOO.util.DragDrop,{scroll:true,autoOffset:function(C,B){var A=C-this.startPageX;var D=B-this.startPageY;this.setDelta(A,D);},setDelta:function(B,A){this.deltaX=B;this.deltaY=A;},setDragElPos:function(C,B){var A=this.getDragEl();this.alignElWithMouse(A,C,B);},alignElWithMouse:function(C,G,F){var E=this.getTargetCoord(G,F);if(!this.deltaSetXY){var H=[E.x,E.y];YAHOO.util.Dom.setXY(C,H);var D=parseInt(YAHOO.util.Dom.getStyle(C,"left"),10);var B=parseInt(YAHOO.util.Dom.getStyle(C,"top"),10);this.deltaSetXY=[D-E.x,B-E.y];}else{YAHOO.util.Dom.setStyle(C,"left",(E.x+this.deltaSetXY[0])+"px");YAHOO.util.Dom.setStyle(C,"top",(E.y+this.deltaSetXY[1])+"px");}this.cachePosition(E.x,E.y);var A=this;setTimeout(function(){A.autoScroll.call(A,E.x,E.y,C.offsetHeight,C.offsetWidth);},0);},cachePosition:function(B,A){if(B){this.lastPageX=B;this.lastPageY=A;}else{var C=YAHOO.util.Dom.getXY(this.getEl());this.lastPageX=C[0];this.lastPageY=C[1];}},autoScroll:function(J,I,E,K){if(this.scroll){var L=this.DDM.getClientHeight();var B=this.DDM.getClientWidth();var N=this.DDM.getScrollTop();var D=this.DDM.getScrollLeft();var H=E+I;var M=K+J;var G=(L+N-I-this.deltaY);var F=(B+D-J-this.deltaX);var C=40;var A=(document.all)?80:30;if(H>L&&G<C){window.scrollTo(D,N+A);}if(I<N&&N>0&&I-N<C){window.scrollTo(D,N-A);}if(M>B&&F<C){window.scrollTo(D+A,N);}if(J<D&&D>0&&J-D<C){window.scrollTo(D-A,N);}}},applyConfig:function(){YAHOO.util.DD.superclass.applyConfig.call(this);this.scroll=(this.config.scroll!==false);},b4MouseDown:function(A){this.setStartPosition();this.autoOffset(YAHOO.util.Event.getPageX(A),YAHOO.util.Event.getPageY(A));},b4Drag:function(A){this.setDragElPos(YAHOO.util.Event.getPageX(A),YAHOO.util.Event.getPageY(A));},toString:function(){return("DD "+this.id);}});YAHOO.util.DDProxy=function(C,A,B){if(C){this.init(C,A,B);this.initFrame();}};YAHOO.util.DDProxy.dragElId="ygddfdiv";YAHOO.extend(YAHOO.util.DDProxy,YAHOO.util.DD,{resizeFrame:true,centerFrame:false,createFrame:function(){var B=this,A=document.body;if(!A||!A.firstChild){setTimeout(function(){B.createFrame();},50);return;}var F=this.getDragEl(),E=YAHOO.util.Dom;if(!F){F=document.createElement("div");F.id=this.dragElId;var D=F.style;D.position="absolute";D.visibility="hidden";D.cursor="move";D.border="2px solid #aaa";D.zIndex=999;D.height="25px";D.width="25px";var C=document.createElement("div");E.setStyle(C,"height","100%");E.setStyle(C,"width","100%");E.setStyle(C,"background-color","#ccc");E.setStyle(C,"opacity","0");F.appendChild(C);A.insertBefore(F,A.firstChild);}},initFrame:function(){this.createFrame();},applyConfig:function(){YAHOO.util.DDProxy.superclass.applyConfig.call(this);this.resizeFrame=(this.config.resizeFrame!==false);this.centerFrame=(this.config.centerFrame);this.setDragElId(this.config.dragElId||YAHOO.util.DDProxy.dragElId);},showFrame:function(E,D){var C=this.getEl();var A=this.getDragEl();var B=A.style;this._resizeProxy();if(this.centerFrame){this.setDelta(Math.round(parseInt(B.width,10)/2),Math.round(parseInt(B.height,10)/2));}this.setDragElPos(E,D);YAHOO.util.Dom.setStyle(A,"visibility","visible");},_resizeProxy:function(){if(this.resizeFrame){var H=YAHOO.util.Dom;var B=this.getEl();var C=this.getDragEl();var G=parseInt(H.getStyle(C,"borderTopWidth"),10);var I=parseInt(H.getStyle(C,"borderRightWidth"),10);var F=parseInt(H.getStyle(C,"borderBottomWidth"),10);var D=parseInt(H.getStyle(C,"borderLeftWidth"),10);if(isNaN(G)){G=0;}if(isNaN(I)){I=0;}if(isNaN(F)){F=0;}if(isNaN(D)){D=0;}var E=Math.max(0,B.offsetWidth-I-D);var A=Math.max(0,B.offsetHeight-G-F);H.setStyle(C,"width",E+"px");H.setStyle(C,"height",A+"px");}},b4MouseDown:function(B){this.setStartPosition();var A=YAHOO.util.Event.getPageX(B);var C=YAHOO.util.Event.getPageY(B);this.autoOffset(A,C);},b4StartDrag:function(A,B){this.showFrame(A,B);},b4EndDrag:function(A){YAHOO.util.Dom.setStyle(this.getDragEl(),"visibility","hidden");},endDrag:function(D){var C=YAHOO.util.Dom;var B=this.getEl();var A=this.getDragEl();C.setStyle(A,"visibility","");C.setStyle(B,"visibility","hidden");YAHOO.util.DDM.moveToEl(B,A);C.setStyle(A,"visibility","hidden");C.setStyle(B,"visibility","");},toString:function(){return("DDProxy "+this.id);}});YAHOO.util.DDTarget=function(C,A,B){if(C){this.initTarget(C,A,B);}};YAHOO.extend(YAHOO.util.DDTarget,YAHOO.util.DragDrop,{toString:function(){return("DDTarget "+this.id);}});YAHOO.register("dragdrop",YAHOO.util.DragDropMgr,{version:"2.8.1",build:"19"});(function(){void 0===LI.BalloonCalloutManager&&(LI.define("BalloonCalloutManager"),LI.BalloonCalloutManager=function(){var b=500,a=b,m={},q={zIndex:10,constraintoviewport:!0},c=null,l=!1,n=null,f=null,p=null,v={},r=new YAHOO.util.KeyListener(document,{keys:27},{fn:function(){n&&n.close(null)}}),w=function(){l=!0},s=function(){l=!1;g()},v={top:function(a,d,e,k){var b=a.dimensions||h(a),c=d.dimensions||h(d);k=k||{};if("top"===e[0]){if(k.dx=b.x+0.5*b.width-(c.x+0.5*c.width),k.dy=b.y+b.height-c.y,e[1])this[e[1]](a,
d,e,k)}else a=Y$(".callout-arrow",d,!0),a=h(a),a.height=a.height||0,k.dy+=0.5*c.height-0.5*a.height;return k},right:function(a,d,e,k){var b=a.dimensions||h(a),c=d.dimensions||h(d);k=k||{};if("right"===e[0]){if(k.dx=b.x-(c.x+c.width),k.dy=b.y+0.5*b.height-(c.y+0.5*c.height),e[1])this[e[1]](a,d,e,k)}else a=Y$(".callout-arrow",d,!0),a=h(a),a.width=a.width||0,k.dx+=-0.5*c.width+0.5*a.width;return k},bottom:function(a,d,e,b){var c=a.dimensions||h(a),g=d.dimensions||h(d);b=b||{};if("bottom"===e[0]){if(b.dx=
c.x+0.5*c.width-(g.x+0.5*g.width),b.dy=c.y-(g.y+g.height),e[1])this[e[1]](a,d,e,b)}else a=Y$(".callout-arrow",d,!0),a=h(a),a.height=a.height||0,b.dy+=-0.5*g.height+0.5*a.height;return b},left:function(a,d,b,c){var g=a.dimensions||h(a),f=d.dimensions||h(d);c=c||{};if("left"===b[0]){if(c.dx=g.x+g.width-f.x,c.dy=g.y+0.5*g.height-(f.y+0.5*f.height),b[1])this[b[1]](a,d,b,c)}else a=Y$(".callout-arrow",d,!0),a=h(a),a.width=a.width||0,c.dx+=0.5*f.width-0.5*a.width;return c}},h=function(a){var b=YDom.getXY(a),
c;if(!b||!b.length)return{};a=a.getBoundingClientRect();c=parseInt(a.right-a.left,10);return{height:parseInt(a.bottom-a.top,10),width:c,x:b[0],y:b[1]}},t=function(a){var b=n&&!n.isActive();if(!l&&b||a)c.setBody(""),n=null,YDom.removeClass(f,"shown"),r.disable()},g=function(){p||(p=window.setTimeout(function(){window.clearTimeout(p);p=null;t(!1)},LI.BALLOON_CALLOUT_HIDE_DELAY||b))},u=function(){c=new YAHOO.widget.Overlay("callout-overlay",q);c.render(document.body);f=YDom.get("callout-overlay");YEvent.on(f,
"mouseover",w);YEvent.on(f,"mouseout",s);LI.Events&&"function"===typeof LI.Events.trigger&&LI.Events.trigger("LI.BalloonCalloutManager:initialized")};YEvent.onDOMReady(function(){if(YAHOO&&YAHOO.widget&&YAHOO.widget.Overlay)u();else{var a;if(!(LI&&LI.UrlPackage&&LI.UrlPackage.containerCore))throw Error("The package url for container-core does not exist.");a=LI.UrlPackage.containerCore;YAHOO.util.Get.script(a,{onSuccess:u,onFailure:function(){throw Error("Failed to load dependency: "+a);}})}});return{register:function(a,
b){m[a]=b},destroy:function(a){delete m[a]},overlay:c,show:function(g){var d=g.config,e;p&&(window.clearTimeout(p),n=p=null,YDom.removeClass(f,"shown"));n&&n.close();n=g;!0===d.relativeToTrigger&&c.cfg.setProperty("constraintoviewport",!1);null!==d.zIndex&&void 0!==d.zIndex&&c.cfg.setProperty("zIndex",d.zIndex);b=d.persist?100:a;YDom.setStyle(f,"width",d.width);f.className=[d.type," callout-",d.orientation," ",d.id].join("");!d.cacheCalloutContent&&d.id?c.setBody(document.getElementById(d.id).innerHTML+
'\x3cspan class\x3d"callout-arrow"\x3e\x3c/span\x3e'):c.setBody(d.content+'\x3cspan class\x3d"callout-arrow"\x3e\x3c/span\x3e');c.render(document.body);c.cfg.setProperty("context",[g.el,d.overlayCorner,d.contextCorner]);f.dimensions=h(f);g.el.dimensions=h(g.el);e=d.orientation.split("-");e=v[e[0]](g.el,f,e);e.dx+=d.offsetX;e.dy+=d.offsetY;YDom.setXY(f,[f.dimensions.x+e.dx,f.dimensions.y+e.dy]);6===YAHOO.env.ua.ie&&c.moveTo([f.dimensions.x+e.dx,f.dimensions.y+e.dy]);YDom.addClass(f,"shown");if(d.eventsOnInternalElements&&
(e=d.eventsOnInternalElements,e.elementClass&&""!==e.elementClass))for(var k=YDom.getElementsByClassName(e.elementClass),l=k.length,u=0,m;u<l;u++)m=k[u],YEvent.purgeElement(m,!1,e.elementEvent),YEvent.on(m,e.elementEvent,g[e.elementAction],g,!0);d.persist&&r.enable()},hide:g,showing:function(){return n},forceClose:function(){t(!0)}}}())})();LI.define("BalloonCallout");
LI.BalloonCallout=function(b,a){var m=LI.BalloonCalloutManager,q=null,c=YDom.get("callout-overlay")||null,l={left:["tl","tr",5,0],right:["tr","tl",-5,0],top:["tl","tl",0,5],bottom:["bl","tl",0,-5],"top-left":["tl","bl",0,5],"top-right":["tr","br",0,5],"right-top":["tr","tl",-5,0],"right-bottom":["br","bl",-5,0],"bottom-right":["br","tr",0,-5],"bottom-left":["bl","tl",0,-5],"left-bottom":["bl","br",5,0],"left-top":["tl","tr",5,0]},n,f,p;a=a||{};b.tagName&&"a"===b.tagName.toLowerCase()&&-1<b.href.indexOf("#")?
(a.anchor=!0,a.id=b.href.substring(b.href.indexOf("#")+1)):a.anchor=!1;a={anchor:a.anchor,width:a.width||300,id:a.id||"",overlayCorner:a.overlayCorner||null,contextCorner:a.contextCorner||null,orientation:a.orientation||"left-top",content:a.content||null,events:a.events||["mouseover","mouseout"],eventsOnInternalElements:a.eventsOnInternalElements||null,type:a.type||"balloon-callout",offsetX:a.offsetX||0,offsetY:a.offsetY||0,relativeToTrigger:a.relativeToTrigger||!1,zIndex:a.zIndex,persist:a.persist||
!1,delayOpen:a.delayOpen||!1,cacheCalloutContent:void 0!==a.cacheCalloutContent?a.cacheCalloutContent:!0,toolTipTextAttr:a.toolTipTextAttr||null,openCallback:a.openCallback||null,closeCallback:a.closeCallback||null};var v=function(b){YEvent.preventDefault(b);a.persist&&YEvent.stopPropagation(b)},r=function(a){this.persist=!0;YAHOO.util.Dom.hasClass(a.target,"callout-close")&&h()},w=function(a){var b=!1;a.button&&(this.persist=(b=2===a.button)?!0:!1);this.persist?this.persist=!1:h.call(this,a)},s=
function(){function g(){m.show(f);f.openEvent.fire();c||(c=YDom.get("callout-overlay"));if(a.persist){YEvent.on(c,"click",r,f,!0);YEvent.on(document,"click",w,f,!0);var b=YDom.getElementsByClassName("callout-close",null,c);0<b.length&&b[0].focus()}else YEvent.removeListener(c,"click",r),YEvent.removeListener(document,"click",w);a.openCallback&&"function"===typeof a.openCallback&&a.openCallback(f)}var f=this;this.active=!0;YDom.addClass(b,"hover");p&&(n=b.title,b.title="");a.delayOpen&&!q?q=window.setTimeout(function(){q=
null;g()},350):g()},h=function(g){this.persist=this.active=!1;YDom.removeClass(b,"hover");p&&(b.title=n);a.delayOpen&&q&&(window.clearTimeout(q),q=null);g?m.hide():m.forceClose();a.persist&&(YEvent.removeListener(c,"click",r),YEvent.removeListener(document,"click",w),b&&b.focus());a.closeCallback&&"function"===typeof a.closeCallback&&a.closeCallback(this)},t=function(b){(this.active=!this.active)||this!==m.showing()?s.call(this,b):a.persist&&"mouseover"===a.events[0]?this.active=!0:h.call(this,b)};
this.isActive=function(){return this.active};this.destroy=function(){a.anchor&&YEvent.removeListener(b,"click",v);a.persist?YEvent.removeListener(b,a.events[0],t):(YEvent.removeListener(b,a.events[0],s),YEvent.removeListener(b,a.events[1],h));if(a.eventsOnInternalElements){var c=a.eventsOnInternalElements;if(c.elementClass&&""!==c.elementClass)for(var f=YDom.getElementsByClassName(c.elementClass),l=f.length,d=0,e;d<l;d++)e=f[d],YEvent.removeListener(e,c.elementEvent,c.elementAction)}h();m.destroy(b.id)};
this.setContent=function(b){b||(b=document.getElementById(a.id).innerHTML);a.content=b};if(!a.content)if(a.content=document.getElementById(a.id),a.content)f=a.content.innerHTML,a.toolTipTextAttr&&(n=b.getAttribute(a.toolTipTextAttr),f=f.replace("__PLACEHOLDER__",LI.htmlEncode(n))),a.content=f;else throw"Could not find info element";"auto"!==a.width&&(a.width+="px");if(a.anchor)YEvent.on(b,"click",v);a.overlayCorner||(a.overlayCorner=l[a.orientation][0]);a.contextCorner||(a.contextCorner=l[a.orientation][1]);
a.offsetX+=l[a.orientation][2];a.offsetY+=l[a.orientation][3];this.openEvent=new YAHOO.util.CustomEvent("open");YDom.generateId(b,"callout-trigger-");p="title"===a.toolTipTextAttr;this.config=a;this.el=b;this.active=!1;this.close=h;this.open=s;this.toggle=t;this.persist=!1;m.register(b.id,this);if(a.persist)YEvent.on(b,a.events[0],t,this,!0);else YEvent.on(b,a.events[0],s,this,!0),YEvent.on(b,a.events[1],h,this,!0)};LI.Controls.register("LI.BalloonCallout");LI.define("BalloonCalloutDelegator");
LI.BalloonCalloutDelegator=function(b,a){var m={};a=a||{};a.dataId=a.dataId?"data"+a.dataId:"data-li-tooltip-id";YEvent.on(b,"mouseover",function(b){var c=YEvent.getTarget(b),l=YDom.getAttribute(c,a.dataId);!l&&YDom.getAttribute(c.parentNode,a.dataId)&&(c=c.parentNode,l=YDom.getAttribute(c,a.dataId));l&&(YDom.generateId(c),c&&!m[c.id]&&(a.id=l,(new LI.BalloonCallout(c,a)).toggle(),m[c.id]=!0),YEvent.stopPropagation(b))})};LI.define("Reveal");
LI.Reveal=function(c,e){function f(a){var b=YDom.getAttribute(a,"value"),d=e.targetNode,c;for(c in d)b===c||a.value===c?LI.show(d[c]):LI.hide(d[c])}function g(a){a=a?YEvent.getTarget(a):c;var b=e.targetNode;a="OPTION"===a.tagName?a.parentNode:a;if(YAHOO.lang.isObject(b))if("SELECT"===a.tagName)f(a);else if("INPUT"!==a.tagName||"radio"!==a.type||h){for(var b=Y$("input[type\x3dradio]",c),d=0;b.length>d;d++)if(!0===b[d].checked){a=b[d];break}f(a)}else f(a),e.subHide||h||(h=1);else a:{b=e.targetNode;
if("INPUT"!==a.tagName)if(0<Y$("input[type\x3dcheckbox]",a).length)a=Y$("input[type\x3dcheckbox]",a,!0);else break a;b+="";(d="!"===b.substring(0,1))&&(b=b.substring(1));!d&&a.checked||d&&!a.checked?LI.show(b):LI.hide(b)}}e={targetNode:e.targetNode,subHide:"undefined"!==typeof e.subHide?e.subHide:!0};var h=0;if("SELECT"===c.tagName)YEvent.on(c,"change",g);else YEvent.on(c,"click",g);g()};(function(){var b={},h=function(a,b,f){for(var c=this._history,d=c.length,g=null,e=0;e<d;e++)c[e].name===a&&c[e].payload[b]&&c[e].payload[b]===f&&(g=c[e].payload);return g},d=function(){};d.prototype={create:function(a){b[a]||(b[a]=new YAHOO.util.EventProvider,b[a]._history=[],b[a].inHistory=h);return b[a]},notifyAll:function(a){a=a||{};if(a.eventName)for(var d in b){var f=b[d]._history,c=f.length;b[d].createEvent(a.eventName).fire(a.payload);f[c]={name:a.eventName,payload:a.payload}}}};LI.define("MediatorFactory");
LI.MediatorFactory=new d})();LI.define("JellyBeanEditor");
LI.JellyBeanEditor=function(m,d){function C(a){var b=Y$(".field input",a,!0),c=Y$(".jellybean",a,!0);""!==b.value||d.autoBeanFieldCreation||LI.hide(a);b&&c&&(YDom.addClass(a,u),a._field=b,a._bean=c,d.typeahead&&L(a),M(a),d.dragAndDrop&&N(a),d.ghostLabel&&!b.value&&LI.GhostLabel&&!a.ghostLabelObj&&(b=a.getElementsByTagName("label"),b.length&&(a.ghostLabelObj=new LI.GhostLabel(b[0]))),x(a),h.onCreateJellyBean.fire(a),r++);x(a);n()}function M(a){var b=a._field,c=function(c){p=!1;v(a)};b&&(YEvent.on(b,
"blur",c),YEvent.on(b,"focus",function(c){p=!0;t&&D(a)}),YEvent.on(b,"keyup",function(f){var e=l(b.value);!(d.valueDelimiter&&(f.charCode===d.valueDelimiter.charCodeAt(0)||0<e.indexOf(d.valueDelimiter))||f.keyCode===O&&!y&&a===g||f.keyCode===z)||""===e||d.valueDelimiter&&e===d.valueDelimiter||(YEvent.stopEvent(f),YEvent.removeListener(b,"blur",c),v(a),p=!1,n(),YEvent.on(b,"blur",c));a!==g||d.onlyAddFieldAfterInputDone||h.addNewJellyBean()}));if(d.allowBackspaceRemove)YEvent.on(b,"keydown",function(a){var c=
l(b.value),g=h.getAllJellyBeans()[r-2];""!==c||a.keyCode!==E&&a.keyCode!==z?YDom.removeClass(g,d.selectedRemoveItemClass):YDom.hasClass(g,d.selectedRemoveItemClass)?q(g):a.keyCode===E&&YDom.addClass(g,d.selectedRemoveItemClass)});YEvent.on(b,"keypress",function(a){a.keyCode===z&&YEvent.stopEvent(a)})}function F(a,b){var c=Y$(".field input",a,!0),f=Y$(".field label",a,!0),e;d.fieldNameTemplate&&c&&(e=d.fieldNameTemplate.replace(/\$index\$/,b),f&&(f.htmlFor=e),c.id=e,c.name=e);d.typeaheadHiddenFieldTemplate&&
a._typeaheadField&&(a._typeaheadField.name=d.typeaheadHiddenFieldTemplate.replace(/\$index\$/,b));h.onBeanSetFieldName.fire(a,b)}function L(a){var b,c,f,e,k=YDom.getAncestorByTagName(a,"form");d.typeaheadHiddenFieldTemplate&&k&&(e=LI.getDataAttribute(a._field,"hidden-value"),c=d.typeaheadHiddenFieldTemplate.replace(/\$index\$/,a._index),f=-1===d.typeaheadHiddenFieldTemplate.indexOf("$index$")?a._hiddenField:e?a._hiddenField:k.elements[c],f||(f=document.createElement("input"),f.name=c,f.type="hidden",
f.value=a._field.value?e||a._field.value:"",k.appendChild(f)),YDom.generateId(f),a._typeaheadField=f,a._hiddenField=f,d.typeahead.hiddenField=f);c=function(c,d){G(b,a);h.onTypeaheadItemSelect.fire(a,d[2])};f=function(c,d){g!==a&&G(b,a);h.onTypeaheadUnmatchedItem.fire(a,d[2])};d.useTypeahead2?(b=new LI.Typeahead2(a._field,d.typeahead),b.onItemSelect=c,!0===d.forceSelectionAndRevert&&(b.onUnmatchedItemSelect=f)):(b=new LI.Typeahead(a._field,d.typeahead),b.autocomplete.itemSelectEvent.subscribe(c),!0===
d.forceSelectionAndRevert&&b.autocomplete.unmatchedItemSelectEvent.subscribe(f));a._typeahead=b}function G(a,b){a.autocomplete&&(a.autocomplete._bOverContainer=!1);v(b);p=!1;n();LI.Events&&LI.Events.fire("jellybeaneditor-add-jellybean",b)}function N(a){if(!YAHOO.util.DDProxy)throw"You need to include YUI dragdrop to get drag 'n drop functionality in the JellyBeanEditor control.";if("false"!==YDom.getFirstChild(a).getAttribute("draggable"))(new A(a)).on("b4MouseDownEvent",function(a){if("input"===
YEvent.getTarget(a).nodeName.toLowerCase())return!1})}function q(a,b){var c;a===g&&h.addNewJellyBean();if(a.parentNode){var f=YDom.getAncestorByTagName(a,"form");d.typeaheadHiddenFieldTemplate&&f&&(c=d.typeaheadHiddenFieldTemplate.replace(/\$index\$/,a._index),(c=a._hiddenField?a._hiddenField:f.elements[c])&&c.parentNode&&c.parentNode.removeChild(c));a.parentNode.removeChild(a);h.onBeanRemoved.fire(a);r--}null!==d.maxNumOfBeans&&r===d.maxNumOfBeans-1&&(c=h.getAllJellyBeans(),g=c[r-1],h.addNewJellyBean(),
YDom.removeClass(m,d.maxNumOfBeansClass));LI.Events&&!b&&LI.Events.fire("jellybeaneditor-remove-jellybean",a)}function D(a){var b=a._field;H();""!==l(b.value)&&YDom.addClass(a,"editing");YDom.replaceClass(a,"show-bean","show-field");b.select();w=a;""!==l(a._field.value)&&(s=a,YDom.addClass(s,"selected"),h.onBeanSelected.fire(a));h.onBeanEditingStart.fire(a)}function H(){s&&(YDom.removeClass(s,"selected"),h.onBeanUnselected.fire(s),s=null)}function v(a){var b=a._field,c,f,e,k;t&&h.onBeanEditingEnd.fire(a);
c=d.valueDelimiter?b.value.split(d.valueDelimiter):[b.value];if(1<c.length){e=0;for(k=c.length;e<k;e++)b=l(c[e]),""!==b&&(f=h.addNewJellyBean(c[e]));f&&q(a)}else""!==l(b.value)?(d.allowDuplicates||(c=h.getMatchingJellyBean(b.value,a))&&q(c),x(a),d.onlyAddFieldAfterInputDone&&h.addNewJellyBean()):a!==g&&q(a);w=null}function x(a){var b=a._field,c=a._bean;I(a)&&(b.size=0<d.maxInputFieldSize&&b.value.length>d.maxInputFieldSize?d.maxInputFieldSize:b.value.length,c.innerHTML=h.jellyBeanMarkup(b.value,a),
YDom.replaceClass(a,"show-field","show-bean"),YDom.removeClass(a,"editing"))}function I(a){return""!==("object"===typeof a._field?l(a._field.value):"")&&(!a.ghostLabelObj||!a.ghostLabelObj.isGhostLabelVisible())}function n(){d.autoBeanFieldCreation?setTimeout(function(){if(!p&&g._field&&g._field&&d.focusOnLastItem){H();try{g._field.focus()}catch(a){}}},50):p||h.onNoLastItemFocus.fire()}function P(){var a,b;YDom.addClass(m,Q);YEvent.on(document,"click",function(a){a=YEvent.getTarget(a);var b,e;YDom.isAncestor(m,
a)?(b=YDom.getAncestorByClassName(a,u),e=YDom.getAncestorByClassName(a,"jellybean"),b&&YDom.hasClass(a,d.removeClassName)?q(b):b?e&&t&&D(b):g&&n()):(w&&v(w),a===m&&(p=!1,n()))});YEvent.on(m,"keydown",function(a){a.keyCode===J&&(y=!0)});YEvent.on(m,"keyup",function(a){a.keyCode===J&&(y=!1)});k=h.getAllJellyBeans();K=k.length;if(0<k.length){g=k[k.length-1];B||(B=g.cloneNode(!0));a=0;for(b=k.length;a<b;a++)k[a]._index=a,C(k[a]);g._field&&""!==l(g._field.value)&&h.addNewJellyBean();n()}d.dragAndDrop&&
YAHOO.util.DDTarget&&YAHOO.util.DDProxy&&new YAHOO.util.DDTarget(g?g.parentNode:m)}var Q="jellybean-editor",u="jellybean-container-item",h=this,k=[],r=0,g=null,B=d.itemTemplate||null,w=null,s=null,p=!1,y=!1,K=0,t=!1!==d.editingEnabled,l=YAHOO.lang.trim,E=8,z=13,O=9,J=16,A=function(a,b,c){A.superclass.constructor.call(this,a,b,c);a=this.getDragEl();YDom.setStyle(a,"opacity",0.67);this.goingUp=!1;this.lastY=0};YAHOO.lang.augmentObject(d,{beanContainers:"ol \x3e li",fieldNameTemplate:!1,fieldClassName:"field",
removeClassName:"remove",valueDelimiter:",",typeaheadHiddenFieldTemplate:null,dragAndDrop:!1,ddProxyClass:null,maxInputFieldSize:0,autoBeanFieldCreation:!0,typeahead:null,useTypeahead2:!1,forceSelectionAndRevert:d.typeahead&&d.typeahead.forceSelectionAndRevert?d.typeahead.forceSelectionAndRevert:!1,maxNumOfBeans:null,maxNumOfBeansClass:"max",allowDuplicates:!0,ghostLabel:!1,onlyAddFieldAfterInputDone:!1,isAccessible:!1,allowBackspaceRemove:!1,selectedRemoveItemClass:"selectedToRemove",focusOnLastItem:!0});
YAHOO.util.DDProxy&&YAHOO.extend(A,YAHOO.util.DDProxy,{startDrag:function(a,b){var c=this.getDragEl(),f=this.getEl();YDom.setStyle(f,"visibility","hidden");d.ddProxyClass&&YDom.addClass(c,d.ddProxyClass);if(f=Y$(".jellybean",f,!0))c.innerHTML=f.innerHTML,YDom.addClass(c,"jellybean-dragging")},endDrag:function(a){var b=this.getEl();a=this.getDragEl();var c,d,e={points:{to:YDom.getXY(b)}},e=new YAHOO.util.Motion(a,e,0.2,YAHOO.util.Easing.easeOut),l=a.id,m=this.id;YDom.removeClass(b,"dd-placeholder");
k=h.getAllJellyBeans();g=k[k.length-1];b=0;for(c=k.length;b<c;b++)d=k[b],d._index=b,F(d,b);h.onBeansReordered.fire();YDom.setStyle(a,"visibility","");e.onComplete.subscribe(function(){YDom.setStyle(l,"visibility","hidden");YDom.setStyle(m,"visibility","")});e.animate()},onDrag:function(a){a=YEvent.getPageY(a);a<this.lastY?this.goingUp=!0:a>this.lastY&&(this.goingUp=!1);this.lastY=a},onDragOver:function(a,b){var c=this.getEl(),d=YDom.get(b),e;YDom.addClass(c,"dd-placeholder");d&&"li"===d.nodeName.toLowerCase()&&
(e=d.parentNode,""!==l(c._field.value)&&(this.goingUp?e.insertBefore(c,d):""===l(d._field.value)?e.insertBefore(c,d):e.insertBefore(c,d.nextSibling),YAHOO.util.DragDropMgr.refreshCache()))}});this.jellyBeanMarkup=function(a,b){var c='\x3cspan class\x3d"value"\x3e'+LI.htmlEncode(a)+'\x3c/span\x3e\x3cspan class\x3d"remove"\x3e\x26times;\x3c/span\x3e';d.isAccessible&&(c='\x3cspan class\x3d"value"\x3e'+LI.htmlEncode(a)+'\x3c/span\x3e\x3cbutton class\x3d"remove" aria-label\x3d"remove"\x3e\x26times;\x3cspan class\x3d"screen-reader-text"\x3e'+
LI.i18n.get("JellyBeanEditor-REMOVE_TEXT")+"\x3c/span\x3e\x3c/button\x3e");return c};this.setContainerClass=function(a){u=a};this.getContainerClass=function(){return u};this.getAllJellyBeans=function(){return Y$(d.beanContainers,m)};this.removeAllJellyBeans=function(){var a=this.getAllJellyBeans(),b=a.length,c;for(c=0;c<b;c++)YDom.hasClass(a[c],"show-bean")&&q(a[c],!0)};this.removeBean=q;this.getBeanValue=function(a){return a&&a._field?a._field.value:null};this.getBeanTypeahead=function(a){return a&&
a._typeahead?a._typeahead:null};this.getBeanTypeaheadHiddenField=function(a){return a&&a._typeaheadField?a._typeaheadField:null};this.getMatchingJellyBean=function(a,b){for(var c=h.getAllJellyBeans(),d=c.length,e=0;e<d;e++)if(b!==c[e]&&c[e]._field.value===a)return c[e];return null};this.addNewJellyBean=function(a){var b,c;a=a||"";b=null!==d.maxNumOfBeans?r>=d.maxNumOfBeans:!1;if(b)YDom.addClass(m,d.maxNumOfBeansClass);else if(a||I(g)){if(!d.allowDuplicates&&(b=h.getMatchingJellyBean(a))){g.parentNode.insertBefore(b,
g);n();return}c=B.cloneNode(!0);Y$(".field label",c,!0);if(b=Y$(".field input",c,!0))return c._index=K++,F(c,c._index),b.value=a,b.setAttribute("value",a),""===a?(g.parentNode.appendChild(c),g=c,k.push(c)):(g.parentNode.insertBefore(c,g),k=h.getAllJellyBeans()),C(c),c}};this.onCreateJellyBean=new YAHOO.util.CustomEvent("createJellyBean");t&&(this.onBeanEditingStart=new YAHOO.util.CustomEvent("beanEditingStart"));t&&(this.onBeanEditingEnd=new YAHOO.util.CustomEvent("onBeanEditingEnd"));this.onBeanRemoved=
new YAHOO.util.CustomEvent("onBeanRemoved");this.onBeanSelected=new YAHOO.util.CustomEvent("onBeanSelected");this.onBeanUnselected=new YAHOO.util.CustomEvent("onBeanUnselected");this.onBeansReordered=new YAHOO.util.CustomEvent("onBeansReordered");this.onNoLastItemFocus=new YAHOO.util.CustomEvent("onNoLastItemFocus");this.onBeanSetFieldName=new YAHOO.util.CustomEvent("onBeanSetFieldName");this.onTypeaheadItemSelect=new YAHOO.util.CustomEvent("onTypeaheadItemSelect");this.onTypeaheadUnmatchedItem=new YAHOO.util.CustomEvent("onTypeaheadUnmatchedItem");
YEvent.onDOMReady(function(){P()})};LI.define("WebTrackClickTracking");LI.WebTrackClickTracking=function(d,e){function f(a){a=YEvent.getTarget(a).id;var b=this.config.trackingInfo,c=YAHOO.lang;c.isNull(b[a])||c.isUndefined(b[a])||WebTracking.trackUserAction(b[a].trackingCode,"",!0)}this.config=e;if(WebTracking)YEvent.on(d,"click",f,null,this)};LI.define("WaffleTracking");LI.WaffleTracking=function(){var b=this;YEvent.on(document,"click",function(a){a=YEvent.getTarget(a);var c;try{do(c=LI.getDataAttribute(a,"trk-code"))&&WebTracking&&WebTracking.trackUserAction(c,b.getParamsList(a),!0);while(a=LI.getAncestorByDataAttribute(a,"li-trk-code"))}catch(d){}})};LI.WaffleTracking.prototype.getParamsList=function(b){return{}};LI.define("waffleTracking");LI.waffleTracking=new LI.WaffleTracking;(function(){LI.define("SlideshareViewer");var g="width",h="max",m={width:"height",height:g};LI.SlideshareViewer=function(d,a){function k(c){if(!(isNaN(c)||a.rejectTinyAspectRatio&&c<a.minAspectRatio)){c=Math.max(c,a.minAspectRatio||0);var b={},e=a.constraint,f=m[e];b[e]=Math.min(a[e]||d[e],a[h+e]||Infinity);b[f]=b[e]*Math.pow(c,e===g?-1:1);a[h+f]&&b[f]>a[h+f]&&(b[f]=a[h+f],b[e]=b[f]*Math.pow(c,f===g?-1:1));b.width&&b.height&&(b={width:Math.floor(b.width),height:Math.floor(b.height)+a.toolbarHeight},
d.width=b.width,d.height=b.height,d.style.width=b.width+"px",d.style.height=b.height+"px")}}a||(a={});var l={iframe:function(){var c;a.constraint||(a.constraint=g);a.toolbarHeight||(a.toolbarHeight=30);a.aspectRatio?k(a.aspectRatio):a.aspectRatioEl&&(c=YDom.get(a.aspectRatioEl),c.height&&c.width?k(c.width/c.height):c.onload=function(){this.height&&this.width&&k(this.width/this.height)})},img:function(){var a=d.src.replace("-large","-original");YEvent.on(d,"click",function(){window.open(a)})}};if(d&&
d.tagName&&l.hasOwnProperty(d.tagName.toLowerCase()))l[d.tagName.toLowerCase()]()}})(void 0);(function(c){var e=c.requires("jquery"),d=c.requires("BaseControl"),f=c.requires("underscore"),g=c.requires("Events"),d=d.extend(function(c){var d={activeClass:"active",eventType:"click",mercyTime:400,triggerSelector:null,dropdownMenuClass:"dropdown",focusClass:null};return{beforeDecoration:function(){this._$document=e(document);this._mouseoutTimer=0;this._config=e.extend({},d,this._config);this._isOpen=!1;this._$listItems=[];this._$trigger={};this._$dropMenu={};this._currentItemIndex=-1;this.isMouseEvent=
!1;this._config.triggerSelector?this._$trigger=this._$el.find(this._config.triggerSelector):(this._$trigger=this._$el.children("a"),0===this._$trigger.length&&(this._$trigger=this._$el.children("button")));this._isLegalEl=this._$trigger.length?this._$trigger.is('a, button, input[type\x3d"button"]'):!1;this._$dropMenu=this._$trigger.next();this._populateListItems();this._bootstrapAria()},attachEventListeners:function(){if("hover"===this._config.eventType)this._$el.on("mouseover",this._handleMouseOverEvent).on("mouseout",
this._handleMouseOutEvent);this._$trigger.on("click.li-dropdown",this._handleClickEvent).on("mouseup",f.bind(this._setMouseUser,this,!0));this._$el.on("keydown",this._handleKeyEvent);if(this._config.focusClass)this._$el.on("focusin",this._handleElFocusInEvent).on("focusout",this._handleElFocusOutEvent);g.on("dropdown:newitems",this.bootstrapNewItems)},_bootstrapAria:function(){this._$trigger.attr({tabindex:0,role:"button","aria-expanded":!1});this._bootstrapListItems();this._$dropMenu.attr("tabindex",
-1)},_bootstrapListItems:function(){this._$listItems.attr("tabindex",0)},bootstrapNewItems:function(a){this._populateListItems();this._bootstrapListItems()},_setMouseUser:function(a){this.isMouseEvent=a},_populateListItems:function(){this._$listItems=this._$dropMenu.find("li, dd, dt")},_handleBodyClick:function(a){this._isOpen&&0===this._$el.has(a.target).length&&(this._setMouseUser(!0),this.close())},_focusNext:function(){var a=this._$listItems.length;a&&(this._currentItemIndex<a-1?this._currentItemIndex++:
this._currentItemIndex=0,this._$listItems[this._currentItemIndex].focus())},_focusPrevious:function(){var a=this._$listItems.length;a&&(0<this._currentItemIndex?this._currentItemIndex--:this._currentItemIndex=a-1,this._$listItems[this._currentItemIndex].focus())},_handleKeyEvent:function(a){var b=a.target;switch(a.which){case 13:!this._isLegalEl&&e(b).is(this._$trigger)&&this._$trigger.click();break;case 32:!this._isLegalEl&&e(b).is(this._$trigger)&&(a.preventDefault(),this._$trigger.click());break;
case 27:this._isOpen&&this.close();break;case 40:a.preventDefault();this._focusNext();break;case 38:a.preventDefault(),this._focusPrevious()}},open:function(a){var b=this._config.activeClass;if(!this._isOpen&&(this._$el.addClass(b),this._$trigger.attr("aria-expanded",!0),this.isMouseEvent||this._$dropMenu.focus(),this._$el.trigger("dropdown:open",this),this._isOpen=!0,"li-dropdown"!==a))this._$document.on("click",this._handleBodyClick)},close:function(a){this._isOpen&&(this._$el.removeClass(this._config.activeClass),
this._$trigger.attr("aria-expanded",!1),this._mouseoutTimer&&window.clearTimeout(this._mouseoutTimer),this.isMouseEvent||this._$trigger.focus(),this._$el.trigger("dropdown:close",this),this._isOpen=!1,this._currentItemIndex=-1,this._setMouseUser(!1),"li-dropdown"!==a&&this._$document.off("click",this._handleBodyClick))},_handleElFocusInEvent:function(a){this._$el.addClass(this._config.focusClass)},_handleElFocusOutEvent:function(a){this._$el.removeClass(this._config.focusClass)},_handleClickEvent:function(a){var b;
if("hover"===this._config.eventType&&(b=a.target.href)&&0!==b.indexOf("#"))return;a.preventDefault();a.stopPropagation();this._isOpen?this.close(a.namespace):this.open(a.namespace)},_handleMouseOverEvent:function(a){this._setMouseUser(!0);window.clearTimeout(this._mouseoutTimer);this.open()},_handleMouseOutEvent:function(a){a=this._config.mercyTime;var b=this;0<a?this._mouseoutTimer=window.setTimeout(function(){b.close()},a):b.close()}}});d.EVENTS={OPEN:"dropdown:open",CLOSE:"dropdown:close",NEW:"dropdown:newitems"};
c.exports("Dropdown",d)})(window.LIModules);(function(){var b=LIModules.requires("jquery"),f=LIModules.imports("HopscotchTourRunner");LIModules.exports("HopscotchCallout",function(g,a){function k(){return"object"===typeof f?f.loadHopscotch():"object"===typeof window.hopscotch?b.Deferred().resolve():b.Deferred().reject()}function n(){var a=LIModules.imports("Bidi");!c.isRtl&&a&&a.applyWhenRTL(function(){c.isRtl=!0})}function q(){d.on(l,function(p){if(p.keyCode===r)a.onClose()})}function h(a,s){var e=null;a&&a.stopPropagation();k().then(function(){e=
hopscotch.getCalloutManager();e.removeAllCallouts();s&&(c.target=a.currentTarget);n();e.createCallout(c);d=b(e.getCallout(c.id).element);d.attr("tabindex",-1).focus();q()})}var l="keyup",r=27,t={showOn:"click",orientation:"top",target:g,showNumber:!1,xOffset:0,yOffset:0,arrowOffset:0,zIndex:null,width:null,ctaLabel:null,ctaOnClick:null,onShow:null,onClose:function(){window.hopscotch&&hopscotch.getCalloutManager().removeAllCallouts();d.off(l);m.focus()},openOnLoad:!1,isRtl:!1},c,m=b(g),d;a=b.extend(!0,
t,a);c={id:a.id,title:a.title,content:a.content,orientation:a.orientation,target:a.target,showNumber:a.showNumber,xOffset:a.xOffset,yOffset:a.yOffset,zindex:a.zIndex,width:a.width,bubblePadding:0,showCTAButton:!!a.ctaLabel,ctaLabel:a.ctaLabel,onCTA:a.ctaOnClick,onShow:a.onShow,onClose:a.onClose,arrowOffset:a.arrowOffset,isRtl:a.isRtl,showOn:a.showOn};this.open=function(a,b,c){c?h(a,b):f.isTourRunning()||h(a,b)};this.close=function(){a.onClose()};k();m.attr("aria-haspopup",!0);if(a.openOnLoad)this.open();
else b(g).on(a.showOn,h)})})();(function(){var l=LIModules.requires("BaseControl"),h=LIModules.imports("Bidi"),f=LIModules.requires("jquery"),g=LIModules.requires("underscore"),l=l.extend(function(l){var p,m,n,q,r=f(document),k=f(window);n={animation:"animationend",webkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oanimationend"};p={TOP:"fade-in-down",BOTTOM:"fade-in-up",RIGHT:"fade-in-left",LEFT:"fade-in-right"};q={delayOpen:50,delayClose:250,doAnimate:!0,direction:"bottom",isFlippable:!0,offsetExtra:5,
offsetX:0,offsetY:0,type:"tooltip",width:"auto",tooltipContentID:null,dependencies:["scripts/shared/Bidi"],cssDependencies:["css!scss/modules/tooltip"]};m=function(){var a=document.body,b;for(b in n)if("undefined"!==typeof a.style[b])return n[b]}();return{beforeDecoration:function(){var a=this._$el;this._config=g.defaults(this._config,q);g.isUndefined(a.attr("tabIndex"))&&a.attr("tabIndex",0)},attachEventListeners:function(){this._$el.on("mouseover focus",this._setTriggerMouseover).on("mouseout blur",
this._removeTriggerMouseover)},_attachTooltipListeners:function(){this.$overlay.on("mouseover",this._setTooltipMouseover).on("mouseout",this._removeTooltipMouseover)},_attachOpenListeners:function(){r.on("keydown",this._closeIfEscapeKey)},_setTriggerMouseover:function(){this.isMouseoverTrigger=!0;this.open()},_removeTriggerMouseover:function(){this.isMouseoverTrigger=!1;this.close()},_setTooltipMouseover:function(){this.isMouseoverTooltip=!0},_removeTooltipMouseover:function(){this.isMouseoverTooltip=
!1;this.close()},_closeIfEscapeKey:function(a){27===a.which&&this._hideTooltip()},detachEventListeners:function(){this._$el.off("mouseover focus",this._setTriggerMouseover).off("mouseout blur",this._removeTriggerMouseover);this.$overlay&&this.$overlay.off("mouseover",this._setTooltipMouseover).off("mouseout",this._removeTooltipMouseover);this._detachOpenListeners()},_detachOpenListeners:function(){r.off("keydown",this._closeIfEscapeKey)},destroy:function(){this.detachEventListeners();this.$overlay&&
this.$overlay.remove()},_loadCss:function(){return this.loadCss(this._config.cssDependencies)},open:function(){var a;if(this._isOpening&&"pending"===this._isOpening.state())return this._isOpening.promise();this._isOpening=a=new f.Deferred;this.$overlay?this._open().then(a.resolve,a.reject):this._loadCss().then(this._onFirstOpen).then(this._open).then(a.resolve,a.reject);return a.then(g.bind(this._attachOpenListeners,this)).promise()},_open:function(){var a=new f.Deferred,b=this;if(!1===this.isMouseoverTrigger)return a.reject(Error("User is no long hovering.")).promise();
this.showTimer?a.reject(Error("Tooltip already showing.")):this.showTimer=g.delay(function(){b._showTooltip().then(a.resolve)},this._config.delayOpen);return a.promise()},_onFirstOpen:function(){var a=this._config;h&&(a.offsetX=h.flip(a.offsetX,-a.offsetX));this.createOverlay();this.setContent();this.isCreating=!1},_showTooltip:function(){var a=new f.Deferred,b=this._config,c=this.$overlay,d=this;this.currentDirection=b.direction;c.addClass("shown").appendTo(f("body"));this.calculatePosition();b.isFlippable&&
this._setTooltipStyling(c);if(m&&b.doAnimate)c.one(m,function(){a.resolve(d)});else a.resolve(this);return a.promise()},close:function(){var a=new f.Deferred,b=this;this.showTimer&&this._isOpening&&"pending"===this._isOpening.state()&&(clearTimeout(this.showTimer),this._isOpening.reject(Error("Tooltip closed before it fully opened.")));g.delay(function(){b._close().then(a.resolve,a.reject)},this._config.delayClose);return a.then(this._detachOpenListeners).promise()},_close:function(){var a=new f.Deferred;
this.isMouseoverTooltip||this.isMouseoverTrigger?a.reject(Error("User is interacting with tooltip.")):(this._hideTooltip(),a.resolve(this));return a.promise()},_hideTooltip:function(){this.showTimer=null;this.$overlay&&this.$overlay.removeClass("shown").detach()},createOverlay:function(){var a=f("\x3cdiv/\x3e").attr("id","tooltip-overlay"),b=f("\x3cspan/\x3e").addClass("tooltip-arrow");a.append(b);this._setTooltipStyling(a);this.$overlay=a;this._attachTooltipListeners()},setContent:function(){var a=
f("\x3cdiv/\x3e").addClass("tooltip-content"),b=this._setContent();this._addAccessibility(b);a.append(b);this.$overlay.prepend(a)},_setContent:function(){var a=null,b;this._config.tooltipContentID&&(a=f("#"+this._config.tooltipContentID),b=a.parent(),b.hasClass("tooltip-content-container")&&1===b.children().length&&b.remove());return a},_addAccessibility:function(a){var b=this._$el.attr("aria-describedby"),c=a.attr("role");g.isUndefined(b)&&this._$el.attr("aria-describedby",this._config.tooltipContentID);
g.isUndefined(c)&&a.attr("role","tooltip")},_setTooltipStyling:function(a){var b=this._config,c=this.currentDirection||b.direction,d=b.doAnimate,e=[b.type,"tooltip-"+c];a.removeClass();b.overlayClasses&&e.push(b.overlayClasses);a.addClass(e.join(" ")).css({width:b.width});this.showTimer&&a.addClass("shown");d&&a.addClass("animated "+p[c.toUpperCase()])},_isFlippable:function(a){return this._config.isFlippable&&!a},_isAboveViewport:function(a){return a<k.scrollTop()},_isBelowViewport:function(a){return a>
k.height()+k.scrollTop()},_isLeftOfViewport:function(a){return a<k.scrollLeft()},_isRightOfViewport:function(a){return a>k.width()+k.scrollLeft()},calculatePosition:function(){var a={},a=this._config,b=this._$el.offset(),c=b.top,b=b.left,d=h&&h.flip("right","left")||"right",e=h&&h.flip("left","right")||"left";this.currentTop=c;this.currentLeft=b;switch(a.direction){case "bottom":a=this.calculateBottom();break;case "top":a=this.calculateTop();break;case d:a=this.calculateRight();break;case e:a=this.calculateLeft();
break;default:a=this.calculateBottom()}this.$overlay.css(a);return a},calculateBottom:function(a){var b=this._config,c=this.$overlay,d=this._$el,e;a=a||!1;e=c.outerHeight()+b.offsetExtra;d=d.outerWidth()/2;c=c.outerWidth()/2;e=this.currentTop-e+b.offsetY;b=this.currentLeft-c+d+b.offsetX;b=this._leftOfViewportAdjustment(b);return this._isFlippable(a)&&this._isAboveViewport(e)?(this.currentDirection="top",this.calculateTop(!0)):{top:e,left:b}},calculateTop:function(a){var b=this._config,c=this.$overlay,
d=this._$el,e,f;a=a||!1;e=d.outerHeight()+b.offsetExtra;f=d.outerWidth()/2;d=c.outerWidth()/2;e=this.currentTop+e+b.offsetY;b=this.currentLeft-d+f+b.offsetX;c=e+c.outerHeight();b=this._leftOfViewportAdjustment(b);return this._isFlippable(a)&&this._isBelowViewport(c)?(this.currentDirection="bottom",this.calculateBottom(!0)):{top:e,left:b}},_leftOfViewportAdjustment:function(a){var b=f(this.$overlay.children(".tooltip-arrow")[0]),c=a,d=this._$el;this._isLeftOfViewport(a)?(b.css("left",d.outerWidth()+
a/2),c=5):b.css("left",this.$overlay.outerWidth()/2);return c},calculateLeft:function(a){var b=this._config,c=this.$overlay,d=this._$el,e,f;a=a||!1;e=d.outerWidth()+b.offsetExtra;f=d.outerHeight()/2;d=c.outerHeight()/2;d=this.currentTop-d+f+b.offsetY;b=this.currentLeft+e+b.offsetX;c=b+c.outerWidth();return this._isFlippable(a)&&this._isRightOfViewport(c)?(this.currentDirection="right",this.calculateRight(!0)):{top:d,left:b}},calculateRight:function(a){var b=this._config,c=this.$overlay,d=this._$el,
e;a=a||!1;e=c.outerWidth()+b.offsetExtra;d=d.outerHeight()/2;c=c.outerHeight()/2;c=this.currentTop-c+d+b.offsetY;b=this.currentLeft-e+b.offsetX;return this._isFlippable(a)&&this._isLeftOfViewport(b)?(this.currentDirection="left",this.calculateLeft(!0)):{top:c,left:b}}}});LIModules.exports("Tooltip",l)})();(function(a){var g=a.requires("jquery"),d=a.requires("underscore"),c=a.requires("BaseControl"),e=a.imports("log")||function(){},f=a.imports("Controls"),c=c.extend(function(a){var c={triggerSelector:null,delegateEvent:!1,animate:!1,animationDuration:250,contentURL:null,viewMoreClass:"state-viewmore",viewLessClass:"state-viewless",viewLoadingClass:"state-viewloading"};return{beforeDecoration:function(){this._initialHeight=this._$el.height();this._contentLoaded=!1;this._config=d.defaults(this._config,
c);this._isEventDelegated=this._config.delegateEvent;this._trigger=this._config.triggerSelector;this._viewMore=this._config.viewMoreClass;this._viewLess=this._config.viewLessClass;this._viewLoading=this._config.viewLoadingClass;this._isAjax=this._config.contentURL;this.$buttons=this._trigger?g(this._trigger):this._$el.find("button");this._isEventDelegated&&!this._trigger?e("If delegateEvent is set to true, triggerSelector must be specified"):this._isEventDelegated||0!==this.$buttons.length||e("No trigger found. You need to pass a triggerSelector in the config or have a button element nested in your expanding element");
0>=this._$el.has(this._viewMore).length&&this._$el.addClass(this._viewMore);this._attachAriaRole()},attachEventListeners:function(){this._toggleEventListeners(!0)},_attachAriaRole:function(){this._isAjax&&this.$buttons.find(this._trigger?"a":"button").attr("aria-hidden",!0)},detachEventListeners:function(){this._toggleEventListeners(!1)},_toggleEventListeners:function(b){b=b?"on":"off";var a=this._handleTriggerClick;if(this._isEventDelegated)this._$el[b]("click",this._trigger,a);else this.$buttons[b]("click",
a)},_handleTriggerClick:function(b){b.preventDefault();this._config.contentURL&&!this._contentLoaded?(this._contentLoaded=!0,this._toggleClasses(this._viewLess+" "+this._viewMore,this._viewLoading),this._$el.load(this._config.contentURL,d.bind(this._afterContentLoaded,this))):this._$el.hasClass(this._viewMore)||this._$el.hasClass(this._viewLoading)?(this.expand(),this._toggleAriaExpand()):this.collapse()},_toggleAriaExpand:function(){var b;this._isAjax&&(b=this._$el.attr("aria-expanded"),this._$el.attr("aria-expanded",
!b))},_afterContentLoaded:function(){f&&f.parseFragment(this._$el);this._isEventDelegated||(this.$buttons=this._$el.find("button"),this.attachEventListeners());this._newHeight=this._$el.prop("scrollHeight");this.expand();this._toggleAriaExpand();this._$el.focus()},_toggleClasses:function(b,a){this._$el.removeClass(b).addClass(a)},collapse:function(){this._toggleClasses(this._viewLess,this._viewMore);this._config.animate?this._$el.animate({height:this._initialHeight},this._config.animationDuration):
this._$el.css("height",this._initialHeight)},expand:function(){this._newHeight||(this._newHeight=this._$el.prop("scrollHeight"));this._toggleClasses(this._viewMore+" "+this._viewLoading,this._viewLess);this._config.animate?this._$el.animate({height:this._newHeight},this._config.animationDuration):this._$el.css("height",this._newHeight)}}});a.exports("ViewStateToggle",c)})(window.LIModules);LI.define("ToggleSwitch");
LI.ToggleSwitch=LI.BaseControl.extend(function(f){var e={},b=$(document),d=$(document.body);return{beforeDecoration:function(){this._config=_.defaults(this._config,e);this._$form=this._$el.closest("form");this._$checkbox=this._$el.find("input[type\x3dcheckbox]");this._$dial=this._$el.find(".status-toggle");this._$sliderBar=this._$el.find("label");this._sliderWidth=this._$sliderBar.innerWidth();this._dialWidth=this._$dial.innerWidth();this._mousedownFired=!1;this._mouseMoveEvents=0;this._leftPos=1;
this._rightPos=this._sliderWidth-this._dialWidth-1},attachEventListeners:function(){this._$sliderBar.on("click",this.handleClick);this._$checkbox.on("focus",this.handleFocus);this._$checkbox.on("blur",this.handleBlur);this._$el.on("keyup",this.handleKeyUp);this._$el.on("keydown",this.handleKeyDown);this._$dial.on("mousedown",this.handleMouseDown);this._$el.on("mouseenter",this.handleHoverIn)},handleFocus:function(a){this._$checkbox.addClass("focused");this._$sliderBar.on("keydown",this.handleKeyDown)},
handleBlur:function(a){this._$checkbox.removeClass("focused");this._$sliderBar.off("keydown",this.handleKeyDown)},_clickLabel:function(){this._$sliderBar.trigger("click")},handleClick:function(a){if(this._mousedownFired)return this._mousedownFired=!1;this._$checkbox.toggleClass("checked");this._$dial.css("left","")},handleKeyDown:function(a){-1<[37,39,13].indexOf(a.which)&&a.preventDefault()},handleKeyUp:function(a){switch(a.which){case 37:this.handleLeftKey();break;case 39:this.handleRightKey();
break;case 13:this._clickLabel()}},handleLeftKey:function(){this._toggleOff()},handleRightKey:function(){this._toggleOn()},handleMouseDown:function(a){this._mousedownFired=!0;d.on("mousemove",this.handleMouseMove);b.on("mouseup",this.handleMouseUp)},handleMouseMove:function(a){var c=a.pageX-this._dialWidth/2-this._$sliderBar.offset().left,b=parseInt(this._$dial.css("left"),10);this._mouseMoveEvents++;c<=this._rightPos&&c>=this._leftPos&&b<=this._rightPos&&b>=this._leftPos&&1<this._mouseMoveEvents&&
this._$dial.css("left",c+"px");a.preventDefault()},handleMouseUp:function(a){var c=this._sliderWidth/2;a=a.pageX-this._dialWidth/2-this._$sliderBar.offset().left;d.off("mousemove",this.handleMouseMove);b.off("mouseup",this.handleMouseUp);if(1>=this._mouseMoveEvents)return this._mousedownFired=!1;this._mouseMoveEvents=0;a<c?this._toggleOff():this._toggleOn()},_toggleOn:function(){this._$checkbox.addClass("checked");this._$checkbox.prop("checked",!0);this._$checkbox.trigger("change");this._$dial.css("left",
this._rightPos+"px")},_toggleOff:function(){this._$checkbox.removeClass("checked");this._$checkbox.prop("checked",!1);this._$checkbox.trigger("change");this._$dial.css("left",this._leftPos+"px")},handleHoverIn:function(a){this._$sliderBar.addClass("mouse");this._$el.off("mouseenter",this.handleHoverIn)}}});(function(){function g(b,c){function h(){YDom.removeClass(d,k)}var a=YEvent.getTarget(b),d=YDom.getAncestorByClassName(a,c&&c.parentClass||"people-follow"),f=c&&c.enableFollowerCount,l,e=0,g={success:function(a){var b=YDom.hasClass(d,m);a.statusText&&"OK"===a.statusText&&(f&&(l=Y$(c.followerCountSelector,null,!0))&&(a=parseInt(l.innerHTML.replace(/\D/g,""),10),e=isNaN(a)?0:a,e=b?e-1:e+1,l.innerHTML=LI.numberFormat(Math.max(0,e))),LI.toggleClass(d,m),YDom.removeClass(d,k))},failure:h,custom:{error:h,
exception:h},scope:this};YEvent.preventDefault(b);if(a=(a="A"===a.nodeName.toUpperCase()?a:YDom.getAncestorByTagName(a,"a"))&&a.href)LI.asyncRequest("GET",a,g),YDom.addClass(d,k)}function f(b,c){YEvent.on(b,"click",g,c,this)}var m="active",k="loading";f.prototype={toggleSelection:function(b){}};LI.PeopleFollow=f})();$(function(){function n(a,b){var c,d,h,g,k,f,A;b="undefined"===typeof b?!0:b;var e=$.fn.Profile;p(!0).done(function(){c=a.attr("id");d=c+"-edit";h=c+"-view";g=d+"-clone";k=$("#"+h);f=$("#"+d);$("#"+g).remove();f.length&&(a.addClass("active-edit"),A=L(f),A.attr("id",g),M(f,A),k.hide(),f.fadeIn("fast",function(){b&&N(f);e.fire(e.EVENTS.FORM_DISPLAYED)}),O([f]))})}function W(a){var b,c;p(!0).done(function(){a.size()&&(a.find(B).remove(),a.removeClass("collapsed"),b=a.find(r),b.length&&(c=L(b),c.attr("class",
B.substr(1)),M(b,c),b.fadeIn("fast",function(){N(b)}),O([b])))})}function X(a){var b=a.attr("id"),c=b+"-edit",d=b+"-view",h=c+"-clone",c=$("#"+c);$("#"+b);c.length&&(a.removeClass("active-edit"),c.fadeOut("fast",function(){$("#"+d).show();$("#"+h).remove()}),s([c]))}function Y(a){a&&a.length&&(a.fadeOut(function(){a.find(B).remove()}),s([a]))}function C(a,b){var c,d;p(!0).done(function(){c=e.find("#"+a);d=0<c.find(r).size()?function(){W(c)}:function(){n(c.find(l.editableItem))};P(c,b,d)})}function P(a,
b,c){var d;a.size()&&(a.removeClass("hidden"),d=a.next(),d.is("hr")&&d.removeClass("hidden"),b?t(a,function(){c()}):c())}function Z(a){var b=a.responseData||{};u(Q(b.responseText));v(R(b.responseText));D(aa(b.responseText));ba(a);LI.Profile.helper.injectAlertA11y(LI.i18n.get("editSaveSuccess"))}function ba(a){var b=a.containerId,c=$("#"+b),d=a.listTemplate,h=a.onlyChildContent,g=a.responseData,k=void 0!==a.refreshToolbox?a.refreshToolbox:!1,f=a.redirectUrl;a={};var e=$.fn.Profile;f?(k=E(),k.removeData(F),
window.location.href=f):(f=function(a){h?c.html($(a).html()):c.replaceWith(a);c=$("#"+b);e.fixSectionDividers();h?LI.Controls.parseFragment(c[0]):LI.Controls.parseFragment(c.parent().get(0));s([void 0,c]);b===ca&&e.fire(e.EVENTS.SKILLS_SECTION_RENDERED)},LI.Profile2.Render.render({template:d,response:g,success:f}),c=$("#"+b),c.find(".background-section, hr").removeClass("hidden"),d=c.find(".background-section"),d.length&&(g=da(g.responseText),a.completenessLevel=g,k||(a.sectionId=d.attr("id")),e.fire(e.EVENTS.PROFILE_UPDATE_SUCCESS,
[a]),t(d)))}function ea(a){var b=a.itemId,c=$("#"+b),b=$("#"+b+" + .treasury-cta");a=a.responseData;var d,h,e,k;c.length&&(d=c.closest(".background-section"),h=c.closest(".entity-container"),c.remove(),b.remove(),0<h.length&&h.remove(),0===d.find(l.entity).length&&d.addClass(fa.hasNoEntity),s([c,d]));var c=a.responseText,f;c.toolbox&&c.toolbox.profileTimestamp&&c.toolbox.profileTimestamp.timestamp?f=c.toolbox.profileTimestamp.timestamp:c.timestamp&&(f=c.timestamp);c=a.responseText;c.toolbox&&c.toolbox.versionTags&&
c.toolbox.versionTags.profileVersionTag&&(e=c.toolbox.versionTags.profileVersionTag);a=a.responseText;a.toolbox&&a.toolbox.versionTags&&a.toolbox.versionTags.privacySettingsVersionTag&&(k=a.toolbox.versionTags.privacySettingsVersionTag);u(f);v(e);D(k);LI.Profile.helper.injectAlertA11y(LI.i18n.get("editRemoveSuccess"))}function ga(a){LI.Dialog().close();LI.GlobalAlertManager||G()}function ha(a){var b;a?b=a:(a=E())&&(b=LI.Controls.getControl(a.attr("id"),"FrontierAJAXForm"));b&&b.resetFormSubmit();
H(LI.i18n.get("unableToProcessRequest"),"error");LI.Dialog().close()}function ia(){var a=window.location.search,b=!1,a=decodeURIComponent(a);(b=-1<a.indexOf("report.success"))&&G()}function H(a,b){LI.injectAlert({message:a,type:b,dismissable:!0,autoHide:!0,animate:!0});LI.GlobalAlertManager||G()}function G(){setTimeout(function(){LI.removeAlert(null,!0)},ja)}function ka(a,b,c){a&&(a=a+(-1===a.indexOf("?")?"?":"\x26")+"x-a\x3d"+b.join(","),LI.asyncRequest("GET",a,{success:function(a){c.success&&c.success(a)},
failure:function(){c.error&&c.error()},custom:{error:function(){},exception:function(){return!1}}}))}function p(a){var b=w.promise();if(S||I)return w.resolve(),b;if(!I&&a)return m=$("#page-loading"),m.show(),b;ka(x,T,{success:function(a){la();ma(a,T,function(){I=!0;m&&m.hide();w.resolve()},!0)},error:function(){m&&m.hide();w.reject();H(LI.i18n.get("unableToProcessRequest"),"error")}});return b}function na(){return p(!1)}function Q(a){return q(a,function(a,c){var d=0;"html"===c&&a.html&&a.html.timestamp&&
a.html.timestamp.value&&(d=a.html.timestamp.value);return 0<d?d:!1})}function R(a){return q(a,function(a,c){var d=0;"html"===c&&a.html&&a.html.profileVersionTag&&a.html.profileVersionTag.value&&(d=a.html.profileVersionTag.value);return 0<d?d:!1})}function aa(a){return q(a,function(a,c){var d=0;"html"===c&&a.html&&a.html.privacySettingsVersionTag&&a.html.privacySettingsVersionTag.value&&(d=a.html.privacySettingsVersionTag.value);return 0<d?d:!1})}function da(a){return q(a,function(a,c){var d=0;"completenessLevel"===
c&&(d=a.completenessLevel);return 0<d?d:!1})}function q(a,b){var c,d=0;if(!$.isPlainObject(a))return d;for(c in a)if(d=b(a,c),!1===d&&(d=q(a[c],b)),d)break;return d}function L(a){var b;a=a[0].innerHTML.replace(/^\s*\x3c!--/,"").replace(/--\x3e\s*$/,"");b=$("\x3cdiv\x3e\x3c/div\x3e");b[0].innerHTML=a;y&&b.find("input[name\x3dtimestamp]").each(function(){$(this).val(y)});J&&b.find("input[name\x3dprofileVersionTag]").each(function(){$(this).val(J)});K&&b.find("input[name\x3dprivacySettingsVersionTag]").each(function(){$(this).val(K)});
return b}function M(a,b){a.append(b);LI.Controls.parseFragment(b[0]);a.find(".btn-secondary").removeClass("hidden");$.fn.ProfileEditSummary.immediatelyAppendToSummary();$.fn.ProfileEditPosition.resetForms();$.fn.ProfileEditEducation.resetForms()}function oa(){return y}function u(a){var b=$.fn.Profile;a&&($("input[name\x3dtimestamp]").each(function(){$(this).val(a)}),y=a,b.fire(b.EVENTS.TIMESTAMP_CHANGED))}function v(a){var b=$.fn.Profile;a&&($("input[name\x3dprofileVersionTag]").each(function(){$(this).val(a)}),
J=a);b.fire(b.EVENTS.TIMESTAMP_CHANGED,["profileVersionTag",a])}function D(a){var b=$.fn.Profile;a&&($("input[name\x3dprivacySettingsVersionTag]").each(function(){$(this).val(a)}),K=a,b.fire(b.EVENTS.TIMESTAMP_CHANGED))}function U(){var a=!1,b=E();b&&b.length&&b&&b.length&&b.data(F)&&(a=!0);return a}function E(){var a,b,c;$(V).each(function(){$(this).find("form").is(":visible")&&(a=$(this))});a&&(b=a.find("form"),b.length&&(c=b.first()));return c}function t(a,b){var c=a.offset().top-pa,d=!1;c&&$("html, body").animate({scrollTop:c-
12},300,function(){b&&!d&&(d=!0,b())})}function O(a){var b=$.fn.Profile;b.fire(b.EVENTS.FORM_OPENED,a)}function s(a){var b=$.fn.Profile;b.fire(b.EVENTS.FORM_CLOSED,a)}function N(a){var b;LI.Profile&&LI.Profile.accessibleAutofocus?a.attr("tabindex","-1").focus():(a=$(":input:visible:enabled:first",a),a.length&&(a.focus(),a.hasClass(qa)&&(a.blur(),a.focus()),b=a.val(),a.val("").val(b)))}function ma(a,b,c,d,e,g){var k=b.length,f=0;LI.Profile2.Section.AddRenderListener(function(a){(!0!==d||++f===k)&&
c&&c()});LI.Profile2.Section.UpdateSectionsWithResponse(a,b,null,g)}function la(){var a={certifications:"background-certifications",educations:"background-education",experience:"background-experience",honors:"background-honors",languages:"background-languages",organizations:"background-organizations",patents:"background-patents",projects:"background-projects",publications:"background-publications",scores:"background-test-scores",volunteering:"background-volunteering"},b;for(b in a)LI.Sortable.Region.setRegion(b,
a[b],null)}function ra(a,b){var c=$(".background-content");c.length||(c=$(document.body));LI.Profile2.Section.UpdateSectionsFromServer(x,b,c).done(function(a){u(Q(a));v(R(a))})}function sa(a){x=a}function ta(){return x}function ua(a){S=a}function va(a){var b=l,c=$(a.target),d;c.closest(".external-link").length||(c.closest(".js-add-entity").length?(a.preventDefault(),b=c=c.closest(".js-add-entity"),0<$("#"+z).length&&void 0===b.closest(l.section).data("allow-secondary-add")?(b=$("#"+z).attr("data-li-dialog-title"),
(b=new LI.Profile.DialogHelper(null,{name:z,content:{title:b,contentNode:z}}))&&b.showDialog()):(b=c.data("add-type"),C(b))):c.closest(".js-edit-add-section").length?(a.preventDefault(),a=c.closest("div.background-section"),a=a.find(b.editableItem),n(a)):c.hasClass("desc-action")||!(d=c.closest(b.field)).length||d.closest(b.editForm).length?!c.closest(b.preventEditAction).length&&c.closest(b.editActionArea).length?(a=c.closest(b.editableItem),n(a)):c.hasClass("btn-cancel")&&(a.preventDefault(),a=
c.closest(b.editableItem),a.length?X(a):(a=c.closest("div"+r),a.length&&Y(a))):(a.preventDefault(),wa(d)),c=c.closest("p.primary-profile-content"),c.length&&c.hasClass("expand-collapse")&&c.toggleClass("expand"))}function xa(a,b){b=b||0;a&&(a.focus(),setTimeout(function(){a.focus()},b))}function wa(a){var b=a.data("edit-field"),c=a.data("add-entity"),d=$.fn.Profile,e,g;b&&(e=function(){d.unbind(d.EVENTS.FORM_DISPLAYED,e);g=$("#"+b);xa(g,200)},d.bind(d.EVENTS.FORM_DISPLAYED,e));c&&d.SECTION_IDS[c]?
C(d.SECTION_IDS[c],!0):(a=a.closest(l.editableItem),n(a,b?!1:!0))}function ya(a){if(U())return LI.i18n.get("page-data-not-saved")}function za(a){var b=$(a.target),c=!1,d=$.fn.Profile;b.length&&(b.attr("type")&&"checkbox"===b.attr("type")?c=b.is(":checked")!==b.get(0).defaultChecked:b.val()!==b.get(0).defaultValue&&(c=!0),c&&(a=$(a.currentTarget).find("form").first(),a.data(F,!0),d.fire(d.EVENTS.FORM_MODIFIED)))}function Aa(){var a=$("#"+$.fn.Profile.SECTION_IDS.EXP);a.length&&(t(a),a.parent().attr("tabindex",
-1).focus())}function Ba(){var a=$("#"+$.fn.Profile.SECTION_IDS.EDU);a.length&&(t(a),a.parent().attr("tabindex",-1).focus())}function Ca(a,b){var c;p(!0).done(function(){c=e.find("#"+a);c.closest(".section").removeClass("hidden");P(c,b,_(n).bind(window,c))})}var e=$("#profile"),pa=$("#header,#layout-header").outerHeight(),F="form-dirty",z="addSecProfileSectionDialog",ja=5E3,y,J,K,x,S,I,w=$.Deferred(),m,qa="with-raw-summary",r=".profile-blank-form",B=".profile-blank-form-clone",V=".edit-form,"+r,ca=
"background-skills-container",l={topCard:{expField:"#overview-summary-current .field, #overview-summary-past .field",eduField:"#overview-summary-education .field"},section:".section",editableItem:".editable-item",preventEditAction:".prevent-edit-action",editActionArea:".edit-action-area",entity:".entity",field:".field",editForm:".edit-form"},fa={hasNoEntity:"has-no-entity"},T="my_profile_top_card my_profile_contact_info my_profile_badge my_profile_basic_info my_profile_summary my_profile_positions my_profile_educations my_profile_honors my_profile_test_scores my_profile_certifications my_profile_organizations my_profile_volunteering my_profile_additional_info my_profile_courses my_profile_languages my_profile_patents my_profile_publications my_profile_projects my_profile_skills my_profile_endorsements".split(" ");
(function(){var a=$.fn.Profile,b=a.EVENTS,c=l;e.on("click",va);e.on("click",c.topCard.expField,Aa);e.on("click",c.topCard.eduField,Ba);e.delegate(V,"keyup change blur",za);ia();$(window).bind("beforeunload",ya);a.bind(b.REFRESH_SECTIONS,ra);$.fn.ProfileEdit={setMapperBaseUrl:sa,getMapperBaseUrl:ta,showSection:C,initForms:na,handleSaveSuccess:Z,handleRemoveSuccess:ea,handleSaveFailure:ga,handleSaveException:ha,setIsFullLoad:ua,isPageDirty:U,getUpdatedTimestamp:oa,setUpdatedTimestamp:u,setUpdatedProfileVersionTag:v,
setUpdatedPrivacySettingsVersionTag:D,showGlobalAlert:H,showInnerSection:Ca};var d=e.attr("data-target-section");d&&window.fs.after("my_profile_background",function(){var a=$.fn.Profile.SECTION_IDS[d];a&&setTimeout(function(){$.fn.ProfileEdit.showSection(a,!0)},10)})})()});$(function(){function m(c){var a=$(c.target),e,d,f,g,h;a.closest("#background-experience").length?e=!0:a.closest("#background-education").length?d=!0:a.closest("#background-projects").length?f=!0:a.closest("#background-patents").length?g=!0:a.closest("#background-publications").length?h=!0:a.closest(".view-more-bar").length?(c.preventDefault(),b.find(".background-content").slideDown(500,function(){$(this).css({height:"auto",overflow:"auto"})}),b.removeClass(k),b.addClass(l)):a.closest(".view-less-bar").length&&
(c.preventDefault(),b.find(".background-content").slideUp(300,function(){$(this).css({height:"400px",overflow:"hidden"});$(this).show();$("html body").scrollTop($("#background").offset().top-80)}),b.removeClass(l),b.addClass(k));f||g||h?a.closest(".associated-list dt").length&&a.closest(".associated-list").toggleClass("associated-condensed"):(e||d)&&a.closest(".associated-term").length&&(c=a.closest(".associated-term"),c.toggleClass("associated-condensed"),c.next("dd").toggleClass("closed"),a=c.attr("data-trk-code"),
e=c.attr("data-trk-code-alt"),WebTracking.trackUserAction(a),c.attr("data-trk-code",e),c.attr("data-trk-code-alt",a))}function d(){b&&b.length||(b=$("#background"),b.length&&(b.find(".associated-list").each(function(b,a){$(a).find(".associated-overflow").length&&$(a).find("dt").css("cursor","pointer")}),b.on("click",m)))}var b,k="view-more",l="view-less";$.fn.ProfileBackground={init:d};d()});$(function(){function y(){z||(d=$(".right-fixed"),e=$(".insights"),s=$("#footer,#layout-footer"),m=$("#ad-right-bottom"),n=$("iframe",m),p=$("#header,#layout-header").outerHeight(),z=!0)}function D(){y();var a=s.offset().top,b,c;if(!0!==t||a!==q)q=a,d.length&&e.length&&(b=e.height(),c=d.height(),f&&b&&c&&(f=e.offset().top,f+b+c>=q?t=!0:(d.removeClass("hidden"),t=!1,a=$(document).scrollTop(),a+p+c+u>=q?E(d,c):(void 0===v&&(v=-1!==navigator.appVersion.indexOf("Mobile")),!v&&a+p>=f+b?(F(d),A&&G()):H(d)),
$.fn.ProfileAds.isFixedAdLoaded()||(b=B(d),c=$(window).height(),b&&0<b[1]&&b[1]<c&&($.fn.ProfileAds.loadFixedAd(),g=a,h=!1,setTimeout(function(){h=!0},k?k:r))))))}function E(a,b){var c=B(s)[1];a.css({top:c-b-u+"px",position:"fixed"})}function B(a){a=a.offset();var b=$(window);return[a.left-b.scrollLeft(),a.top-b.scrollTop()]}function F(a){$("hr",a).first().hide();a.css({top:p+u+"px",position:"fixed"})}function H(a){$("hr",a).first().show();a.css({top:"auto",position:"absolute"})}function G(){var a=
$(document).scrollTop();m&&n&&m.length&&n.length&&h&&-1!==g&&(l||(l=w),g+l<a||a<g-l)&&(n.attr("src",function(a,c){return c}),g=a,h=!1,setTimeout(function(){h=!0},k?k:r))}function I(){x=!0}function J(){x=!1}function K(a){A=a}function L(a){k=a||r}function M(a){l=a||w}var d,e,s,m,n,u=15,p,z=!1,C=!1,x=!0,t,v,f,q=-1,g=-1,h=!1,A=!1,r=3E3,w=2E3,k=r,l=w;(function(){var a=$.fn.Profile,b=a.EVENTS,c=$(window);c.scroll(function(a){x&&(C||($("\x3e hr",d).remove(),$("\x3chr/\x3e").insertBefore($("\x3e div",d)),
C=!0),D())});c.load(function(){y();f||!e.length||e.is(":hidden")||(f=e.offset().top)});a.bind(b.SWITCH_VIEW,I);a.bind([b.SWITCH_EDIT,b.SWITCH_EDIT_ON_LOAD],J);$.fn.RightFixed={setBottomAdRefreshEnabled:K,setBottomAdRefreshInterval:L,setBottomAdRefreshScrollPixel:M}})()});(function(c){var h="undefined"!==typeof window.console?window.console:{log:c.noop()};LI.define("Profile2");var l={my_profile_summary:"tl/apps/profile/my_profile/embed/summary_section",my_profile_basic_info:"tl/apps/profile/my_profile/embed/p2_basic_info",my_profile_positions:"tl/apps/profile/my_profile/embed/experience_section",my_profile_educations:"tl/apps/profile/my_profile/embed/education_section",my_profile_additional_info:"tl/apps/profile/my_profile/embed/additional_info_section",my_profile_headline:"tl/apps/profile/my_profile/embed/headline",
my_profile_headline_bi:"tl/apps/profile/my_profile/embed/headline_bi",my_profile_name:"tl/apps/profile/my_profile/embed/name",my_profile_name_bi:"tl/apps/profile/my_profile/embed/name_bi",my_profile_contact_info:"tl/apps/profile/my_profile/embed/contact_info",my_profile_location:"tl/apps/profile/my_profile/embed/location",my_profile_location_bi:"tl/apps/profile/my_profile/embed/location_bi",my_profile_badge:"tl/apps/profile/my_profile/embed/badge",my_profile_top_card:"tl/apps/profile/my_profile/embed/top_card",
my_profile_summary_upsell:"tl/apps/profile/my_profile/embed/summary_view_upsell",my_profile_honors:"tl/apps/profile/my_profile/embed/honors_section",my_profile_courses:"tl/apps/profile/my_profile/embed/courses_section",my_profile_test_scores:"tl/apps/profile/my_profile/embed/test_scores_section",my_profile_certifications:"tl/apps/profile/my_profile/embed/certification_section",my_profile_organizations:"tl/apps/profile/my_profile/embed/organizations_section",my_profile_patents:"tl/apps/profile/my_profile/embed/patents_section",
my_profile_publications:"tl/apps/profile/my_profile/embed/publications_section",my_profile_volunteering:"tl/apps/profile/my_profile/embed/volunteering_section",my_profile_projects:"tl/apps/profile/my_profile/embed/projects_section",my_profile_endorsements:"tl/apps/profile/my_profile/embed/endorsements",my_profile_references:"tl/apps/profile/my_profile/embed/references",my_profile_skills:"tl/apps/profile/my_profile/embed/skills_section",my_profile_languages:"tl/apps/profile/my_profile/embed/languages_section",
my_profile_recommended_sections:"tl/apps/profile/my_profile/embed/recommended_sections"},m={my_profile_top_card:["my_profile_basic_info","my_profile_badge"]};LI.Profile2.Section=function(a){this._config=c.extend({},a);this._$container=this._getContainer()};c.extend(LI.Profile2.Section,{UpdateSectionsWithResponse:function(a,b,d,g){var e,k=[],f=c.Deferred(),h=f.promise();if(a&&a.getResponseHeader)return e=a.getResponseHeader,e=e["X-FS-Template-Keys"]||e["x-fs-template-keys"]||e["X-Fs-Template-Keys"],
!b&&e?c.each(e.split(","),function(a,b){k.push(b.substring(b.indexOf("\x3d")+1))}):c.each(b,function(a,b){l[b]&&k.push(l[b])}),!1!==g?LI.Profile2.Render.getFizzyHeaderConcatTemplates(a,function(){LI.Profile2.Section._UpdateTemplatesWithData(a.responseText,k,d);f.resolve()}):(LI.Profile2.Section._UpdateTemplatesWithData(a.responseText,k,d),f.resolve()),h},UpdateSectionsFromServer:function(a,b,d){for(var g=c.Deferred(),e="x-a\x3d"+b.join(","),k=c.Deferred(),f=0,h=b.length;f<h;f++)m[b[f]]&&(e+=","+m[b[f]].join(","));
a+=(-1===a.indexOf("?")?"?":"\x26")+e;LI.asyncRequest("GET",a,{success:function(a){g.resolve(a)},custom:{exception:function(){g.reject();return!1}}});g.promise().done(function(a){LI.Profile2.Section.UpdateSectionsWithResponse(a,b,d).done(function(){k.resolve(a.responseText)})});return k.promise()},updateSectionsUsingBaseMapper:function(a,b){var d=c.fn.ProfileEdit.getMapperBaseUrl();if(d&&a)return LI.Profile2.Section.UpdateSectionsFromServer(d,a,b);h.log("Either baseUrl or sections is empty.")},AddRenderListener:function(a){LI.Profile2.Section._RenderListeners.add(a)},
RemoveRenderListener:function(a){LI.Profile2.Section._RenderListeners.remove(a)},_UpdateTemplatesWithData:function(a,b,d){var g=LI.Profile2.Section._Sections;c.each(b,function(b,c){var f;g[c]||(g[c]=new LI.Profile2.Section({templatePath:c,$sectionParent:d}));(f=g[c].render(a))&&f.done(function(){LI.Profile2.Section._RenderListeners.fire(c.substring(c.lastIndexOf("/")+1))})})},_Sections:{},_RenderListeners:c.Callbacks()});c.extend(LI.Profile2.Section.prototype,{render:function(a){var b=this,d=c.Deferred();
if(dust){if(dust.cache[this._config.templatePath])return dust.render(this._config.templatePath,a,function(a,c){if(a)h.log(a),d.reject();else{0===b._$container.closest("html").length&&(b._$container=b._getContainer());if(0===b._$container.length){if(!b._config.$sectionParent){d.reject();return}b._config.$sectionParent.append(c)}else b._$container.replaceWith(c);b._$container=b._getContainer();LI.Controls.parseFragment(b._$container.parent().get(0));d.resolve()}}),d;h.log("Could not render section template: ",
this._config.templatePath)}else h.log("Dust is needed in order to render this section.")},getAliasTemplate:function(a){return l.hasOwnProperty(a)?l[a]:null},_getContainer:function(){var a=this._config.templatePath,a=a.substring(a.lastIndexOf("/")+1);return c(document.body).find("div[data-li-template\x3d"+a+"]")}})})(jQuery);LI.define("ProfileSectionSkills");
LI.ProfileSectionSkills=function(p,b){function G(){LI.asyncRequest("GET",b.dataURL,{success:function(a){""!==a.responseText&&dust.render(b.templateName,a.responseText,function(a,b){a||(p.innerHTML=b,LI.Controls.parseFragment(p),u())})},custom:{exception:function(a){return!1}}})}function u(){var a=YDom.get("promote-endorsing");g=LI.Controls.getControl("promote-endorsing","LI.PostitActions");if(b.isActionAllowed)YEvent.on(Y$(".endorse-button",p),"click",H);YEvent.on(p,"click",function(a){var d=YEvent.getTarget(a);
if(b.enableEndorseCountAction&&(YDom.hasClass(d,v)||YDom.getAncestorByClassName(d,v))||YDom.hasClass(d,w)||YDom.getAncestorByClassName(d,w))YEvent.preventDefault(a),I(d)});if(a&&g)YEvent.on(a,"click",function(a){YDom.hasClass(YEvent.getTarget(a),"close-action")&&(g.close(),g=null)})}function x(){LI.asyncRequest("GET",b.facePilePicsAjaxUrl,{success:J,custom:{exception:function(a){return!1}}})}function J(a){var c,d,f,e,n,h=[];c=a.responseText;a=b.facePileEndorserIds.length;var m;if(c&&c.pictureUrlsMpr&&
c.pictureUrlsMpr.urls){n=c.pictureUrlsMpr.urls;for(c=0;c<a;c++){e=[];f=b.facePileEndorserIds[c];m=f.length;for(d=0;d<m;d++)e.push(n[f[d]]);h.push(e)}a=n[b.viewerId];var k,g,l;f=Y$("#profile-skills .skills-section")[0];e=YDom.getChildren(f);n=e.length;for(c=0;c<n;c++)for(k=e[c],d=Y$("img",k),m=d.length,l=YDom.hasClass(k,"endorsed-by-viewer"),k=0;k<m;k++)h[c][k]&&(g=1===b.distance?l?d[k]:d[k+1]:d[k])&&(g.src=h[c][k]);a&&(h=Y$(".viewer-pic",f),YDom.setAttribute(h,"src",a))}}function H(a){YEvent.preventDefault(a);
g&&(g.close(),g=null);K(YDom.getAncestorByClassName(YEvent.getTarget(a),y))}function s(a){var b=YDom.hasClass(a,"endorsed-by-viewer");z(a,b?-1:1);b?YDom.replaceClass(a,"endorsed-by-viewer","endorsable"):YDom.replaceClass(a,"endorsable","endorsed-by-viewer");return!b}function L(a,c,d){a=YAHOO.lang.merge(b.endorsementData,LI.getDataSet(a,!0));c=["endorsementCount\x3d1"];d="-"+(d||0)+"\x3d";var f,e;for(e in a)e&&YAHOO.lang.hasOwnProperty(a,e)&&(f=0===e.indexOf("li-")?e.slice(3):e,c.push(f+d+encodeURIComponent(a[e])));
return c.join("\x26")}function K(a){var c,d,f;!a||YDom.hasClass(a,"action-pending")||YDom.hasClass(a,"endorse-action-taken")||(YDom.addClass(a,"action-pending"),(c=s(a))&&A||!c&&B?(s(a),C(c?D:E),q(a)):(d=L(a,c),f=c?b.endorseURL:b.unendorseURL,LI.asyncRequest("POST",f,{success:function(e){e=e.responseText;var d=YDom.getAttribute(a,t);e=e&&e[d]&&c?e[d].endorsementID:"";var f,g;1===b.distance||c||(f=(d=Y$(".endorse-button",a,!0))&&d.parentElement,(g=Y$(".hr-line",a,!0))&&f.appendChild(g),f.removeChild(d));
a.setAttribute("data-endorsement-id",e);e=YDom.getAttribute(a,t);if(e=l[e])e.dirty=!0;q(a)},custom:{error:function(b){(b=b&&b[M])&&b[N]===O&&(s(a),C(b[P]));q(a)},exception:function(){q(a)}}},d)))}function q(a){YDom.removeClass(a,"action-pending");return!1}function I(a){var c=YDom.getAncestorByClassName(a,y),d=c?YDom.getAttribute(c,t):"";a=Y$(".num-endorsements",c,!0);parseInt(a.getAttribute("data-count"),10);a=l[d];WebTracking&&WebTracking.trackUserAction("endorsers_info_dialog_open");!YDom.hasClass(c,
r)&&d&&(a&&!a.dirty?LI.Dialog().open(a.config):(YDom.addClass(c,r),a=LI.addParams("",{recipientId:b.endorsementData.recipientId,skillName:encodeURIComponent(d)},!0),LI.asyncRequest("POST",b.dialogConfig.dustDataUrl,{success:function(a){a=a.responseText;var e,g,h;""!==a&&(e=YJson.parse(YJson.stringify(b.dialogConfig)),g=e.content,b.isSelf&&(h=b.isEdit?a.endorser_info_edit_dialog:a.endorser_info_dialog,h.isSelf=b.isSelf,h.skillName=d),g.dustData=a,a=new LI.Dialog,b.isSelf&&a.beforeOpenEvent.subscribe(function(a,
b){if(b[1]===e.name){var c=YDom.get("dialog-wrapper");c&&LI.Controls.parseFragment(c)}}),a.open(e),l[d]={config:e,skillItem:c,dirty:!1});YDom.removeClass(c,r)},custom:{exception:function(a){YDom.removeClass(c,r);return!1}}},a)))}function F(a){var b=a.hideItemName,d=a.hideEndorserId;a=a.isHidden;for(var f=l[b].config.content.dustData.endorser_info_dialog.endorsers,e=l[b].skillItem,g=Y$(".endorsers-pics li[data-endorser-id\x3d"+d+"]",e,!0),h=0,m=f.length;h<m;h++)if(b=f[h],b.memberID===d){b.isHidden=
a;break}z(e,a?-1:1);g&&a&&LI.fade(g)}function z(a,c){var d=Y$(".num-endorsements",a,!0),f=(parseInt(d.getAttribute("data-count"),10)||0)+c;d.setAttribute("data-count",f);d.innerHTML=f>b.maxEndorsementCount?b.i18nMaxEndorsements:f;f?YDom.replaceClass(a,"no-endorsements","has-endorsements"):YDom.replaceClass(a,"has-endorsements","no-endorsements");return f}function C(a){var c="",d="",f=Y$("#skills-error-alert")[0];a===D?(A=!0,d="endorse",c=b.i18nEndorseLimitExceeded):a===E&&(B=!0,d="unendorse",c=b.i18nUnendorseLimitExceeded);
window.WebTracking&&WebTracking.trackUserAction("prof-endrs-skills-limit-"+d);c&&(LI.GlobalAlertManager?LI.injectAlert({type:"error",message:c,dismissable:!0}):LI.injectAlert(c,"error",f,!1,!0))}var r="endorser-dlg-loading",y="endorse-item",w="see-all-endorsers",v="endorse-count",t="data-endorsed-item-name",M="blocked",P="blockedAction",N="blockedReason",O="actionLimitExceeded",D="endorsing",E="unendorsing",A=!1,B=!1,l={},g;b={templateName:b.templateName||null,dataURL:b.dataURL||null,endorseURL:b.endorseURL,
unendorseURL:b.unendorseURL,endorsementData:b.endorsementData,isActionAllowed:!!(b.endorseURL&&b.unendorseURL&&b.endorsementData),isSelf:!0===b.isSelf?!0:!1,isEdit:!0===b.isEdit?!0:!1,hideURL:b.hideURL,unhideURL:b.unhideURL,maxEndorsementCount:b.maxEndorsementCount,dialogConfig:b.dialogConfig||null,viewerId:b.viewerId,facePilePicsAjaxUrl:b.facePilePicsAjaxUrl||null,facePileEndorserIds:b.facePileEndorserIds||null,distance:b.distance,enableEndorseCountAction:"undefined"===typeof b.enableEndorseCountAction?
!0:b.enableEndorseCountAction,i18nMaxEndorsements:b.i18nMaxEndorsements,i18nEndorseLimitExceeded:b.i18nEndorseLimitExceeded,i18nUnendorseLimitExceeded:b.i18nUnendorseLimitExceeded};(function(){b.dataURL&&b.templateName?G():u();if(b.facePilePicsAjaxUrl&&b.facePileEndorserIds)YEvent.on(window,"load",function(){x();$.fn.Profile.bind($.fn.Profile.EVENTS.SKILLS_SECTION_RENDERED,x)});LI.MediatorFactory&&(LI.MediatorFactory.create("ToggleEndorsementVisibility").createEvent("hide_endorsement").subscribe(F),
LI.MediatorFactory.create("ToggleEndorsementVisibility").createEvent("unhide_endorsement").subscribe(F))})()};(function(d){LI.define("Profile2");var h="undefined"!==typeof window.console?window.console:{log:d.noop()};LI.Profile2.Render=function(){function k(a,b,c,e){a="string"===typeof a.responseText?d.parseJSON(a.responseText):a.responseText;a.content&&(a=a.content);dust.render(b,a,function(a,b){a?(h.log(a),e&&e(a)):c&&c(b)})}function f(a,b){var c,e;"function"===typeof a.getResponseHeader?e=a.getResponseHeader(b)||"":(c=a.getResponseHeader||{},c.hasOwnProperty(b)&&(e=c[b]));return e}var g={};d.extend(g,
{render:function(a){var b=a.response||{},c=a.template||"",e=a.success,d=a.error;b&&c&&this.getFizzyHeaderConcatTemplates(b,function(){k(b,c,e,d)})},getFizzyHeaderConcatTemplates:function(a,b){if(a){var c=[],e;(e=f(a,"X-FS-TL")||f(a,"x-fs-tl")||f(a,"X-Fs-Tl"))?(d.ajaxSetup({cache:!0}),d.each(e.split(","),function(a,b){c.push(d.getScript(d.trim(b)))}),d.ajaxSetup({cache:!1}),b&&d.when.apply(null,c).done(function(){b()})):b&&b()}}});return g}()})(jQuery);(function(a){a.define("Profile.GuidedEditTask");a.Profile.GuidedEditTask=function(){var a={"add_industry add_location confirm_location add_photo adjust_photo upload_photo update_headline":["my_profile_top_card"],"add_current_position add_position add_position_new end_current_position position_dates":["my_profile_positions","my_profile_top_card"],"add_descriptions_for_positions current_position_start_date":["my_profile_positions"],school_name:["my_profile_educations","my_profile_top_card"],"degree_and_major education_activities_and_societies education_dates education_description education_degree education_field_of_study":["my_profile_educations"],
"add_skills suggested_skills add_more_skills":["my_profile_skills"],"has_languages add_languages":["my_profile_languages"],add_summary:["my_profile_summary"],"has_projects project_name project_dates project_team_members project_description project_occupation project_url":["my_profile_projects"],"has_publications publication_name publication_dates publication_authors publication_publisher publication_summary publication_url":["my_profile_publications"],"has_certifications certification_name certification_authority certification_dates certification_license_number certification_url":["my_profile_certifications"],
"has_patents add_patent patent_inventors patent_date patent_url patent_description":["my_profile_patents"],add_courses:["my_profile_courses"],"add_treasury treasury_move":[],"add_volunteer_exp volunteer_exp_cause volunteer_exp_dates volunteer_exp_desc volunteer_opportunities volunteer_organizations volunteer_causes":["my_profile_volunteering"]},b;return{getUpdateSections:function(c){if(!b){var d;b={};for(var f in a){d=f.split(" ");for(var e=0;e<d.length;e++)0<d[e].length&&(b[d[e]]=a[f])}}c=c.toLowerCase();
return b.hasOwnProperty(c)?b[c]:null}}}()})(LI);LI.define("Profile.DialogHelper");
LI.Profile.DialogHelper=function(k,a){function l(){var c=a.content;c.showProgress=a.showProgress;var b={name:a.name,type:"interrupt",className:e,width:a.width,scrollTopOnOpen:!1,extra:a.extra,disableFocusOnClose:!0};b.content=a.content.contentNode?{title:a.content.title,node:a.content.contentNode}:{title:a.content.title,dustTemplate:a.tmpl,dustData:c};return b}function g(a){a.preventDefault()}function m(a){b.close()}function n(a){b.close()}function h(){if(dust.render){var c=l();b=new LI.Dialog;b.beforeOpenEvent.subscribe(function(b,
f){f[1]===c.name&&$(document).bind("mousewheel DOMMouseScroll",g);a.beforeOpenHandler&&a.beforeOpenHandler(b,f)});b.closeEvent.subscribe(function(a,b){b[1]===c.name&&$(document).unbind("mousewheel DOMMouseScroll",g)});b.submitEvent.subscribe(function(b,f){if(f[1]===c.name&&($(document).unbind("mousewheel DOMMouseScroll",g),a.submitFormId)){var d=LI.Controls.getControl(a.submitFormId,"FrontierAJAXForm");d&&(d.addSuccessHandler(m),d.addFailureHandler(n),d.submitForm(),a.showProgress&&(d=$("."+e),d.addClass("in-progress"),
d.find(".dialog-submit").attr("disabled","true")))}});b.open(c)}}a=$.extend({name:"",submitFormId:"",tmpl:"tl/apps/profile/v2/embed/dialog",width:"500",showProgress:!0,beforeOpenHandler:null,additionalClass:"",content:{title:"",message:"",message2:"",submitButton:"",cancelButton:"",contentNode:""}},a);var p=$(k),e="profile-dialog dialog-v2",b=null;a.additionalClass&&(e+=" "+a.additionalClass);(function(){p.on("click",function(a){a.preventDefault();h()})})();return{showDialog:h}};(function(){var d=window.jQuery||require("jquery"),g=window._||require("underscore"),m=window.dust||require("dust"),f=LIModules.imports("BaseControl"),q=LIModules.imports("BalloonCallout"),n=LIModules.imports("injectAlert"),r=LIModules.imports("parseQueryString"),s=LIModules.requires("Events"),k={SAVE_SUCCESS:"FREEMIUM_SAVE_SUCCESS",REMOVE_SUCCESS:"FREEMIUM_REMOVE_SUCCESS"},f=f.extend(function(f){var l,t=["#ad-slot-3","#text-ad-container",".textad"],u=["#preview-ctx"],h=LIModules.imports("MediaServerUploader");
return{beforeLoad:function(){!h&&this._config.selfView&&(this._config.dependencies=["scripts/shared/MediaServerUploader"])},afterLoad:function(){this._useDefaultsIfNeeded();this._renderModule()},setImage:function(a){a.url!==this._currentImage.url&&((this._config.originalIsCustomUpload||this._config.isCustomUpload)&&-1!==a.url.indexOf(".jpg")?(this._currentImage.url=a.url,this._$image.attr("src",this._currentImage.url).show()):this._$image.hide())},_preloadImage:function(a){var b=d.Deferred(),c=new Image,
e=this;c.onerror=function(){e._track("image_load_fail",{imageUrl:a});b.resolve(null)};c.onload=function(){b.resolve(c)};c.src=a;return b.promise()},setPosition:function(a){0<a.offsetY&&(a.offsetY=0);this._setMaxOffset();a.offsetY<this._maxOffset&&(a.offsetY=this._maxOffset);a.offsetY!==this._currentImage.offsetY&&(this._currentImage.offsetY=a.offsetY,this._$image.css("top",this._currentImage.offsetY))},_useDefaultsIfNeeded:function(){l=this._config.templateId||"tl/apps/profile/v2/embed/freemium_profile"},
_renderModule:function(){var a=this,b=function(b,e){b||(a._$body=d("body").prepend(e),a._initModule())};this._config.selfView?d.get(this._config.dataUrl).then(function(c){c.content&&(a._content=c.content.TopcardBackground,a._content.csrfToken=r(a._config.saveUrl).csrfToken,g.extend(a._content,a._config.i18n),m.render(l,a._content,b))},function(){a._showError()}):d(function(){m.render(l,a._config,b)})},_initModule:function(){this._originalMediaId=this._mediaId=this._config.mediaId;this._originalOffsetY=
-this._config.imageData.offsetY;this._config.originalIsCustomUpload=this._config.isCustomUpload;this._currentImage={};this._mediaIdSignature=null;this._cacheNodes();this._attachEventListeners();this._imageLoader=null;this._canUpload=!0;this._config.selfView&&this._initUploader();this._resetModule()},_cacheNodes:function(){this._$win=d(window);this._$doc=d(document);this._$wrap=d("#wrapper");this._$el=d("#freemium-bg");this._$image=this._$el.find(".freemium-bg-image");this._$textAd=d(t.join(","));
this._$hiddenOnEditElements=this._$textAd.add(u.join());this._$header=d("#header,#layout-header");this._$responsiveNav=d("#responsive-nav-scrollable,#header-navigation");this._config.isCustomUpload?this._$body.addClass("freemium-bg"):this._config.selfView&&this._config.uploadOnView&&this._$body.addClass("freemium-bg");this._config.selfView&&(this._$profile=d("#body \x3e .wrapper"),this._$uploadForm=this._$el.find(".freemium-bg-upload-form"),this._$uploadInput=this._$el.find(".freemium-bg-upload-input"),
this._$uploadClone=this._$uploadInput.clone(),this._$saveButton=this._$el.find(".freemium-bg-save-button"),this._$cancelButton=this._$el.find(".freemium-bg-cancel-button"),this._$removeButton=this._$el.find(".remove-image"),this._$editButton=this._$el.find(".freemium-bg-edit-button"),this._$changeArea=this._$el.find(".freemium-bg-change-button"),this._$drag=this._$el.find(".freemium-bg-drag-prompt"))},_attachEventListeners:function(){this._$win.on("scroll",this._onWindowScroll);this._config.selfView&&
(this._$el.on("click",".freemium-bg-upload-input",this._uploadClick).on("change",".freemium-bg-upload-input",this._uploadImage),this._$saveButton.on("click",this._saveImage),this._$cancelButton.on("click",this._resetModule),this._$removeButton.on("click",this._removeImage),this._$editButton.on("click",this._editBgClick),this._$uploadForm.on("mpr-upload-error",this._onUploadError).on("mpr-upload-success",this._onUploadSuccess),this._$doc.on("mousedown",this._onBackgroundMouseDown),this._$win.on("resize",
this._setScalingDimension),this._bindProfileEvents())},_bindProfileEvents:function(){g.has(d.fn,"Profile")?(d.fn.Profile.bind(d.fn.Profile.EVENTS.SWITCH_EDIT,this._onProfileEdit),d.fn.Profile.bind(d.fn.Profile.EVENTS.SWITCH_VIEW,this._onProfileView)):setTimeout(g.bind(this._bindProfileEvents,this),25)},_initUploader:function(){h||(h=LIModules.imports("MediaServerUploader"));this._uploader=new h(this._$uploadForm[0])},_uploadClick:function(a){this._track("custom_bg_browse")},_editBgClick:function(a){this._track("custom_bg_edit");
this._setState("edit");this._enableChangeBgUploader();this._$hiddenOnEditElements.hide()},_uploadImage:function(a){var b;if(b=d(a.currentTarget).val()){b=b.substring(b.lastIndexOf(".")+1).toLowerCase();switch(b){case "gif":case "jpg":case "jpeg":case "png":break;default:this._showError(this._config.errors.media);this._track("custom_bg_fail",{failureType:"INV_MEDIA"});return}if(window.File&&window.FileList&&(a=a.target.files[0],b=Math.max(1048576*(this._config.maxUploadSizeInMB||0),6291456),a.size>
b)){this._showError(this._config.errors.size);this._track("custom_bg_fail",{failureType:"SIZE"});return}this._setState("loading");this._$uploadForm.trigger("submit");this._track("custom_bg_open")}else this._track("custom_bg_cancel")},_setMaxOffset:function(){var a=this._$image.height();this._$image.width();var b=this._$el.height(),c=this._config.selfView;this._maxOffset=b-a;0<=this._maxOffset?(this._maxOffset=0,c&&this._$drag.css("display","none")):c&&this._$drag.css("display","")},_setScalingDimension:function(a){if(null!==
a){var b=g.has(a,"width")?a:this._$image[0];a=b.height;var c=this._$el.height(),b=b.width,e=this._$el.width();a/b<c/e?this._$image.addClass("freemium-bg-scale-height"):b<e&&this._$image.removeClass("freemium-bg-scale-height");"edit"===this._state&&this._enableChangeBgUploader();this._setMaxOffset();this._$image.position().top<this._maxOffset&&this.setPosition({offsetY:this._maxOffset})}},_checkImageSize:function(a){var b=383>a.height;(1260>a.width||b)&&n({message:this._config.i18n.i18n_recommended_size,
type:"warning",dismissable:!0,animate:!0})},_removeImage:function(a){this._track("custom_bg_remove");this._syncBackgroundSettings(!0)},_saveImage:function(a){this._track("custom_bg_save");this._syncBackgroundSettings()},_syncBackgroundSettings:function(a){var b=this,c=!0===a,e=!c,p=function(a){"fail"===a.status?(b._showError(),b._track("custom_bg_fail",{failureType:"MUTATOR"}),b._setState("edit")):(b._setState("edit-image"),b._originalMediaId=e?b._mediaId:"",b._originalOffsetY=e?Math.round(b._currentImage.offsetY):
0,b._config.isCustomUpload=e,b._config.originalIsCustomUpload=e,b._disableBgUploader(),b._track("photo_save_success"),s.trigger(c?k.REMOVE_SUCCESS:k.SAVE_SUCCESS),e||b._resetModule())};e||b._config.originalIsCustomUpload?this._mediaId?(this._setState("loading"),e||(b._mediaId=b._config.imageData.defaultImage,b._currentImage.offsetY=0),d.get(b._config.dataUrl).then(function(a){b._content.timestamp=a.content.TopcardBackground.timestamp;b._content.profileVersionTag=a.content.TopcardBackground.profileVersionTag;
b._content.privacySettingsVersionTag=a.content.TopcardBackground.privacySettingsVersionTag}).then(function(){d.ajax(b._config.saveUrl,{type:"POST",headers:{"X-IsAJAXForm":1},data:{bgEnabled:e,mediaID:e?b._mediaId:"",signature:e?b._mediaIdSignature:null,isCustomImage:e,yPos:b._currentImage.offsetY?Math.round(-b._currentImage.offsetY):0,timestamp:b._content.timestamp,changeCount:b._content.changeCount,locale:b._content.locale,profileVersionTag:b._content.profileVersionTag,privacySettingsVersionTag:b._content.privacySettingsVersionTag}}).then(p)})):
(this._track("custom_bg_fail",{failureType:"NULL_MEDIA"}),this._showError()):p({status:"okay"})},_showError:function(a){n({message:a||this._config.errors.defaultErr,type:"error",dismissable:!0,animate:!0})},_resetModule:function(){var a=this,b=this._getMediaUrl(this._originalMediaId),c;this._$hiddenOnEditElements.show();this._config.isCustomUpload=this._config.originalIsCustomUpload;this._config.selfView&&((c=((c=this._isInEditMode())||this._displayUploadOnView())&&this._config.showUploader)?(this._onProfileEdit(),
this._disableBgUploader(),this._config.isCustomUpload?this._setState("edit-image"):(this._setState("upload"),this._enableAddBgUploader())):this._onProfileView());this._config.originalIsCustomUpload&&this._preloadImage(b).then(function(c){a._setScalingDimension(c);a.setImage({url:b});a.setPosition({offsetY:a._originalOffsetY})})},_onUploadError:function(a,b){var c,e={failureType:b.error||"generic",uploadedFilename:this._getUploadedFileName()},d=this;switch(b.error){case "SIZE":c=this._config.errors.size;
break;case "INV_MEDIA":c=this._config.errors.media;break;case "DIMENSION":c=this._config.errors.dimension;break;case "TIME":if(this._canUpload){this._canUpload=!1;e.failureType="TIME_RETRY";this._track("custom_bg_fail",e);this._refreshHashInfo().then(function(){d._$uploadForm.trigger("submit")});return}}this._canUpload=!0;this._track("custom_bg_fail",e);this._showError(c);this._resetUploadInput();this._setState(this._lastState)},_refreshHashInfo:function(){var a=this._$el.find('[name\x3d"upload_info"]');
return d.get(this._config.dataUrl).then(function(b){a.val(b.content.TopcardBackground.hashInfoJS)})},_onUploadSuccess:function(a,b){var c=this._getMediaUrl(b.value),e=this._getUploadedFileName(),d=this;this._canUpload=!0;this._resetUploadInput();this._mediaId=b.value;b.sig&&(this._mediaIdSignature=b.sig);this._preloadImage(c).then(function(a){d._config.isCustomUpload=!0;d._setScalingDimension(a);d.setImage({url:c});d.setPosition({offsetY:0});d._setState("edit");d._checkImageSize(a);d._enableChangeBgUploader();
d._track("photo_upload_success",{returnedFilename:encodeURIComponent(c),uploadedFilename:e})})},_onBackgroundMouseDown:function(a){var b=this._$el.position().top,c=this._$el.outerHeight(!0),b=a.pageY>=b&&a.pageY<=b+c;if("edit"===this._state&&b)return this._maxOffset||this._setMaxOffset(),this._$doc.one("mouseup",this._onBackgroundMouseUp).on("mousemove",this._onBackgroundMouseMove),this._currentTracker=this._createMouseTracker(a.pageY,this._currentImage.offsetY||0),a.preventDefault(),!1},_onBackgroundMouseUp:function(a){this._$doc.off("mousemove",
this._onBackgroundMouseMove)},_onBackgroundMouseMove:function(a){a.preventDefault();this.setPosition({offsetY:this._currentTracker(a.pageY)})},_onUploadMouseMove:function(a){var b=this._$uploadInput,c=this._$header,d=0;this._$textAd.length?c=this._$textAd:this._$responsiveNav.length&&(c=this._$responsiveNav);d=c.offset().top+c.outerHeight(!0);a.pageY<d||this._intersectRect(a.pageX,a.pageY,this._$profile)||(this._handleCallout(a),b.offset({left:a.pageX-b.width()/2,top:a.pageY-b.height()/2}))},_onWindowScroll:function(){var a;
a=this._$el[0].getBoundingClientRect();0<a.top+a.height&&(a=this._$win.scrollTop()/2,this._$image.css({transform:"translateY("+a+"px)","-moz-transform":"translateY("+a+"px)","-webkit-transform":"translateY("+a+"px)"}))},_onProfileEdit:function(){this._config.showUploader&&(this._config.isCustomUpload?(this._setState("edit-image"),this._disableBgUploader()):(this._setState("upload"),this._enableAddBgUploader(),this._track("custom_bg_impr")),this._$body.removeClass("freemium-bg-view").addClass("freemium-bg"))},
_onProfileView:function(){this._disableBgUploader();this._config.isCustomUpload||this._config.uploadOnView?!this._config.isCustomUpload&&this._config.uploadOnView?(this._setState("upload"),this._enableAddBgUploader()):this._$body.addClass("freemium-bg-view"):(this._$body.removeClass("freemium-bg"),this._setState("view"))},_setState:function(a){this._lastState=this._state;this._state=a;this._$el.attr("class","");this._$el.addClass("freemium-bg-state-"+a);"edit"===a?this._$hiddenOnEditElements.hide():
this._$hiddenOnEditElements.show()},_createMouseTracker:function(a,b){return function(c){return b+c-a}},_getMediaUrl:function(a){return 0===a.indexOf("http")?a:this._config.mediaRoot.replace("mediaId",a)},_track:function(a,b){b=b||{};b.locale=this._content.locale||"na";var c=this._isInEditMode()?"profile_edit_":"profile_view_";WebTracking.trackUserAction(c+a,b)},_isInEditMode:function(){return this._$wrap.hasClass("edit-my-profile")},_enableChangeBgUploader:function(){this._$changeArea.offset();this._$el.offset();
this._$doc.off("mousemove");this._$uploadInput.removeClass("hover-mode").addClass("disabled")},_enableAddBgUploader:function(){this._initCallout();this._$uploadInput.removeClass("disabled").addClass("hover-mode");this._$doc.on("mousemove",this._onUploadMouseMove)},_disableBgUploader:function(){this._$doc.off("mousemove");this._$uploadInput.removeClass("hover-mode").addClass("disabled")},_resetUploadInput:function(){this._$uploadInput.replaceWith(this._$uploadClone.clone());this._$uploadInput=this._$el.find(".freemium-bg-upload-input")},
_intersectRect:function(a,b,c){if(!c)return!1;var d=c.offset();return a>=d.left&&a<=d.left+c.outerWidth(!0)&&b>=d.top&&b<=d.top+c.outerHeight(!0)},_initCallout:function(){this._$info||(this._$info=this._$el.find(".info"),this._callout=new q(this._$info.get(0),{id:this._$info.data("li-tooltip-id"),orientation:"top",width:"auto",type:"hovercard-callout"}))},_handleCallout:function(a){a=this._intersectRect(a.pageX,a.pageY,this._$info);!this._calloutEngaged&&a?(this._calloutEngaged=!0,this._callout.open(),
this._track("custom_bg_info")):!a&&this._calloutEngaged&&(this._calloutEngaged=!1,this._callout.close())},_displayUploadOnView:function(){return this._config.uploadOnView&&!this._config.isCustomUpload},_getUploadedFileName:function(){var a=this._$uploadInput.val().split(/(\\|\/)/g);return a?encodeURIComponent(a.pop()):null}}});f.EVENTS_API=k;LIModules.exports("FreemiumBg",f)})(window.require);(function(){function c(b,a){return b.write('\x3cdiv id\x3d"freemium-bg"\x3e\x3cform class\x3d"freemium-bg-upload-form" action\x3d"').reference(a.get(["link_media_upload"],!1),a,"h").write('" method\x3d"POST" enctype\x3d"multipart/form-data"\x3e\x3cinput class\x3d"freemium-bg-upload-input" id\x3d"backgroundImageFile" name\x3d"file" type\x3d"file" /\x3e\x3cinput type\x3d"hidden" name\x3d"upload_info" value\x3d"').reference(a.get(["hashInfoJS"],!1),a,"h").write('"/\x3e\x3cinput type\x3d"hidden" name\x3d"persist" value\x3d"true"/\x3e\x3cinput type\x3d"hidden" name\x3d"csrfToken" value\x3d"').reference(a.get(["csrfToken"],
!1),a,"h").write('"/\x3e').helper("eq",a,{block:d},{key:a.get(["lix_sign_response_enabled"],!1),value:"enabled"}).write('\x3c/form\x3e\x3cdiv class\x3d"freemium-bg-images"\x3e\x3cimg class\x3d"freemium-bg-image" src\x3d"" alt\x3d"image"/\x3e\x3c/div\x3e\x3cdiv class\x3d"freemium-bg-controls"\x3e\x3cdiv class\x3d"freemium-bg-controls-edit"\x3e\x3cbutton class\x3d"freemium-bg-cancel-button" title\x3d"').reference(a.get(["i18n_cancel"],!1),a,"h").write('" type\x3d"button"\x3e\x3c/button\x3e\x3cbutton class\x3d"remove-image" type\x3d"button"\x3e').reference(a.get(["i18n_remove"],
!1),a,"h").write('\x3c/button\x3e\x3clabel class\x3d"freemium-bg-change-button" for\x3d"backgroundImageFile"\x3e').reference(a.get(["i18n_change"],!1),a,"h").write('\x3c/label\x3e\x3cbutton class\x3d"freemium-bg-save-button" type\x3d"button"\x3e').reference(a.get(["i18n_save"],!1),a,"h").write('\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d"freemium-bg-upload-button info" data-li-tooltip-id\x3d"freemium-image-specs"\x3e\x3cp class\x3d"freemium-bg-upload-button-text"\x3e\x3cstrong\x3e').reference(a.get(["i18n_add_background"],
!1),a,"h").write('\x3c/strong\x3e\x3cdiv id\x3d"freemium-image-specs" class\x3d"callout-container"\x3e\x3cdiv class\x3d"callout-content"\x3e\x3cdiv class\x3d"callout-body"\x3e\x3cp\x3e').reference(a.get(["i18n_image_specs"],!1),a,"h").write('\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/p\x3e\x3c/div\x3e\x3cbutton class\x3d"freemium-bg-edit-button" type\x3d"button"\x3e').reference(a.get(["i18n_edit_background"],!1),a,"h").write('\x3c/button\x3e\x3cdiv class\x3d"freemium-bg-spinner"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')}
function d(b,a){return b.write('\x3cinput type\x3d"hidden" name\x3d"sign_response" value\x3d"true" /\x3e')}dust.register("tl/apps/profile/my_profile/embed/freemium_profile",c);return c})();(function(){dust.register("freemium_profile",dust.cache["tl/apps/profile/my_profile/embed/freemium_profile"])})();$(function(){function n(a){a=$(this);if(a.hasClass("recommended-section-photo"))a=$(LI.Controls.getControl("rec-sctn-photo-button","PhotoUploaderDialog")),a.off("save delete",e),a.on("save delete",e);else{var b;if(a.length){if(b=a.data("rec-sctn-div"))document.getElementById(b)&&f&&($("#"+b).hasClass("inner-section")?f.showInnerSection(b,!0):f.showSection(b,!0)),p.fixSectionDividers();(a=a.attr("data-edit-form"))&&WebTracking.trackUserAction(q+a+r)}}}function s(){var a=$(LI.Controls.getControl($(".edit-photo")[0],
"PhotoUploaderDialog"));a.off("save delete",e);a.on("save delete",e)}function e(){k()}function k(){var a=f.getMapperBaseUrl(),a=LI.addParams(a,{"x-a":"my_profile_recommended_sections"});LI.asyncRequest("GET",a,{success:function(a){t(a,"tl/apps/profile/my_profile/embed/recommended_sections")},failure:function(){LI.injectAlert(LI.i18n.get("i18n_failed_rec_sctn"),"error")}})}function t(a,b){var c=$(".recommended-sections-list-container").hasClass("state-viewless");dust.render(b,a.responseText,function(a,
b){!a&&g.length&&(g.replaceWith(b),g=d.find(".recommended-sections-container"),LI.Controls.parseFragment(g),c&&l())})}function l(){var a=LI.Controls.getControl("rec-sctn-view-toggle","ViewStateToggle");a&&a.expand()}function u(a){a=$(a.currentTarget);var b=d.find(v).height(),c;h||(c=$(m).eq(0),h=c.outerHeight()+parseInt(c.css("marginTop"),10)+parseInt(c.css("marginBottom"),10));Math.ceil((a.index()+1)/2)*h<=b||l()}var d=$("#recommended-sections"),g=d.find(".recommended-sections-container"),p=$.fn.Profile,
f=$.fn.ProfileEdit,h,q="npe-rec-sctn-",r="-form",m=".recommended-sections-all \x3e li",v="#rec-sctn-view-toggle";(function(){var a=m;d.on("click",a,n);d.on("focus",a,u);$("#top-card .edit-photo").on("click",s)})();LIModules.exports("Profile.RecommendedSection.refreshCards",k)});LI.define("PhotoUploaderDialog");
LI.PhotoUploaderDialog=function(B,c){function p(a){window.WebTracking&&window.WebTracking.trackUserAction&&window.WebTracking.trackUserAction(k.PREFIX+a)}function C(q,b){e.trigger(d.save,b);a.close()}function D(){e.trigger(d.cancel);a.close()}function E(){e.trigger(d["delete"]);a.close()}function r(){s();f.destroy();t(!1);l=f=null}function u(){p(k.CLOSED);m.removeClass(v.uploaderIsOpen);r()}function w(){p(k.OPENED);g=$(x.dialog);t(!0);c.alertView=a;f=new LI.PhotoUploader(g[0],c);l=$(f);l.on("save",
C).on("cancel",D).on("delete",E)}function s(){a&&(a.closeEvent.unsubscribe(u,b),a.contentChangeEvent.unsubscribe(w,b))}function y(){var q={content:{title:c.dialogTitle||LI.i18n.get("edit-photo-title"),dustDataUrl:"/profile/profile-photo-upload?id\x3d"+parseInt(c.memberID,10),dustTemplate:"tl/shared/photo_uploader/photo_uploader"},name:"photoUploadDialog",type:"task-modal",className:"dialog-v2 photo-upload-dialog",width:640,disableFocusOnClose:!0};m.addClass(v.uploaderIsOpen);a||(a=new LI.Dialog);
s();a&&(a.closeEvent.subscribe(u,b),a.contentChangeEvent.subscribe(w,b));a.open(q)}function t(a){g&&"boolean"===typeof a&&(a=a?"on":"off",g.find(x.visibilityOptions)[a](d.mouseenter,F))}function F(){this.scrollIntoView&&this.scrollIntoView()}function G(a){a.preventDefault();y()}var b,e,z,a,g,m,f,l,n=!1,A=!1,h="tl/shared/hidden_with_value tl/shared/default_hidden_params tl/shared/inputHidden tl/shared/inputs/inputFileImage tl/shared/photo_uploader/photo_uploader scripts/shared/PhotoUploader/PhotoUploader".split(" "),
H=["css!scss/modules/photo_editor","css!scss/modules/photo_uploader","css!scss/modules/photo_uploader_dialog"],x={dialog:".photo-upload-dialog",visibilityOptions:".visibility-options"},v={uploaderIsOpen:"photo-uploader-is-open"},d={click:"click","delete":"delete",save:"save",cancel:"cancel",mouseenter:"mouseenter"},k={PREFIX:"photo-uploader-dialog-",OPENED:"opened",CLOSED:"closed"};c=_.defaults(c||{},LI.photoUploaderDialogConfig);b={open:function(){if(!n)return A=!0,!1;y();return!0},close:function(){a&&
(r(),a.close())}};e=$(b);(function(){var a;c.loadCss&&(h=H.concat(h));require.ensure(h,function(c){_.forEach(h,function(b){0===b.indexOf("css!")&&(a=c(b))&&a.attach&&a.attach()});n||(n=!0,z=$(B),m=$(document.documentElement),z.on(d.click,G),A&&b.open())})})();return b};